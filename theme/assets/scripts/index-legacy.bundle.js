!function(){function t(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}System.register([],(function(e,i){"use strict";return{execute:function(){const e="base64:",s=/^'.*'$|^".*"$/,n=(t,e=2,i=!0)=>{const s=JSON.stringify(t,null,e);return i&&s?s.replace(/'/g,"&#39;"):s},o=t=>{let e=null;if(!t)return e;if(!r(t))return e;if(a(t))e=JSON.parse(t)||null;else try{e=JSON.parse(t.replace(/'/g,'"'))||null}catch(i){console.warn(`Can't parse json string of "${t}" `,i)}return e},r=t=>!(!t||"string"!=typeof t)&&("{"===(t=t.trim()).charAt(0)&&"}"===t.charAt(t.length-1)||"["===t.charAt(0)&&"]"===t.charAt(t.length-1)),a=t=>{if(!t||!r(t))return!1;try{const e=JSON.parse(t);return!(!Array.isArray(e)&&"object"!=typeof e)}catch(e){return!1}},l=(t,i=!1)=>{let n=0,a=t;if(void 0===t)return{type:n,value:void 0};if(null===t)return{type:n,value:null};if(s.test(t))a=l(t.slice(1,-1),i).value;else if("true"===t)a=!0;else if("false"===t)a=!1;else if("null"===t)a=null;else if("undefined"===t)a=void 0;else if(""===t)a=!!i||"";else if(isNaN(Number(t)))if((h=a)&&"string"==typeof h&&h.startsWith(e))a=(t=>{if("string"!=typeof t)return"Not a base64 string!";t.startsWith(e)&&(t=t.substring(e.length));const i=atob(t);let s;try{s=decodeURIComponent(i)}catch(n){s=i}return l(s,!1).value})(a);else if(r(a)){const t=o(a);a=t||a}else n=1;else a=Number(t),a>=Number.MAX_SAFE_INTEGER&&(a=t);var h;return{type:n,value:a}},h=t=>void 0===t,c=t=>!h(t),d=t=>c(t)&&"object"==typeof t&&null!==t,u=t=>t?.toString?t.toString():void 0,p=t=>!isNaN(parseFloat(t))&&!isNaN(t-0),m=t=>"boolean"==typeof t,f=t=>"string"==typeof t,g=t=>{if("number"==typeof t)return t;const e=t.replace(/[^-\d.]/g,"");return p(e)?Number(e):0},v=t=>t.replace(/[&<>'"]/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t]))),b=t=>{const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},w=t=>t.replace(/-([a-z0-9])/g,(t=>t[1].toUpperCase())),y=(t={},e={},...i)=>{const s=i=>{for(const s in i)Object.hasOwnProperty.bind(i)(s)&&(t.deep&&"[object Object]"===Object.prototype.toString.call(i[s])?e[s]=y(t,e[s],i[s]):t.keepValues?void 0===e[s]&&(e[s]=i[s]):t.onlyDefined?void 0!==i[s]&&(e[s]=i[s]):t.mergeArrays&&Array.isArray(e[s])&&Array.isArray(i[s])?e[s]=[...e[s],...i[s]]:e[s]=i[s])};for(let n=0;n<i.length;n++)s(i[n]);return e},_=(t,e)=>Array.isArray(e)?t?e.map((t=>_(!0,t))):e.slice():d(e)?y({deep:t},{},e):e,E=(t,e,i)=>{if(!e)throw new Error("Can't set attribute of "+e);const s=t.getAttribute(e);let o,r=!1;switch(typeof i){case"string":case"number":case"boolean":o=String(i);break;case"undefined":o=void 0;case"object":o=null===i?null:n(i,0);break;default:o=String(i)}return null==o?(t.removeAttribute(e),r=!0):s!==o&&(t.setAttribute(e,o),r=!0),{name:e,newValue:o,oldValue:s,changed:r}},S=t=>{const e=_(!1,t.dataset);for(const i in e)e[i]&&(e[i]=l(e[i],!0).value);return e},C=t=>{if(!t.hasChildNodes())return!1;const e=t.childNodes;return!!(1!==e.length||3!==e[0].nodeType||e[0].nodeValue&&""!==e[0].nodeValue?.trim())},x=t=>{const e=[];if("checkbox"===t.type)return t.checked;if("select-multiple"===t.type){const i=t.options;for(const t in i)if(i[t]){const s=i[t];s.selected&&e.push(s.value)}return e}return t.hasAttribute&&t.hasAttribute("contenteditable")?t.innerHTML:t.value},T=async t=>new Promise((e=>{let i;const s=()=>{void 0!==i&&clearTimeout(i),i=setTimeout((()=>{e()}),100)};t.removeEventListener("scroll",s),t.addEventListener("scroll",s,{passive:!0}),s()})),k=async(t,e=0,i=window,s="vertical",n="smooth")=>{i||(i=window);const o=T(i);let r=0,a=0;if(i.document)if("vertical"===s){const s=i.scrollY||i.pageYOffset;r=Math.round(t.getBoundingClientRect().top+s-e)}else{const s=i.scrollX||i.pageXOffset;a=Math.round(t.getBoundingClientRect().left+s-e)}else if("vertical"===s){const s=g(window.getComputedStyle(i).marginTop);r=Math.round(t.offsetTop-e-s)}else{const s=g(window.getComputedStyle(i).marginLeft);a=Math.round(t.offsetLeft-e-s)}return i.scroll({behavior:n,left:a,top:r}),o},A=t=>{if(t.document){const e=t,i=e.document;return e.scrollMaxY||Math.max(i.body.scrollHeight,i.body.offsetHeight,i.documentElement.clientHeight,i.documentElement.scrollHeight,i.documentElement.offsetHeight,0)}return t.scrollHeight},L=t=>{if(t.document){const e=t,i=e.document;return e.scrollMaxX||Math.max(i.body.scrollWidth,i.body.offsetWidth,i.documentElement.clientWidth,i.documentElement.scrollWidth,i.documentElement.offsetWidth)}return t.scrollWidth},I=async(t,e,i="vertical",s="smooth")=>{let n,o;if(!t)return;const r=T(t);if("vertical"===i||"both"===i)switch(e){case"start":n=0;break;case"end":n=A(t);break;case"center":n=A(t),n&&(n/=2,t.document?n-=(t.visualViewport?.height||0)/2:n-=t.clientHeight/2);break;default:n=e}if("horizontal"===i||"both"===i)switch(e){case"start":o=0;break;case"end":o=L(t);break;case"center":o=L(t),o&&(o/=2,t.document?o-=(t.visualViewport?.width||0)/2:o-=t.clientWidth/2);break;default:o=e}return t.scroll({behavior:s,top:n,left:o}),r},O=t=>t.target||t.currentTarget||t.relatedTarget||t.delegateTarget||t.fromElement,N=()=>{const t=Math.max(document.documentElement?document.documentElement.clientWidth:0,window.innerWidth||0);return{h:Math.max(document.documentElement?document.documentElement.clientHeight:0,window.innerHeight||0),w:t}},D=t=>{do{t+=~~(1e3*Math.random())}while(document.getElementById(t));return t},P=(t,e=!1,i=!1)=>{const s="string"==typeof t?t:t.localName,n=s.includes("-");if(n&&e&&customElements){const e=customElements.get(s);return!!e&&(!i||e===t.constructor)}return n},B=async t=>(await customElements.whenDefined(t.localName),t),M=t=>{if(!t)return-1;let e=0;do{e++,t=t.previousElementSibling}while(t);return e};class R{constructor(e){t(this,"elements",void 0),this.elements=e}registerAll(t){if(!d(t))throw new Error("Elements to register must be an object of elements");for(const e in t)if(t[e]&&"__esModule"!==e){const i=t[e];this.register(i,e)}return this.elements}}class F{static updateOptions(t){if(!t.adapters)throw new Error("adapters are required!");if(t.adapters&&(F.adapters={...F.adapters,...t.adapters},F.interfaces=Object.keys(F.adapters)),F.rootInterface=t.rootInterface||F.interfaces[0],!F.rootInterface)throw new Error("rootInterface is required!")}static tokenize(t,e){const i=[];let s,n,o={i:e,path:""};for(s=0;s<t.length;s++)n=t.charAt(s),~F.interfaces.indexOf(n)?(i.push(o),o={i:n,path:""}):o.path+=n;return i.push(o),i}static get(t,e){return F.adapters[t.i].get(e,t.path)}static set(t,e,i,s){t?F.adapters[e.i].observe(i,e.path,s):F.adapters[e.i].unobserve(i,e.path,s)}constructor(e,i,s){t(this,"keypath",void 0),t(this,"callback",void 0),t(this,"objectPath",void 0),t(this,"obj",void 0),t(this,"target",void 0),t(this,"key",void 0),t(this,"tokens",void 0),this.keypath=i,this.callback=s,this.objectPath=[];const n=this.parse();this.key=n.key,this.tokens=n.tokens,this.obj=this.getRootObject(e),this.target=this.realize(),d(this.target)&&F.set(!0,this.key,this.target,this.callback)}parse(){let t,e;if(!F.interfaces||!F.interfaces.length)throw new Error(`[Observer] Must define at least one adapter interface. interfaces: "${JSON.stringify(F.interfaces)}" adapters: "${JSON.stringify(F.adapters)}"`);if(~F.interfaces.indexOf(this.keypath[0])?(e=this.keypath[0],t=this.keypath.substr(1)):(e=F.rootInterface,t=this.keypath),this.tokens=F.tokenize(t,e),!this.tokens.length)throw new Error("[Observer] No tokens");return this.key=this.tokens.pop(),{key:this.key,tokens:this.tokens}}realize(){let t,e,i=this.obj,s=-1;for(let n=0;n<this.tokens.length;n++)e=this.tokens[n],d(i)?(void 0!==this.objectPath[n]?(t=this.objectPath[n],i!==t&&(F.set(!1,e,t,this),F.set(!0,e,i,this),this.objectPath[n]=i)):(F.set(!0,e,i,this),this.objectPath[n]=i),i=F.get(e,i)):(-1===s&&(s=n),t=this.objectPath[n],t&&F.set(!1,e,t,this));return-1!==s&&this.objectPath.splice(s),i}sync(){let t,e;const i=this.realize();i!==this.target?(d(this.target)&&F.set(!1,this.key,this.target,this.callback),d(i)&&F.set(!0,this.key,i,this.callback),t=this.value(),this.target=i,e=this.value(),(e!==t||Array.isArray(e))&&this.callback.sync()):Array.isArray(i)&&this.callback.sync()}value(){if(d(this.target))return F.get(this.key,this.target)}setValue(t){d(this.target)&&F.adapters[this.key.i].set(this.target,this.key.path,t)}unobserve(){let t,e;for(let i=0;i<this.tokens.length;i++)e=this.tokens[i],t=this.objectPath[i],t&&F.set(!1,e,t,this);d(this.target)&&F.set(!1,this.key,this.target,this.callback)}getRootObject(t){let e,i;if(!t.$parent)return t;for(e=this.tokens.length?this.tokens[0].path:this.key.path,i=t;i.$parent&&void 0===i[e];)i=i.$parent;return i}}t(F,"adapters",void 0),t(F,"interfaces",[]),t(F,"rootInterface",void 0);class $ extends R{constructor(e){super(e),t(this,"type","adapter")}register(t,e,i=!1){const s=i?e||t.name:t.name||e;if(!s)throw new Error("Adapter name not found!");this.elements[s]=t;const n={adapters:this.elements};return F.updateOptions(n),this.elements}}class H extends R{constructor(e){super(e),t(this,"type","binder")}register(t,e,i=!1){if(!t)throw new Error("No Binder passed to register!");const s=i?e||t.key:t.key||e;if(!s)throw new Error("Binder name not found!");return this.elements[s]=t,this.elements}}class z{static getNamespaces(){return Object.keys(this.instances)}static getInstance(t="main"){const e=z.instances[t];return e||new this(t)}static getAllInstances(){return z.instances}static clearInstance(t="main"){const e=z.instances[t];return e.events={},e.eventsOnce={},e}static deleteInstance(t="main"){this.clearInstance(t),delete this.instances[t]}static clearAllInstances(){const t=this.getNamespaces();for(const e of t)this.clearInstance(e)}static deleteAllInstances(){this.clearAllInstances(),this.instances={}}get namespace(){return this._namespace}constructor(e){if(t(this,"events",{}),t(this,"eventsOnce",{}),t(this,"_namespace","anonymous"),e)return z.instances[e]||(this._namespace=e,z.instances[e]=this),z.instances[e]}once(t,e,i){return this.eventsOnce[t]=this.eventsOnce[t]||[],void 0!==i?this.eventsOnce[t].push({cb:e.bind(i),orgCb:e,thisContext:i}):this.eventsOnce[t].push(e),this}on(t,e,i){return this.events[t]=this.events[t]||[],void 0!==i?this.events[t].push({cb:e.bind(i),orgCb:e,thisContext:i}):this.events[t].push(e),this}off(t,e,i){if(void 0===t)return this.events={},this.eventsOnce={},this;if(void 0!==e)if(void 0!==i){if(t in this.events)for(const[s,n]of this.events[t].entries()){const o=n;o.orgCb===e&&o.thisContext===i&&this.events[t].splice(s,1)}if(t in this.eventsOnce)for(const[s,n]of this.eventsOnce[t].entries()){const o=n;o.orgCb===e&&o.thisContext===i&&this.eventsOnce[t].splice(s,1)}}else{if(t in this.events)for(const[i,s]of this.events[t].entries()){s===e&&this.events[t].splice(i,1)}if(t in this.eventsOnce)for(const[i,s]of this.eventsOnce[t].entries()){s===e&&this.eventsOnce[t].splice(i,1)}}else this.events[t]=[],this.eventsOnce[t]=[];return this}trigger(t,...e){if(t in this.events)for(const i of this.events[t])i?.cb?i.cb(...e):i(...e);if(t in this.eventsOnce)for(const[i,s]of this.eventsOnce[t].entries())s?.cb?(s.cb(...e),this.eventsOnce[t].splice(i,1)):(s(...e),this.eventsOnce[t].splice(i,1));return this}}t(z,"instances",{});class j{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of CoreService not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of CoreService already defined!");return this._options=t,this.instance=new this,this.instance}static hasInstance(){return!!this.instance}}t(j,"_options",{}),t(j,"instance",void 0);class U{constructor(){t(this,"events",z.getInstance("lifecycle")),t(this,"debug",!1),t(this,"routerEvents",z.getInstance()),t(this,"timeout",null),t(this,"allBound",!1),t(this,"components",{}),this.addEventListeners(),this.reset(),U.instance=this}static getInstance(){return U.instance||(U.instance=new U),U.instance}getEmpty(){return{components:[]}}addEventListeners(){this.events.on("Component:connected",(t=>{t.options.ignore||(this.resetTimeout(),this.components[t.tagName]=this.components[t.tagName]||this.getEmpty(),this.components[t.tagName].components.push(t.component))})),this.events.on("Component:disconnected",(t=>{t.options.ignore||(this.resetTimeout(),this.checkStates())})),this.events.on("Component:afterBind",(t=>{t.options.ignore||(this.resetTimeout(),this.checkStates())})),this.events.on("Component:error",((t,e)=>{this.onError(t,e)})),this.routerEvents.on("newPageReady",((t,e,i,s,n,o,r)=>{this.debug&&console.debug("newPageReady",t,e,i,"firstPageLoad",r),r||this.reset()}))}getState(t){let e=0,i=0;for(const s of this.components[t].components)s.connected&&(e++,s.bound&&i++);return{connected:e,bound:i}}getStates(){const t={};for(const e in this.components){const i=this.getState(e);t[e]={state:i,components:this.components[e].components}}return t}checkStates(){let t=!0;const e=this.getStates();for(const i in e){const s=e[i].state;if(s.connected!==s.bound){t=!1;break}}return t&&!this.allBound&&this.onAllBound(),this.allBound=t,{states:e,allBound:t}}onAllBound(){this.clearTimeout(),this.events.trigger("ComponentLifecycle:allBound",this.components),this.debug&&console.debug("[ComponentLifecycle] All components bound!")}onError(t,e){this.clearTimeout(),console.error(`The component "${e.tagName}" has caused an error:`,t),this.events.trigger("ComponentLifecycle:error",t,e)}onTimeout(){this.clearTimeout();const t=this.getStates();let e="[ComponentLifecycle] Timeout! {count} component(s) takes too long!\nUnfinished components:\n",i=0;for(const s in t){const n=t[s].state;n.connected!==n.bound&&(i++,e+=`${s}: connected: ${t[s].state.connected}, bound: ${t[s].state.bound}\n`)}if(i<=0)return console.warn("No component found"),void this.events.trigger("ComponentLifecycle:noComponents");e=e.replace("{count}",i.toString()),this.events.trigger("ComponentLifecycle:error",new Error(e),{})}clearTimeout(){this.timeout&&window.clearTimeout(this.timeout)}resetTimeout(){return this.debug&&console.debug("[ComponentLifecycle] reset timeout.."),this.clearTimeout(),this.timeout=window.setTimeout(this.onTimeout.bind(this),j.options.lifecycle?.timeout||5e3),this.timeout}reset(){this.debug&&console.debug("[ComponentLifecycle] reset!"),this.allBound=!1,this.components={},this.resetTimeout()}}t(U,"instance",void 0);class W extends R{constructor(e){super(e),t(this,"type","components")}register(t,e,i=!1){const s=i?e||t.tagName:t.tagName||e;return s?(this.elements[s]=t,this.elements):(console.warn(new Error("Component name not found!"),t),this.elements)}}class q extends R{constructor(e){super(e),t(this,"type","formatter")}register(t,e,i=!1){const s=i?e||t.name:t.name||e;if(!s)throw new Error("Formatter name not found!");return this.elements[s]=t,this.elements}}class V{static setRequestHeaderEachRequest(t,e){this._requestHeadersEachRequest.push({name:t,value:e})}static async getJSON(t,e,i={},s={}){return this.fetch(t,"GET",e,"json",i,s)}static async post(t,e,i,s={},n={}){return this.fetch(t,"POST",e,i,s,n)}static async delete(t,e,i,s={},n={}){return this.fetch(t,"DELETE",e,i,s,n)}static async put(t,e,i,s={},n={}){return this.fetch(t,"PUT",e,i,s,n)}static async get(t,e,i,s={},n={}){return this.fetch(t,"GET",e,i,s,n)}static parseDataType(t){const e={};let i="application/x-www-form-urlencoded",s="*/*";switch(t){case"script":i="application/javascript";break;case"json":i="application/json",s="application/json, text/javascript";break;case"xml":i="application/xml",s="application/xml, text/xml";break;case"text":i="text/plain",s="text/plain";break;case"html":i="text/html",s="text/html";break;case"form":i="application/x-www-form-urlencoded"}return i&&(e["Content-Type"]=i,e.Accept=s),e}static async fetch(t,e="GET",i={},s,n={},o={}){if(!fetch)throw new Error("Your browser does not support the fetch API, use xhr instead or install a polyfill.");let r;for(const a of this._requestHeadersEachRequest)n[a.name]=a.value;s&&(n=y({deep:!1},n,this.parseDataType(s))),o.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");const l=o.cache?o.cache:"default";if("GET"===e&&i){if(new URLSearchParams(i).toString()){const e=t.includes("?")?"&":"?";t=t+e+new URLSearchParams(i).toString()}}else i&&(r="form"===s?new URLSearchParams(i):JSON.stringify(i));const h=await fetch(t,{credentials:"same-origin",cache:l,method:e,body:r,headers:n,mode:o.mode||"cors"});let c=await h.text();if("string"==typeof c&&a(c)&&(c=JSON.parse(c)),"string"==typeof c)switch(c){case"null":c=null;break;case"true":c=!0;break;case"false":c=!1;break;case"undefined":c=void 0}return{status:h.status,headers:h.headers,ok:h.ok,redirected:h.redirected,statusText:h.statusText,type:h.type,url:h.url,arrayBuffer:h.arrayBuffer,blob:h.blob,bodyUsed:h.bodyUsed,clone:h.clone,formData:h.formData,text:h.text,body:c}}}t(V,"_requestHeadersEachRequest",[]);const Y=Object.freeze(Object.defineProperty({__proto__:null,AdapterService:$,BindersService:H,ComponentService:W,CoreService:j,FormatterService:q,HttpService:V,LifecycleService:U},Symbol.toStringTag,{value:"Module"}));class Z{constructor(){t(this,"name","."),t(this,"counter",0),t(this,"weakmap",{})}weakReference(t){if(!Object.hasOwnProperty.bind(t)("__rv")){const e=this.counter++;Object.defineProperty(t,"__rv",{value:e})}return this.weakmap[t.__rv]||(this.weakmap[t.__rv]={callbacks:{}}),this.weakmap[t.__rv]}cleanupWeakReference(t,e){Object.keys(t.callbacks).length||t.pointers&&Object.keys(t.pointers).length||delete this.weakmap[e]}stubFunction(t,e){const i=t[e],s=this.weakReference(t),n=this.weakmap;t[e]=(...e)=>{const o=i.apply(t,e);return Object.keys(s.pointers).forEach((t=>{const e=s.pointers[t];n[t]&&Array.isArray(n[t].callbacks[e])&&n[t].callbacks[e].forEach((t=>{t.sync()}))})),o}}observeMutations(t,e,i){if(Array.isArray(t)){const s=this.weakReference(t);s.pointers||(s.pointers={},Z.ARRAY_METHODS.forEach((e=>{this.stubFunction(t,e)}))),s.pointers[e]||(s.pointers[e]=[]),-1===s.pointers[e].indexOf(i)&&s.pointers[e].push(i)}}unobserveMutations(t,e,i){if(Array.isArray(t)&&null!=t.__rv){const s=this.weakmap[t.__rv];if(s){const n=s.pointers[e];if(n){const o=n.indexOf(i);o>-1&&n.splice(o,1),n.length||delete s.pointers[e],this.cleanupWeakReference(s,t.__rv)}}}}observe(t,e,i){let s;const n=this.weakReference(t).callbacks;if(!n[e]){n[e]=[];const i=Object.getOwnPropertyDescriptor(t,e);i&&(i.get||i.set||!i.configurable)||(s=t[e],Object.defineProperty(t,e,{enumerable:!0,get:()=>s,set:i=>{if(i!==s){this.unobserveMutations(s,t.__rv,e),s=i;const n=this.weakmap[t.__rv];if(n){const s=n.callbacks[e];s&&s.forEach((t=>{t.sync()})),this.observeMutations(i,t.__rv,e)}}}}))}-1===n[e].indexOf(i)&&n[e].push(i),this.observeMutations(t[e],t.__rv,e)}unobserve(t,e,i){const s=this.weakmap[t.__rv];if(s){const n=s.callbacks[e];if(n){const o=n.indexOf(i);o>-1&&(n.splice(o,1),n.length||(delete s.callbacks[e],this.unobserveMutations(t[e],t.__rv,e))),this.cleanupWeakReference(s,t.__rv)}}}get(t,e){return t[e]}set(t,e,i){t[e]=i}}t(Z,"ARRAY_METHODS",["push","pop","shift","unshift","sort","reverse","splice"]);const G=new Z,K=Object.freeze(Object.defineProperty({__proto__:null,dotAdapter:G},Symbol.toStringTag,{value:"Module"})),X=()=>{let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t},Q=()=>{const t={},e=new Promise(((e,i)=>{t.resolve=e,t.reject=i}));return t.promise=e,t},J=(t,e=100)=>{let i,s;const n=new Promise(((t,e)=>{i=t,s=e}));let o;return(...r)=>(o||(o=((t,e=100)=>{let i;return(...s)=>{clearTimeout(i),i=setTimeout((()=>t(...s)),e)}})((()=>{try{i(t(...r)),o=void 0}catch(e){s(e)}}),e)),o(...r),n)},tt=(t,e)=>"number"==typeof e?J(t,e):(t=>{let e,i,s=null,n=new Promise(((t,s)=>{e=t,i=s}));return(...o)=>(s&&cancelAnimationFrame(s),s=window.requestAnimationFrame((()=>{try{e(t(...o))}catch(r){i(r)}s=null,n=new Promise(((t,s)=>{e=t,i=s}))})),n)})(t),et=(t,e=100)=>{let i,s,n=null,o=new Promise(((t,e)=>{i=t,s=e}));return(...r)=>{if(null===n){n=window.setTimeout((()=>{n=null,o=new Promise(((t,e)=>{i=t,s=e}))}),e);try{i(t(...r))}catch(a){s(a)}}return o}};!("undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node)&&"undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts&&(navigator,WorkerNavigator),"undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),"undefined"!=typeof Deno&&Deno.core;const it={};let st=!1;const nt="setImmediate$"+Math.random()+"$",ot=function(t){t.source===window&&"string"==typeof t.data&&0===t.data.indexOf(nt)&&rt(+t.data.slice(nt.length))};function rt(t){if(st)setTimeout(rt,0,t);else{const e=it[t];if(e){st=!0;try{!function(t){(0,t.callback)(...t.args)}(e)}finally{!function(t){delete it[t]}(t),st=!1}}}}window&&window.addEventListener("message",ot,!1);const at=async t=>{if(navigator.clipboard)try{await navigator.clipboard.writeText(t),console.log("Copying to clipboard was successful: "+t)}catch(e){console.error("Could not copy text: ",e)}else(t=>{const e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{const e=document.execCommand("copy")?"successful":"unsuccessful";console.log(`Fallback: Copying text command was ${e}: ${t}`)}catch(i){console.error("Fallback: Oops, unable to copy",i)}document.body.removeChild(e)})(t)},lt=()=>{const t=navigator.userAgent,e=window.navigator.platform,i={windows7:/Windows NT 6.1/,windows8:/Windows NT 6.2/,windows81:/Windows NT 6.3/,windows10:/Windows NT 10.0/,windows:/windows/i,windowsPhone:/trident/i,android:/android/i,ios:/(ipad|iphone|ipod)/i,linux:/(linux)/i,unix:/(openbsd|freebsd|netbsd)/i,osxCatalina:/macintosh.+10(_|\.)15/i,osxBigSur:/macintosh.+((10(_|\.)16)|(11(_|\.)))/i,osx:/macintosh/i,mac:/mac/i},s={linux:/Linux/i,unix:/(FreeBSD|OpenBSD|X11|SunOS)/i,webOS:/webOS/i,playstation3:/playstation 3/i,playstation4:/playstation 4/i,PlaystationPortable:/psp/i,newNintendo3Ds:/new nintendo 3ds/i,nintendoDsi:/nintendo dsi/i,nintendo3Ds:/nintendo 3ds/i,nintendoWii:/nintendo wii/i,nintendoWiiU:/nintendo wiiu/i,palmos:/palmos/i,symbian:/(nokia_series_40|s60|symbian)/i};for(const n of Object.keys(i)){if(i[n].test(t))return"mac"===n&&"ontouchend"in document?"ios":n}for(const n of Object.keys(s)){if(s[n].test(e))return n}return"Unknown"},ht=()=>{const t=lt();let e=!1,i=!1,s=!1;switch(t){case"windows":case"windows10":case"windows7":case"windows8":case"windows81":case"osxBigSur":case"osxCatalina":case"osx":case"mac":case"linux":case"unix":i=!0;break;case"ios":case"android":case"windowsPhone":case"symbian":e=!0}return(t.includes("playstation")||t.includes("nintendo"))&&(s=!0),{isMobile:e,isDesktop:i,isGameConsole:s}},ct=t=>{if(!t)return window.location;const e=document.createElement("a");return e.href=t,e},dt=t=>{const e=ct(t),i=ct().hostname;return e.hostname===i?{url:e.pathname+e.search+e.hash,location:e}:{url:ut(t),location:e}},ut=t=>{const e=ct(t);return e.protocol+"//"+e.host+e.pathname+e.search+e.hash},pt=(t,e=!1)=>{if(t){const i=ct(),s=ct(t);return(!e||i.search===s.search)&&(i.hostname===s.hostname&&i.pathname===s.pathname)}return!1},mt=t=>t.replace(/#.*/,""),ft=(t,e)=>{const i=ct(e),s=void 0!==t?t:i.port,n=i.protocol;return""!==s?Number(s):"http:"===n?80:"https:"===n?443:void 0},gt=t=>{if((e=t)&&(new RegExp("^(?:[a-z]+:)?//","i").test(e)||e.startsWith("mailto:")||e.startsWith("tel:")||e.startsWith("fax:"))){const e=ct(),i=e.protocol+"//"+e.hostname;let s=!0;return t.startsWith(i)&&(s=!1),s}var e;return!1},vt=/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g,bt=/\s+/;class wt{constructor(e,i,s,n,o,r,a){t(this,"name",void 0),t(this,"publishes",!1),t(this,"priority",0),t(this,"value",void 0),t(this,"observer",void 0),t(this,"view",void 0),t(this,"el",void 0),t(this,"type",void 0),t(this,"formatters",void 0),t(this,"formatterObservers",{}),t(this,"keypath",void 0),t(this,"args",void 0),t(this,"model",void 0),t(this,"marker",void 0),this.view=e,this.el=i,this.type=s,this.name=n,this.keypath=o,this.formatters=r,this.model=void 0,this.args=a&&s?this.getStarArguments(a,s):new Array}observe(t,e,i){return new F(t,e,i)}parseTarget(){if(this.keypath){const t=l(this.keypath,!0);if(0===t.type)this.value=t.value;else{if(1!==t.type)throw new Error(`[${this.name}] Unknown type in token`);this.observer=this.observe(this.view.models,this.keypath,this),this.model=this.observer.target}}else this.value=void 0}getIterationAlias(t){return"%"+t+"%"}parseFormatterArguments(t,e){return t.map((t=>l(t,!0))).map((({type:t,value:i},s)=>{if(0===t){return i}if(1===t){const t=i;this.formatterObservers[e]||(this.formatterObservers[e]={});let n=this.formatterObservers[e][s];return n||(n=this.observe(this.view.models,t,this),this.formatterObservers[e][s]=n),n.value()}throw new Error(`[${this.name}] Unknown argument type`)}))}formattedValue(t,e=0){if(null===this.formatters)throw new Error(`[${this.name} formatters is null`);let i=!1;const s=e?this.formatters.slice(e):this.formatters;return s.reduce(((e,n,o)=>{if(i)return e;const r=n.match(vt);if(null===r)return console.warn(new Error(`[${this.name}] No args matched with regex "FORMATTER_ARGS"!\nvalue: ${JSON.stringify(t)}\nresult: ${JSON.stringify(e)}\ndeclaration: ${JSON.stringify(n)}\nindex: ${o}\n`)),e;const a=r.shift();if(!a)throw new Error(`[${this.name}] No formatter id found in args!`);if(!this.view.options.formatters)throw new Error(`[${this.name}] No formatters are defined!`);const l=this.view.options.formatters[a];if(!l)throw new Error(`[${this.name}] No formatters with id "${a}" found!`);const h=this.parseFormatterArguments(r,o);return l&&"function"==typeof l.read&&(e=l.read.apply(this.model,[e,...h])),o<s.length-1&&e&&"function"==typeof e.then&&"function"==typeof e.catch?(i=!0,e.then((t=>this.formattedValue(t,o+1)))):e}),t)}eventHandler(t,e){const i=this.view.options.handler;return s=>{if(!i)throw new Error("No handler defined in binding.view.options.handler");i.call(t,this,s,this,e)}}set(t){try{t=this.formattedValue(t)}catch(e){return console.error(e),t}"function"==typeof this.routine&&(t&&"function"==typeof t.then&&"function"==typeof t.catch?t.then((t=>{this.routine(this.el,t)})).catch((t=>{console.error(t)})):this.routine(this.el,t))}sync(){this.observer?(this.model=this.observer.target,this.set(this.observer.value())):this.set(this.value)}publish(){if(this.observer){if(null===this.formatters)throw new Error("formatters is null");const t=this.formatters.reduceRight(((t,e,i)=>{const s=e.split(bt),n=s.shift();if(!n)throw new Error("id not defined");if(!this.view.options.formatters)return;const o=this.view.options.formatters[n],r=this.parseFormatterArguments(s,i);return o&&"function"==typeof o.publish&&(t=o.publish(t,...r)),t}),this._getValue(this.el));this.observer.setValue(t)}}_bind(){if(this.parseTarget(),this.bind){if("function"!=typeof this.bind)throw new Error("the method bind is not a function");this.bind(this.el)}this.view.options.preloadData&&this.sync()}_unbind(){this.unbind&&this.unbind(this.el),this.observer&&this.observer.unobserve(),Object.keys(this.formatterObservers).forEach((t=>{const e=this.formatterObservers[t];Object.keys(e).forEach((t=>{e[t].unobserve()}))})),this.formatterObservers={}}_update(t={}){this.observer&&(this.model=this.observer.target),"function"==typeof this.update&&this.update(t)}_getValue(t){return"function"==typeof this.getValue?this.getValue(t):x(t)}getStarArguments(t,e){const i=this.view.binderRegex(t);return e.match(i)?.slice(1)||[]}}t(wt,"key",""),t(wt,"block",!1);class yt extends wt{constructor(...e){super(...e),t(this,"function",!0),t(this,"priority",1e3)}bind(t){const e=this.args[0];t.classList.add(e)}routine(t,e){const i=this.args[0];e?(t.classList.add(i+"-start"),t.classList.remove(i+"-done")):(t.classList.remove(i+"-start"),t.classList.add(i+"-done"))}}t(yt,"key","animate-*");class _t extends wt{constructor(...e){super(...e),t(this,"function",!0),t(this,"priority",1e3),t(this,"staticClasses",void 0)}bind(t){const e=t.getAttribute("class")||"";this.staticClasses=e.split(" ")}unbind(){delete this.staticClasses}routine(t,e){e?-1===this.staticClasses?.indexOf(e)&&t.setAttribute("class",this.staticClasses.join(" ")+" "+e):this.staticClasses&&t.setAttribute("class",this.staticClasses.join(" "));const i=t.getAttribute("class");i&&t.setAttribute("class",i.trim())}}t(_t,"key","add-class");class Et extends wt{routine(t,e){const i=w(this.args[0].trim());this.view.models[i]=e}}t(Et,"key","assign-*");class St extends wt{routine(t,e){if("object"==typeof e)return y({deep:!1},this.view.models,e);console.warn("Value must be an object or propertyName is required")}}t(St,"key","assign");class Ct extends wt{routine(t,e){if(!this.type)throw new Error("Can't set attribute of "+this.type);const{newValue:i,oldValue:s,changed:n}=E(t,this.type,e);"src"===this.type&&"SOURCE"===t.tagName.toUpperCase()&&"VIDEO"===t.parentElement?.tagName.toUpperCase()&&t.parentElement.load(),n&&t.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:i,oldValue:s}}))}}t(Ct,"key","attr-*");class xt extends wt{routine(){}}t(xt,"key","block"),t(xt,"block",!0);class Tt extends wt{constructor(...e){super(...e),t(this,"publishes",!0),t(this,"priority",2e3),t(this,"onChange",this.publish.bind(this))}bind(t){t.addEventListener("change",this.onChange)}unbind(t){t.removeEventListener("change",this.onChange)}routine(t,e){let i;this._getValue?i=this._getValue(t):(console.warn("this._getValue is not a function, this: ",this),i=x(t)),"radio"===t.type?t.checked=u(i)===u(e):i!==e&&(t.checked=!!e)}getValue(t){return x(t)}}t(Tt,"key","checked");class kt extends wt{routine(t,e){if(null===this.args)throw new Error("args is null");const i=t.getAttribute("class")||"",s=i.split(" ").filter((t=>""!==t)),n=this.args[0].trim(),o=s.indexOf(n);-1===o?e&&t.setAttribute("class",`${i} ${n}`):e||t.setAttribute("class",s.filter(((t,e)=>e!==o)).join(" "))}}t(kt,"key","class-*");const At='[componentAttributeBinder] You can only use the "rv-co-*" binder on Riba components, but "{tagName}" is not registered.';class Lt extends wt{constructor(...e){super(...e),t(this,"publishes",!0),t(this,"componentAttributeObserver",void 0),t(this,"attributeName",void 0)}__routine(t,e){const i=this.args[0].trim();t.setBinderAttribute?t.setBinderAttribute(i,e):console.warn(At.replace("{tagName}",t.tagName),t)}async routine(t,e){P(t,!0,!0)?this.__routine(t,e):P(t,!0)?(await B(t),this.__routine(t,e)):console.warn(At.replace("{tagName}",t.tagName),t)}__bind(t){this.attributeName=this.args[0].toString().trim(),"function"==typeof t.observeAttribute?this.componentAttributeObserver=t.observeAttribute(this.attributeName,{sync:()=>{this.publish()}}):console.warn(At.replace("{tagName}",t.tagName),t)}async bind(t){P(t,!0,!0)?this.__bind(t):P(t,!0)?(await B(t),this.__bind(t)):console.warn(At.replace("{tagName}",t.tagName),t)}unbind(){this.componentAttributeObserver?.unobserve()}getValue(t){const e=this.args[0].trim();return t.getBinderAttribute(e)}}t(Lt,"key","co-*");class It extends wt{routine(t,e){t.disabled=!!e}}t(It,"key","disabled");class Ot extends wt{constructor(...e){super(...e),t(this,"enable",!1),t(this,"onDrag",this._onDrag.bind(this))}_onDrag(t){this.enable||t.preventDefault()}routine(t,e){this.enable=e,t.setAttribute("draggable",e?"true":"false")}bind(t){t.addEventListener("dragstart",this.onDrag,!0)}unbind(t){t.removeAttribute("draggable"),t.removeEventListener("dragstart",this.onDrag,!0)}}t(Ot,"key","draggable");class Nt extends wt{routine(t,e){t.data=null!=e?e:""}}t(Nt,"key","mustache-text");const Dt=0,Pt=1,Bt=/((?:'[^']*')*(?:(?:[^|']*(?:'[^']*')+[^|']*)+|[^|]+))|^$/g;function Mt(t,e){let i=null;const s=t.length;let n=0,o=0;const r=e[0],a=e[1];for(;o<s;){if(n=t.indexOf(r,o),n<0){i&&i.push({type:Dt,value:t.slice(o)});break}{if(i=i||[],n>0&&o<n&&i.push({type:Dt,value:t.slice(o,n)}),o=n+r.length,n=t.indexOf(a,o),n<0){const e=t.slice(o-r.length),s=i[i.length-1];s&&s.type===Dt?s.value+=e:i.push({type:Dt,value:e});break}const e=t.slice(o,n).trim();i.push({type:Pt,value:e}),o=n+a.length}}return i}function Rt(t,e,i){let s=!1;if(e.nodeType===Node.TEXT_NODE){let n=null;if(e.data&&(n=Mt(e.data,i)),n&&n.length){for(let i=0;i<n.length;i++){const s=n[i],o=document.createTextNode(s.value);e.parentNode&&o&&e&&e.parentNode.insertBefore(o,e),s.type===Pt&&t.buildBinding(o,null,s.value,Nt,null)}e.parentNode&&e.parentNode.removeChild(e)}s=!0}else e.nodeType===Node.ELEMENT_NODE&&(s=t.traverse(e));if(!s&&e.childNodes&&e.childNodes.length>0)for(let n=0;n<e.childNodes.length;n++){const s=e.childNodes[n];s&&Rt(t,s,i)}}class Ft{static create(t,e,i){const s=t.el.cloneNode(!0),n=new Ft(s,e,t.view.options);return n.bind(),t?.marker?.parentNode?t.marker.parentNode.insertBefore(s,i):console.warn("[View]: No parent node for binding!"),n}constructor(e,i,s){if(t(this,"els",void 0),t(this,"models",void 0),t(this,"options",void 0),t(this,"bindings",[]),t(this,"webComponents",[]),Array.isArray(e)?this.els=e:this.els=[e],this.models=i,this.models.$root)for(const t of Object.keys(this.models.$root))Ft.$rootScope[t]=this.models.$root[t];this.models.$root=Ft.$rootScope,this.options=s,this.build()}bind(){this.bindings.forEach((t=>{t._bind()}))}unbind(){Array.isArray(this.bindings)&&this.bindings.forEach((t=>{t._unbind(),t.el,this.options.removeBinderAttributes})),Array.isArray(this.webComponents)&&this.webComponents.forEach((t=>{"function"==typeof t.unbind&&t.unbind()}))}sync(){this.bindings.forEach((t=>{t.sync&&t.sync()}))}publish(){this.bindings.forEach((t=>{t.publishes&&t.publish&&t.publish()}))}update(t={}){Object.keys(t).forEach((e=>{this.models[e]=t[e]}));for(const e of this.bindings)e._update&&e._update(t)}build(){if(this.bindings=[],!this.options.templateDelimiters)throw new Error("templateDelimiters required");const t=this.els;for(let e=0;e<t.length;e++){const i=t[e];i&&Rt(this,i,this.options.templateDelimiters)}this.bindings.sort(Ft.bindingComparator)}startsWithPrefix(t){const e=this.options.fullPrefix;if(!e)throw new Error("prefix is required");for(const i of e)if(t.startsWith(i))return i}binderRegex(t){let e;return e=(t.match(/\*/g)?.length||0)>1?new RegExp(`^${t.replace("*","([^-]*)").replaceAll("-*","-(.+)")}$`):new RegExp(`^${t.replaceAll("*","(.+)")}$`),e}bindBinders(t,e,i=this.options.attributeBinders){let s=!1;if(!this.options.binders)return s;const n=[];for(let o=0,r=t.length;o<r;o++){let r="",a=null;const l=t[o],h=this.startsWithPrefix(l.name);if(h){let t="";if(r=l.name.slice(h.length),this.options.binders[r]&&(a=this.options.binders[r]),null===a)for(let e=0;e<i.length;e++){t=i[e];if(this.binderRegex(t).test(r)){a=this.options.binders[t];break}}if(null===a&&(this.options.binders["*"]?(a=this.options.binders["*"],t="*"):a=Ct),a.block)return this.buildBinding(e,r,l.value,a,t),e.removeAttribute&&this.options.removeBinderAttributes&&e.removeAttribute(l.name),s=!0,s;n.push({attr:l,Binder:a,nodeName:r,identifier:t})}}for(let o=0;o<n.length;o++){const t=n[o];this.buildBinding(e,t.nodeName,t.attr.value,t.Binder,t.identifier),e.removeAttribute&&this.options.removeBinderAttributes&&e.removeAttribute(t.attr.name)}return s}bindComponent(t){let e=!1;if(!this.options.components)return e;const i=t.nodeName.toLowerCase(),s=this.options.components[i];return s?(this.registerComponent(s,i),e=!0):this.options.blockUnknownCustomElements&&P(t)&&!i.endsWith("-page")&&(e=!0),e}traverse(t){let e=this.options.blockNodeNames.includes(t.nodeName);if(e)return e;const i=t.attributes;return i&&this.options.binders&&(e=this.bindBinders(i,t),e)||e||t._bound||!this.options.components||(e=this.bindComponent(t)),e}buildBinding(t,e,i,s,n){const o=function(t){const e=t.match(Bt);if(null===e)throw new Error("[View] No matches");const i=e.map((t=>t.trim()));return{keypath:i.shift()||void 0,pipes:i}}(i),r=o.keypath,a=o.pipes;this.bindings.push(new s(this,t,e,s.key,r,a,n))}registerComponents(){for(const t in this.options.components)if(this.options.components[t]&&!customElements.get(t)){const e=this.options.components[t];this.registerComponent(e,t)}}registerComponent(t,e){if(!customElements)throw console.error("customElements not supported by your browser!"),new Error("customElements not supported by your browser!");const i=e||t.tagName;customElements.get(i)||customElements.define(t.tagName,t)}}t(Ft,"$rootScope",{}),t(Ft,"bindingComparator",((t,e)=>{const i=t.priority||0;return(e.priority||0)-i}));class $t extends wt{constructor(...e){super(...e),t(this,"priority",4e3),t(this,"iterated",[])}bind(t){this.marker?this.iterated.forEach((t=>{t.bind()})):(this.marker=window?.document?.createComment(` riba: ${this.type} `),t.parentNode?.insertBefore&&this.marker&&(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))}unbind(){this.iterated&&this.iterated.forEach((t=>{t.unbind()}))}routine(t,e){if(null===this.args)throw new Error("args is null");let i=!1;const s=w(this.args[0].toString());if(e=e||[],Array.isArray(e)||"object"!=typeof e||null===e||(e=Object.entries(e).map((([t,e])=>({key:t,value:e}))),i=!0),!Array.isArray(e))throw new Error(`each-${this.args[0]} needs an array or object to iterate over, but it is ${typeof e}`);const n=t.getAttribute("index-property")||this.getIterationAlias(s);e.forEach(((t,e)=>{const o={$parent:this.view.models};i?(o[n]=t.key,o[s]=t.value):(o[n]=e,o[s]=t);let r=this.iterated[e];if(r)if(r.models[s]!==t){let i,a=this.iterated[e];for(let n=e+1;n<this.iterated.length;n++)if(a=this.iterated[n],a.models[s]===t){i=n;break}if(void 0!==i){if(this.iterated.splice(i,1),!this.marker||!this.marker.parentNode?.insertBefore)throw new Error("Marker has no parent node");a&&a.els[0]&&r.els[0]&&this.marker.parentNode.insertBefore(a.els[0],r.els[0]),a.models[n]=e}else a=Ft.create(this,o,r.els[0]);this.iterated.splice(e,0,a)}else r.models[n]=e;else{let t;if(this.iterated.length?t=this.iterated[this.iterated.length-1].els[0]:this.marker&&(t=this.marker),!t)return;r=Ft.create(this,o,t.nextSibling),this.iterated.push(r)}})),this.iterated.length>e.length&&((t,e)=>{for(let i=0;i<t;i++)e()})(this.iterated.length-e.length,(()=>{const t=this.iterated.pop();if(!t)throw new Error("view is undefined!");if(t.unbind(),!this.marker||!this.marker.parentNode)throw new Error("Marker has no parent node");this.marker.parentNode.removeChild(t.els[0])})),"OPTION"===t.nodeName&&this.view.bindings&&this.view.bindings.forEach((t=>{this.marker&&t.el===this.marker.parentNode&&"value"===t.type&&t.sync&&t.sync()}))}update(t){const e={};Object.keys(t).forEach((i=>{if(null===this.args)throw new Error("args is null");i!==this.args[0]&&(e[i]=t[i])})),this.iterated.forEach((t=>{t.update(e)}))}}t($t,"key","each-*"),t($t,"block",!0);class Ht extends wt{constructor(...e){super(...e),t(this,"publishes",!0)}bind(){this.publish()}routine(){}getValue(t){return t}}t(Ht,"key","element");class zt extends wt{routine(t,e){t.disabled=!e}}t(zt,"key","enabled");class jt extends wt{constructor(...e){super(...e),t(this,"priority",9e4)}routine(t,e){const i=Array.from(t.children);i.sort(((t,i)=>t.dataset.sortBy&&i.dataset.sortBy?t.dataset.sortBy<i.dataset.sortBy?e?1:-1:t.dataset.sortBy>i.dataset.sortBy?e?-1:1:0:0));for(let s=0;s<i.length;s++){i[s].style.order=s.toString()}}}t(jt,"key","flex-sort-childs");class Ut extends wt{routine(t,e){t.style.display=e?"none":"",e?t.setAttribute("hidden","true"):t.removeAttribute("hidden")}}t(Ut,"key","hide");class Wt extends wt{routine(t,e){"string"!=typeof e&&(null==e?e="":"function"==typeof e?.toString?e=e.toString():(console.warn("[HtmlBinder] Value is not a string",e),e=JSON.stringify(e))),t.innerHTML=e||""}}t(Wt,"key","html");class qt extends wt{constructor(...e){super(...e),t(this,"priority",4e3),t(this,"attached",!1),t(this,"nested",void 0)}bind(t){this.marker?this.nested&&this.nested.bind():(this.marker=window?.document?.createComment(" riba: "+this.type+" "+this.keypath+" "),this.attached=!1,t.parentNode?.insertBefore&&(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))}unbind(){this.nested&&this.nested.unbind()}routine(t,e){(e=!!e)!==this.attached&&(e?(this.nested||(this.nested=new Ft(t,this.view.models,this.view.options),this.nested.bind()),this.marker&&this.marker.parentNode&&this.marker.parentNode.insertBefore(t,this.marker.nextSibling),this.attached=!0):(t.parentNode&&t.parentNode.removeChild(t),this.attached=!1))}update(t){this.nested&&this.nested.update(t)}}t(qt,"key","if"),t(qt,"block",!0);class Vt extends wt{routine(t,e){"number"==typeof e?(t.setAttribute("maxlength",e.toString()),t.maxLength=e):t.removeAttribute("maxlength")}}t(Vt,"key","maxlength");class Yt extends wt{constructor(...e){super(...e),t(this,"function",!0),t(this,"priority",1e3),t(this,"handler",void 0)}unbind(t){if(this.handler){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.removeEventListener(e,this.handler)}}routine(t,e){if(null===this.args)throw new Error("args is null");const i=this.args[0],s={passive:"true"===this.el.dataset.passive};this.handler&&t.removeEventListener(i,this.handler,s),this.handler=this.eventHandler(e,t).bind(this),t.addEventListener(i,this.handler,s)}}t(Yt,"key","on-*");class Zt extends wt{routine(){}bindIntern(t){t.setBinderAttribute?t.setBinderAttribute("$parent",this.view.models):console.warn("[parentBinder] You can only use this binder on Riba components",t.localName,customElements.get(t.localName))}async bind(t){P(t,!0,!0)?this.bindIntern(t):P(t,!0)?(console.info(`[parentBinder] CustomElement ${t.localName} has been defined, but is not yet upgraded. Waiting for upgrade..`,t),await B(t),this.bindIntern(t)):console.warn("[parentBinder] You can only use this binder on Riba components",t.localName)}}t(Zt,"key","parent");class Gt extends wt{routine(t,e){e=!!e,t.readOnly=e,e?t.setAttribute("readonly",""):t.removeAttribute("readonly")}}t(Gt,"key","readonly");class Kt extends wt{constructor(...e){super(...e),t(this,"staticClassesString",void 0)}bind(t){this.staticClassesString=t.className}routine(t,e){const i=new RegExp(`\\b${e}\\b`,"g");if(!this.staticClassesString)throw new Error("staticClassesString is undefined!");t.className=this.staticClassesString.replace(i,"").trim()}}t(Kt,"key","remove-class");class Xt extends wt{routine(t,e){t.style.display=e?"":"none",e?t.removeAttribute("hidden"):t.setAttribute("hidden","true")}}t(Xt,"key","show");class Qt extends wt{routine(t,e){const i=this.args[0];let s=t.getAttribute("srcset");if("string"!=typeof s&&(s=""),"string"==typeof e&&e.length>0){s+=`${s.length>0?", ":""}${e} ${i}`}else{let t=s.split(",");t=t.map((t=>t.trim())),t=t.filter((t=>!t.includes(i))),s=t.join(", ")||""}t.setAttribute("srcset",s)}}t(Qt,"key","srcset-*");class Jt extends wt{routine(t,e){const i="background-image";null==e||""===e?t.style.removeProperty(i):t.style.setProperty(i,`url(${e})`)}}t(Jt,"key","style-background-image");class te extends wt{routine(t,e){const i=this.args[0];null==e||""===e?t.style.removeProperty(i.toString()):t.style.setProperty(i.toString(),e)}}t(te,"key","style-*");class ee extends wt{routine(t,e){if(e)if("string"==typeof e)t.setAttribute("style",e);else for(const i of Object.keys(e))t.style.setProperty(i.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)),e[i]||null);else for(const i of Object.keys(t.style))t.style.removeProperty(i)}}t(ee,"key","style");class ie extends wt{constructor(...e){super(...e),t(this,"priority",-1e3),t(this,"originalTag",void 0)}bind(t){this.originalTag=t.tagName.toLowerCase()}routine(t,e){if(null===this.args)throw new Error("args is null");const i=this.el.tagName.toLowerCase();let s;if(e)s=this.args[0].trim().toLowerCase();else{if(!this.originalTag)throw new Error("Tag name not found!");s=this.originalTag.toLowerCase()}if(i!==s){const e=document.createElement(s);for(;t.childNodes.length>0;)t.firstChild&&e.appendChild(t.firstChild);const i=Array.prototype.slice.call(t.attributes);for(const t of i)e.setAttribute(t.name,t.value);t.parentNode?t.parentNode.replaceChild(e,t):console.warn("No parent"),this.el=e}}}t(ie,"key","tag-*");class se extends wt{constructor(...e){super(...e),t(this,"nested",void 0)}bind(t){this.nested=new Ft(t,this.view.models,this.view.options)}routine(t,e){this.nested?.unbind(),t.innerHTML=e||"",this.nested=new Ft(t,this.view.models,this.view.options),this.nested?.bind()}unbind(){this.nested?.unbind()}update(t){this.nested?.update(t)}}t(se,"key","template");class ne extends wt{routine(t,e){"string"!=typeof e&&"function"==typeof e?.toString&&(e=e.toString()),t.textContent=e||""}}t(ne,"key","text");class oe extends wt{constructor(...e){super(...e),t(this,"propertyKey",void 0)}toggle(){this.propertyKey&&(this.view.models[this.propertyKey]=!this.view.models[this.propertyKey])}bind(t){const e=this.args[0],i="true"===this.el.dataset.passive;t.addEventListener(e,this.toggle,{passive:i})}unbind(t){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.removeEventListener(e,this.toggle)}routine(t,e){if(null===this.args)throw new Error("args is null");this.propertyKey=e}}t(oe,"key","toggle-on-*");class re extends wt{constructor(...e){super(...e),t(this,"publishes",!0),t(this,"priority",2e3),t(this,"onChange",this.publish.bind(this))}bind(t){t.addEventListener("change",this.onChange)}unbind(t){t.removeEventListener("change",this.onChange)}routine(t,e){"radio"===t.type?t.checked=u(t.value)!==u(e):t.checked=!e}getValue(t){return x(t)}}t(re,"key","unchecked");class ae extends qt{routine(t,e){return super.routine(t,!e)}}t(ae,"key","unless");class le extends wt{constructor(...e){super(...e),t(this,"publishes",!0),t(this,"priority",3e3),t(this,"event",void 0),t(this,"onChange",this.publish.bind(this))}getData(t){const e={type:t.type,tagName:t.tagName,contenteditable:!!t.getAttribute("contenteditable"),isRadio:!1,isOption:!1};return e.isRadio="INPUT"===e.tagName&&"radio"===e.type,e.isOption="OPTION"===e.tagName,e}bind(t){if("OPTION"===t.tagName)return;if(!this.getData(t).isRadio){this.event=t.getAttribute("event-name")||"change input paste blur focus";const e=this.event.split(" ");for(const i of e)t.addEventListener(i.trim(),this.onChange,!1)}}unbind(t){if(this.event){const e=this.event.split(" ");for(const i in e)t.removeEventListener(i.trim(),this.onChange)}}routine(t,e){let i=this.getValue(t);if(Array.isArray(e)||(e=null!=e?u(e):""),Array.isArray(i)||(i=null!=i?u(i):""),i===e)return;const s=this.getData(t);if(s.isRadio||s.isOption)return E(t,"value",e);if("select-multiple"===t.type){if(Array.isArray(e))for(let n=0;n<t.options.length;n++){const i=t.options[n];i.selected=e.indexOf(i.value)>-1}}else t.getAttribute("contenteditable")?t.innerHTML=e:t.value=e}getValue(t){return x(t)}}t(le,"key","value");const he=Object.freeze(Object.defineProperty({__proto__:null,AddClassBinder:_t,AnimateStarBinder:yt,AssignBinder:St,AssignPropertyBinder:Et,AttributeBinder:Ct,BlockBinder:xt,CheckedBinder:Tt,ClassStarBinder:kt,ComponentAttributeBinder:Lt,DisabledBinder:It,EachStarBinder:$t,ElementBinder:Ht,EnabledBinder:zt,FlexSortChildsBinder:jt,HideBinder:Ut,HtmlBinder:Wt,IfBinder:qt,MaxlengthBinder:Vt,NoDragBinder:Ot,OnEventBinder:Yt,ParentBinder:Zt,ReadonlyBinder:Gt,RemoveClassBinder:Kt,ShowBinder:Xt,SrcsetSizeBinder:Qt,StyleBackgroundImageBinder:Jt,StyleBinder:ee,StyleStarBinder:te,TagStarBinder:ie,TemplateBinder:se,TextBinder:ne,ToggleOnEventBinder:oe,UncheckedBinder:re,UnlessBinder:ae,ValueBinder:le},Symbol.toStringTag,{value:"Module"}));class ce{constructor(e,i,s,n){t(this,"binder",void 0),t(this,"component",void 0),t(this,"formatter",void 0),t(this,"adapter",void 0),this.binder=new H(e),this.component=new W(i),this.formatter=new q(s),this.adapter=new $(n)}register(t){if(!t)throw console.error(t),new Error("The Riba module is falsy!");t.binders&&this.binder.registerAll(t.binders),t.components&&this.component.registerAll(t.components),t.formatters&&this.formatter.registerAll(t.formatters),t.adapters&&this.adapter.registerAll(t.adapters)}}class de{static handler(t,e,i,s){if(!this||!this.call){const t=new Error(`[rv-${i.type}="${i.keypath}"] Event handler "${i.keypath}" not found!"`);throw console.error(t,i,s,i.view.models),t}this.call(t,e,i.view.models,s)}set prefix(t){if(Array.isArray(t)){this._prefix=[],this._fullPrefix=[];for(const e of t)this._prefix.push(e),this._fullPrefix.push(e+"-")}}get prefix(){return this._prefix}get fullPrefix(){return this._fullPrefix}constructor(){if(t(this,"module",void 0),t(this,"lifecycle",U.getInstance()),t(this,"binders",{}),t(this,"components",{}),t(this,"formatters",{}),t(this,"adapters",{}),t(this,"parseTemplate",Mt),t(this,"parseType",l),t(this,"templateDelimiters",["{","}"]),t(this,"rootInterface","."),t(this,"preloadData",!0),t(this,"removeBinderAttributes",!0),t(this,"blockNodeNames",["SCRIPT","STYLE","TEMPLATE","CODE"]),t(this,"blockUnknownCustomElements",!0),t(this,"_prefix",["rv"]),t(this,"_fullPrefix",["rv-"]),this.module=new ce(this.binders,this.components,this.formatters,this.adapters),de.instance)return de.instance;de.instance=this}configure(t){if(t)for(const[e,i]of Object.entries(t))switch(e){case"binders":this.binders={...this.binders,...i};break;case"formatters":this.formatters={...this.formatters,...i};break;case"components":this.components={...this.components,...i};break;case"adapters":this.adapters={...this.adapters,...i};break;case"prefix":this.prefix=i;break;case"parseTemplate":this.parseTemplate=i;break;case"parseType":this.parseType=i;break;case"templateDelimiters":this.templateDelimiters=i;break;case"rootInterface":this.rootInterface=i;break;case"preloadData":this.preloadData=i;break;case"blockNodeNames":this.blockNodeNames=i;break;case"blockUnknownCustomElements":this.blockUnknownCustomElements=Boolean(i);break;default:console.warn("Option not supported",e,i)}}getViewOptions(t){const e={adapters:{},binders:{},components:{},formatters:{},attributeBinders:[],rootInterface:{}};if(t&&(e.binders={...e.binders,...t.binders},e.formatters={...e.formatters,...t.formatters},e.components={...e.components,...t.components},e.adapters={...e.adapters,...t.adapters}),t?.prefix&&Array.isArray(t?.prefix)){e.prefix=[],e.fullPrefix=[];for(const i of t.prefix)e.prefix.push(i),e.fullPrefix.push(i+"-")}else e.prefix=this.prefix,e.fullPrefix=this.fullPrefix;if(e.templateDelimiters=t?.templateDelimiters||this.templateDelimiters,e.rootInterface=t?.rootInterface||this.rootInterface,e.removeBinderAttributes="boolean"==typeof t?.removeBinderAttributes?t.removeBinderAttributes:this.removeBinderAttributes,e.blockNodeNames=t?.blockNodeNames||this.blockNodeNames,e.preloadData="boolean"==typeof t?.preloadData?t.preloadData:this.preloadData,e.handler=t?.handler||de.handler,e.binders={...this.binders,...e.binders},e.formatters={...this.formatters,...e.formatters},e.components={...this.components,...e.components},e.adapters={...this.adapters,...e.adapters},e.attributeBinders||(e.attributeBinders=[]),e.binders){const t=Object.keys(e.binders).filter((t=>t.indexOf("*")>=1));e.attributeBinders.push(...t)}return e}bind(t,e={},i){const s=this.getViewOptions(i);F.updateOptions(s);const n=new Ft(t,e,s);return n.bind(),n}}t(de,"instance",void 0),window.Riba=de;const ue=Symbol();function pe(t){return null}const me=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function fe(t){if(!t)return"";const{tag:e,props:i,children:s}=t;if("function"==typeof e)return e===pe?String(i.html):fe(e(Object.assign({children:s},i)));const o=[];if(e!==ue){o.push("<",e);for(const[t,s]of Object.entries(i??{}))null!=s&&("boolean"!=typeof s||P(e)?o.push(" ",t,"=",n(s)):s&&o.push(" ",t))}let r=!1;return s.length&&(r=!0,e!==ue&&o.push(">"),function t(e){for(const i of e)i&&(Array.isArray(i)?t(i):"string"==typeof i||"number"==typeof i?o.push(v(i.toString())):o.push(fe(i)))}(s)),e!==ue&&(r?o.push("</",e,">"):me.has(e)?o.push("/>"):o.push("></",e,">")),o.join("")}globalThis.jsxCreateElement=function(t,e,...i){return{tag:t,props:e,children:i}},globalThis.jsxFragment=ue;class ge extends HTMLElement{constructor(){super(),t(this,"_debug",!1),t(this,"_color",void 0),t(this,"templateLoaded",!1),t(this,"observedAttributesToCheck",{}),t(this,"observedAttributes",[]),this._debug&&(this._color=X())}remove(){this&&this.parentElement&&this.parentElement.removeChild(this)}_log(t,...e){const i=this.constructor.name||this.tagName;this._color||(this._color=X()),((t,...e)=>{const i=[];t.color?(t.namespace?i.push(`%c[${t.namespace}] ${t.mode.toUpperCase()}: `):i.push(`%c${t.mode.toUpperCase()}: `),i.push(`color: ${t.color}`)):t.namespace?i.push(`[${t.namespace}] ${t.mode.toUpperCase()}: `):i.push(`${t.mode.toUpperCase()}: `),i.push(...e),console[t.mode](...i)})({namespace:i,color:this._color,mode:t},...e)}info(...t){return this._log("info",...t)}debug(...t){if(this._debug)return this._log("debug",...t)}error(...t){console.error(...t)}requiredAttributes(){return[]}async init(t){this.loadAttributes(t),this.getPassedObservedAttributes(t)}ready(){return this.allPassedObservedAttributesAreInitialized()&&this.checkRequiredAttributes()}attributeIsPassed(t){return this.hasAttribute(t)}getPassedObservedAttributes(t){const e=this.observedAttributesToCheck;for(const i of t)e[i]?e[i].passed||(e[i].passed=this.attributeIsPassed(i)):e[i]={passed:!1,initialized:!1}}allPassedObservedAttributesAreInitialized(){return Object.keys(this.observedAttributesToCheck).every((t=>!this.observedAttributesToCheck[t]?.passed||this.observedAttributesToCheck[t]?.initialized))}checkRequiredAttributes(){return this.requiredAttributes().every((t=>(t=w(t),this.scope.hasOwnProperty(t)&&void 0!==this.scope[t])))}parseAttribute(t){let e=t;if("string"!=typeof t)return t;if("true"===t)e=!0;else if("false"===t)e=!1;else if("null"===t)e=null;else if("undefined"===t)e=void 0;else if(""===t)e=void 0;else if(isNaN(Number(t))){const t=o(e);e=t||e}else e=Number(t),e>=Number.MAX_SAFE_INTEGER&&(e=t);return e}eventHandler(t){return function(e,i,s,n){if(!this||!this.call){const t=new Error(`[rv-${s.type}="${s.keypath}"] Event handler "${s.keypath}" not found!"`);throw console.error(s,n),t}this.call(t,i,s.view.models,n)}}connectedCallback(){}disconnectedCallback(){}async attributeChangedCallback(t,e,i,s){this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),i=this.parseAttribute(i);const n=w(t);this.scope&&this.scope[n]&&(e=this.scope[n]),this.scope[n]=i,this.parsedAttributeChangedCallback(n,e,i,s)}parsedAttributeChangedCallback(t,e,i,s){this.debug("parsedAttributeChangedCallback called",t,e,i,s)}adoptedCallback(t,e){this.debug("adoptedCallback called",t,e)}async loadTemplate(){if(!0===this.templateLoaded)return null;if(!this.checkRequiredAttributes())return this.debug("Not all required attributes are set to load the template"),null;this.templateLoaded=!0;const t=await this.template();try{return t&&(t instanceof HTMLElement?(this.innerHTML="",this.appendChild(t)):"string"==typeof t?this.innerHTML=t:t.tag&&(this.innerHTML=fe(t))),t}catch(e){throw this.templateLoaded=!1,e}}async beforeTemplate(){}async afterTemplate(t){this.debug("afterTemplate",t)}async onReady(){}observe(t,e){return new F(this.scope,t,e)}observeAttribute(t,e){const i=w(t);return this.observe(i,e)}setBinderAttribute(t,e,i=null){const s=w(t),n=this.scope[s];this.attributeChangedCallback(t,n,e,i)}getBinderAttribute(t){const e=w(t);return this.scope[e]}loadAttributes(t){const e=this.attributes;for(const i in e){const s=e[i],n=s.nodeName;if(-1!==t.indexOf(n)){const t=s.nodeValue;this.attributeChangedCallback(n,void 0,t,null)}}}}t(ge,"tagName",void 0);class ve extends ge{get binds(){return this._binds}get bound(){return this._bound}get connected(){return this._connected}get disconnected(){return this._disconnected}constructor(){super(),t(this,"view",null),t(this,"riba",void 0),t(this,"_binds",!1),t(this,"_bound",!1),t(this,"_connected",!1),t(this,"_disconnected",!1),t(this,"lifecycleEvents",z.getInstance("lifecycle")),t(this,"lifecycleOptions",{}),t(this,"autobind",!0),this.lifecycleEvents.trigger("Component:constructor",this.getLifecycleEventData()),this.lifecycleEvents.on("ComponentLifecycle:allBound",this.afterAllBind,this)}async init(t){try{return await super.init(t),this.lifecycleEvents.trigger("Component:init",this.getLifecycleEventData()),await this.bindIfReady()}catch(e){this.throw(e)}}throw(t){t.message&&console.error(`[${this.tagName}] ${t.message}`),this.lifecycleEvents.trigger("Component:error",t,this.getLifecycleEventData()),this.error(t)}async bindIfReady(){if(this.ready()){await this.beforeTemplate();const t=await this.loadTemplate();return await this.afterTemplate(t),this.autobind&&await this.bind(),void(await this.onReady())}this.debug("Not all required or passed attributes are set to load and bind the template",this.observedAttributesToCheck,this.scope)}async _beforeBind(){this._binds=!0,this.debug("Start to bind Riba"),this.lifecycleEvents.trigger("Component:beforeBind",this.getLifecycleEventData())}async beforeBind(){}async _afterBind(){this._binds=!1,this._bound=!0,this.lifecycleEvents.trigger("Component:afterBind",this.getLifecycleEventData())}async afterBind(){}async afterAllBind(){}getLifecycleEventData(){return{tagName:this.tagName.toLowerCase(),component:this,options:this.lifecycleOptions}}disconnectedCallback(){try{this._disconnected=!0,this._connected=!1,super.disconnectedCallback(),this.lifecycleEvents.trigger("Component:disconnected",this.getLifecycleEventData()),this.lifecycleEvents.off("ComponentLifecycle:allBound",this.afterAllBind,this),this.lifecycleEvents.off("ComponentLifecycle:error",this.afterAllBind,this)}catch(t){this.throw(t)}}connectedCallback(){try{this._disconnected=!1,this._connected=!0,super.connectedCallback(),this.lifecycleEvents.trigger("Component:connected",this.getLifecycleEventData())}catch(t){this.throw(t)}}async attributeChangedCallback(t,e,i,s){try{super.attributeChangedCallback(t,e,i,s),await this.bindIfReady()}catch(n){this.throw(n)}}callFormatterHandler(t){return{name:"call",read:(e,...i)=>{if(!e)throw new Error(`[${t.tagName}] Can not use "call" formatter: fn is undefined!`);return e.apply(t,i)}}}argsFormatterHandler(t){return{name:"args",read:(e,...i)=>(s,n,o,r)=>{if(!e)throw new Error(`[${t.tagName}] Can not use "args" formatter: fn is undefined!`);return i.push(s),i.push(n),i.push(o),i.push(r),e.apply(t,i)}}}async bind(){if(this.binds||this.bound)return this.view;if(this.checkRequiredAttributes()){try{await this._beforeBind(),await this.beforeBind(),this.riba=new de,this.view=this.getView(),this.view&&(this.scope=this.view.models,this.view.bind()),await this._afterBind(),await this.afterBind()}catch(t){this._binds=!1,this._bound=!1,this.throw(t)}return this.view}this.debug("Not all required attributes are set for bind")}getView(){try{const t=this.riba?.getViewOptions({handler:this.eventHandler(this),formatters:{call:this.callFormatterHandler(this),args:this.argsFormatterHandler(this)}});if(t){return new Ft(Array.prototype.slice.call(this.childNodes),this.scope,t)}return null}catch(t){this.throw(t)}}async unbind(){try{this.view&&(this._binds=!1,this._bound=!1,this.view.unbind(),this.view=null)}catch(t){this.throw(t)}}async build(){try{this.view&&this.view.build()}catch(t){this.throw(t)}}}const be=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class we extends ve{constructor(...e){super(...e),t(this,"templateAttributes",[]),t(this,"templateReady",!1)}connectedCallback(){this.addItemsByTemplate(),super.connectedCallback(),this.removeTemplates(),this.bindIfReady()}ready(){return super.ready()&&this.templateReady}transformTemplateAttribute(t,e,i){switch(i){case"number":return Number(e);case"boolean":return"true"===e;case"string":if("string"==typeof e)return e;if("function"==typeof e?.toString)return e.toString();case"object":return o(e)}return l(e).value}transformTemplateAttributes(t,e){return t.index=t.index||e,t}getTemplateAttributes(t,e){const i={};for(const s of this.templateAttributes){"string"!=typeof t.getAttribute(s.name)&&s.required?console.error(new Error(`template "${s.name}" attribute is required!`)):i[w(s.name)]=this.transformTemplateAttribute(s.name,t.getAttribute(s.name))}return this.transformTemplateAttributes(i,e)}addItemByTemplate(t,e){const i=this.getTemplateAttributes(t,e),s=t.innerHTML;this.scope.items||(this.scope.items=[]),this.scope.items.push({...i,content:s})}addItemsByTemplate(){const t=this.querySelectorAll("template, .template");for(let e=0;e<t.length;e++){const i=t[e];this.addItemByTemplate(i,e)}this.templateReady=!0}removeTemplates(){const t=this.querySelectorAll("template, .template");for(let e=0;e<t.length;e++){const i=t[e];this.removeChild(i)}}hasOnlyTemplateChilds(){return!Array.from(this.children).some((t=>"TEMPLATE"!==t.nodeName&&!t.classList?.contains("template")&&"#text"!==t.nodeName))}}const ye={name:"contains",read(t,e,i){if(f(t))return t.indexOf(e)>-1;if(Array.isArray(t)){if(p(e)||console.warn("[containsFormatter] The second parameter must be of type number for arrays but is "+typeof e),e=Number(e),c(e))return c(i)?t[e]===i:t.includes(e)}else if(d(t)&&c(e))return c(i)?t[e]===i:(f(e)||console.warn("[containsFormatter] The second parameter must be of type string for objects"+typeof e),Object.keys(t).includes(String(e)));return!1}},_e={name:"size",read:t=>t&&t.length?t.length:0},Ee={name:"empty",read:t=>_e.read(t)<=0},Se={name:"get",read:(t,e)=>d(t)||Array.isArray(t)?t[e]:f(t)&&p(e)?t.charAt(e):null},Ce={name:"first",read:t=>Se.read(t,0)},xe={name:"isLast",read:(t,e)=>t.length===e+1},Te={name:"last",read:t=>Se.read(t,t.length-1)},ke={name:"random",read(t,e=0){if(Array.isArray(t))return t[Math.floor(Math.random()*t.length)];if(p(t)){const i=t;return Math.floor(Math.random()*(i-e+1)+e)}return null}},Ae={name:"range",read:(t,e,i)=>(e=Number(p(e)?e:0),(i=Number(p(i)?i:t.length-1))>t.length-1&&(i=t.length-1),e>i?[]:t.slice(Number(e||0),1+i))},Le={name:"set",read:(t,e,i)=>(i||(i=e),d(t)||Array.isArray(t)?t[e]=i:t=i,t)},Ie={name:"overlaps",read(t,e){for(const i of t)for(const t of e){if(i.equals&&i.equals(t))return!0;if(i===t)return!0}return!1}},Oe={name:"join",read:(t,e)=>t.join(e)},Ne={name:"and",read:(t,e)=>t&&e},De={name:"between",read:(t,...e)=>t>=e[0]&&t<=e[1]},Pe={name:"egt",read:(t,e)=>t>=e},Be={name:"eq",read:(t,e)=>t===e},Me={name:"gt",read:(t,e)=>t>e},Re={name:"ne",read:(t,e)=>t!==e},Fe={name:"lt",read:(t,e)=>t<e},$e={name:"elt",read:(t,e)=>t<=e},He={name:"or",read:(t,e)=>t||e},ze={name:"not",read:t=>!t},je={name:"plus",read:(t,e)=>Number(t)+Number(e)},Ue={name:"minus",read:(t,e)=>Number(t)-Number(e)},We={name:"times",read:(t,e)=>Number(t)*Number(e)},qe={name:"dividedBy",read:(t,e)=>Number(t)/Number(e)},Ve={name:"modulo",read:(t,e)=>Number(t)%Number(e)},Ye=(t,e)=>0===e?t:Ye(e,t%e),Ze={name:"gcd",read:Ye},Ge={name:"even",read:t=>t%2==0},Ke={name:"uneven",read:t=>t%2!=0},Xe={name:"digits",read:t=>p(t)?t:g(t)},Qe={name:"args",read(t,...e){return(i,s,n,o)=>(e.push(i),e.push(s),e.push(n),e.push(o),t.apply(this,e))}},Je={name:"debug",read:(t,e="debug")=>(console[e](t),t)},ti={name:"default",read:(t,e)=>c(t)?f(t)?t.length>0?t:e:null===t?e:t:e},ei={name:"is-desktop",read:()=>ht().isDesktop},ii={name:"is-mobile",read:()=>ht().isMobile},si={name:"call",read(t,...e){return t.apply(this,e)}},ni={name:"map",read(t,e,i){const s=Array.prototype.slice.call(arguments);return s.splice(1,2),e[i].apply(e,s)}},oi={name:"os",read:()=>lt()},ri={name:"prefer",read:(t,e)=>e||t},ai={name:"ternary",read:(t,e,i)=>t?e:i},li={name:"append",read:(t,e)=>t+e},hi={name:"capitalize",read:t=>(t=>"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1))(t)},ci={name:"cut",read:(t,e,i="")=>t?"string"!=typeof t?(console.warn("[cutFormatter] Value must be of type string"),t):t.length>e?t.substring(e,-1===e?void 0:-1)+i:t:""},di={name:"downcase",read:t=>t.toLowerCase()},ui={name:"ends-with",read:(t,e)=>"string"!=typeof t?(console.warn("[endsWithFormatter] Value must be of type string"),t):t.endsWith(e)},pi={name:"filled",read:t=>f(t)&&!Ee.read(t.replace(/\s/g,""))},mi={name:"handleize",read:t=>t?(t=>(t=(t=>t.replace(//g,"ae").replace(//g,"oe").replace(//g,"ue").replace(//g,"ss").replace(//g,"Ae").replace(//g,"Oe").replace(//g,"e"))(t=(t=>t.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,""))(t=(t=>t.replace(/\s\s+/g," "))(t=(t=t.trim()).toLowerCase())))).replace(/ /g,"-"))(t):(console.warn("[handleizeFormatter] str is not set"),"")},fi={name:"match",read:(t,e,i)=>!(!t||!e)&&t.match(new RegExp(e,i))},gi={name:"padStart",read:(t,e=2,i="0")=>t.padStart(e,i)},vi={name:"padEnd",read:(t,e=2,i="0")=>t.padEnd(e,i)},bi={name:"to-integer",read(t){const e=parseInt(1*t,10);return isNaN(e)?0:e}},wi={name:"to-float",read(t){const e=parseFloat(1*t);return isNaN(e)?0:e}},yi={name:"to-decimal",read(t){if(!bi.read)throw new Error("toIntegerFormatter must have a read function");if(!wi.read)throw new Error("toFloatFormatter must have a read function");const e=bi.read(1*t),i=wi.read(t);return e==i?e:i}},_i={name:"is-integer",read:t=>t===+t&&t===(0|t)},Ei={name:"numberFormat",read(t,e=2,i=".",s="'"){if(!yi.read)throw new Error("toDecimalFormatter must have a read function");if(!_i.read)throw new Error("isIntegerFormatter must have a read function");t=p(t)?t:yi.read(t),_i.read(e)||(e=2);let n=(+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)).toFixed(e);t<0&&(n="-"+n);const o=n.split(".");return 2==o.length?o[0].replace(/\B(?=(\d{3})+(?!\d))/g,s)+i+o[1]:o[0].replace(/\B(?=(\d{3})+(?!\d))/g,s)}},Si={name:"pluralize",read:(t,e,i)=>(null===i&&(i=e+"s"),Array.isArray(t)&&(t=t.length),1===t?e:i)},Ci={name:"prepend",read:(t,e)=>e+t},xi={name:"upcase",read:t=>t.toUpperCase()},Ti={name:"replace",read:(t,e,i)=>t.replace(new RegExp(e,"g"),i)},ki={name:"replaceFirst",read:(t,e,i)=>t.replace(e,i)},Ai={name:"slice",read:(t,e,i)=>t.slice(e,i)},Li={name:"starts-with",read:(t,e)=>"string"!=typeof t?(console.warn("[startsWithFormatter] Value must be of type string"),t):t.startsWith(e)},Ii={name:"strip",read:t=>t.trim()},Oi={name:"strip-html",read:t=>b(t)},Ni={name:"boolean",read:t=>"true"===t||"false"!==t&&!!t},Di={name:"is-array",read:Array.isArray},Pi={name:"is-boolean",read:m},Bi={name:"is-defined",read:c},Mi={name:"is-number",read:p},Ri={name:"is-object",read:d},Fi={name:"is-string",read:t=>f(t)},$i={name:"is-undefined",read:h},Hi={name:"json",read:(t,e=2,i=!0)=>n(t,e,i)},zi={name:"parse",read:t=>d(t)||Array.isArray(t)||"boolean"==typeof t||"number"==typeof t?(console.warn("[parseFormatter] You do not need to parse the value because since it already been parsed"),t):"string"==typeof t?l(t,!0).value:null},ji={name:"toBase64",read:t=>(t=>{let i;return i=d(t)?JSON.stringify(t,null,0):t.toString(),e+btoa(encodeURIComponent(i))})(t)},Ui={name:"to-string",read(t,e){if(Array.isArray(t))for(const i in t)t[i]&&(t[i]=u(t[i]));else if(d(t))for(const i in t)t[i]=u(t[i]);else t=u(t);return e?t||e:t}},Wi={name:"to-number",read(t,e){const i=(s=t)?parseFloat(s):void 0;var s;return e?i||e:i}},qi={formatters:Object.freeze(Object.defineProperty({__proto__:null,andFormatter:Ne,appendFormatter:li,argsFormatter:Qe,betweenFormatter:De,booleanFormatter:Ni,callFormatter:si,callNameFormatter:{name:"call-name",read:function(t,e,...i){return t[e](...i)}},capitalizeFormatter:hi,containsFormatter:ye,cutFormatter:ci,debugFormatter:Je,defaultFormatter:ti,digitsFormatter:Xe,dividedByFormatter:qe,downcaseFormatter:di,egtFormatter:Pe,eltFormatter:$e,emptyFormatter:Ee,endsWithFormatter:ui,eqFormatter:Be,evenFormatter:Ge,filledFormatter:pi,firstFormatter:Ce,gcdFormatter:Ze,getFormatter:Se,gtFormatter:Me,handleizeFormatter:mi,isArrayFormatter:Di,isBooleanFormatter:Pi,isDefinedFormatter:Bi,isDesktopFormatter:ei,isIntegerFormatter:_i,isLastFormatter:xe,isMobileFormatter:ii,isNumberFormatter:Mi,isObjectFormatter:Ri,isStringFormatter:Fi,isUndefinedFormatter:$i,joinFormatter:Oe,jsonFormatter:Hi,lastFormatter:Te,ltFormatter:Fe,mapFormatter:ni,matchFormatter:fi,minusFormatter:Ue,moduloFormatter:Ve,neFormatter:Re,notFormatter:ze,numberFormatFormatter:Ei,orFormatter:He,osFormatter:oi,overlapsFormatter:Ie,padEndFormatter:vi,padStartFormatter:gi,parseFormatter:zi,pluralizeFormatter:Si,plusFormatter:je,preferFormatter:ri,prependFormatter:Ci,randomFormatter:ke,rangeFormatter:Ae,replaceFirstFormatter:ki,replaceFormatter:Ti,setFormatter:Le,sizeFormatter:_e,sliceFormatter:Ai,startsWithFormatter:Li,stripFormatter:Ii,stripHtmlFormatter:Oi,ternaryFormatter:ai,timesFormatter:We,toBase64Formatter:ji,toDecimalFormatter:yi,toFloatFormatter:wi,toIntegerFormatter:bi,toNumberFormatter:Wi,toStringFormatter:Ui,unevenFormatter:Ke,upcaseFormatter:xi},Symbol.toStringTag,{value:"Module"})),binders:he,services:Y,components:be,adapters:K,init(t={}){return j.setSingleton(t),window.onerror=(t,e,i,s,n)=>{console.error(t,e,i,s,n)},window.addEventListener("error",(t=>{console.error(t)})),this}};class Vi{constructor(){return t(this,"history",[]),Vi.instance||(Vi.instance=this),Vi.instance}currentStatus(){return this.history[this.history.length-1]}prevStatus(){const t=this.history;return t.length<2?null:t[t.length-2]}add(t,e=null){this.history.push({namespace:e,url:t})}}t(Vi,"instance",void 0);const Yi="router-error";class Zi{constructor(e="replace"){t(this,"oldContainer",void 0),t(this,"newContainer",void 0),t(this,"newContainerLoading",void 0),t(this,"deferred",Q()),t(this,"action",void 0),this.action=e}async init(t,e){this.oldContainer=t,this.deferred=Q();const i=Q();return this.newContainerLoading=i.promise,this.start(),this.newContainer=await e,i.resolve(this.newContainer),this.deferred.promise}async done(){if(!this.oldContainer)throw new Error("Can't remove old container");if("replace"===this.action&&this.oldContainer.remove(),!this.newContainer)throw new Error("Can't show new container");return this.newContainer.style.visibility="visible",this.deferred.resolve(void 0)}}class Gi extends Zi{constructor(e=!0){super("replace"),t(this,"scrollToTop",void 0),t(this,"durationMs",200),this.scrollToTop=e}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.oldContainer&&(this.oldContainer.style.transition=`opacity ${this.durationMs}ms`,this.oldContainer.style.opacity="0"),this.scrollToTop&&await I(window,"start","vertical","smooth");const t=await this.newContainerLoading;t.style.opacity="0",t.style.transition=`opacity ${this.durationMs}ms`,setTimeout((()=>{this.finish(t)}),this.durationMs)}async finish(t){return t.style.opacity="1",this.done()}}class Ki extends Zi{constructor(e="replace",i=!0){super(e),t(this,"action",void 0),t(this,"scrollToTop",void 0),this.action=e,this.scrollToTop=i}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.oldContainer&&(this.oldContainer.style.display="none"),this.scrollToTop&&await I(window,"start","vertical","smooth"),await this.newContainerLoading,await this.finish(),this.oldContainer&&(this.oldContainer.style.display="")}async finish(){return this.done()}}class Xi{static getPrefetchLinkElements(t){return t.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]')}static parseTitle(t){let e="";const i=t.querySelector("title");return i&&i.innerText&&(e=i.innerText),e}static parseResponse(t,e,i,s=!0){let n="",o=[];const r=document.createElement("template");r.innerHTML=t,e&&(n=this.parseTitle(r.content)),s&&(o=this.getPrefetchLinkElements(r.content));return{container:this.getContainer(r,i),title:n,prefetchLinks:o}}static parseInitial(t,e,i=!0){let s="",n=[];const o=this.getContainer(document,e);return t&&(s=this.parseTitle(document)),i&&(n=this.getPrefetchLinkElements(document)),{container:o,title:s,prefetchLinks:n}}static getContainer(t,e){if(!t)throw new Error("Barba.js: [getContainer] No element to get container from, maybe the DOM is not ready!");const i=this.parseContainer(t,e);if(!i)throw new Error("[DOM] No container found");return i}static getNamespace(t){return t&&t.dataset&&t.dataset.namespace?t.dataset.namespace:null}static putContainer(t,e){t.style.visibility="hidden",e.appendChild(t)}static parseContainer(t,e){if(!t){const e=new Error("New page not loaded!");throw console.error(e,t),e}let i;if(i=t.content?t.content.querySelector(e):t.querySelector(e),!i){const i=new Error(`No container with selector "${e}" found!`);throw console.error(i,t),i}return i}}class Qi{constructor(t){if(this.viewId=t,this.viewId=t,Qi.instances[this.viewId])return Qi.instances[this.viewId];Qi.instances[this.viewId]=this,this.onLinkEnterIntern=this.onLinkEnterIntern.bind(this)}static getInstance(t="main"){const e=Qi.instances[t];return e||new this(t)}init(t=!1){if(!window.history.pushState)return!1;t&&(this.deInit(),document.body.addEventListener("mouseover",this.onLinkEnterIntern,{passive:!0}),document.body.addEventListener("touchstart",this.onLinkEnterIntern,{passive:!0}))}deInit(){document.body.removeEventListener("mouseover",this.onLinkEnterIntern),document.body.removeEventListener("touchstart",this.onLinkEnterIntern)}initBinder(t,e){if(!window.history.pushState)return!1;this.deInitBinder(t,e),t.addEventListener("mouseover",this.onLinkEnter.bind(this,e,t),{passive:!0}),t.addEventListener("touchstart",this.onLinkEnter.bind(this,e,t),{passive:!0})}deInitBinder(t,e){t.removeEventListener("mouseover",this.onLinkEnter.bind(this,e,t)),t.removeEventListener("touchstart",this.onLinkEnter.bind(this,e,t))}onLinkEnter(t,e,i){if(e.classList&&(e.classList.contains("no-barba-prefetch")||e.classList.contains(Yi)))return;t=dt(t).url;const s=fs.preventCheck(t,e,i);if(t&&s){const i=fs.getInstance(this.viewId);i?i.loadResponseCached(t,!1,!1).catch((i=>{e.classList.add(Yi),console.error(t),console.error(i)})):(console.warn(`[Prefetch.onLinkEnter] No pjax instance for viewId "${this.viewId}" found!`),e.classList.add(Yi))}}url(t){t=dt(t).url;const e=fs.preventCheck(t);if(t&&e){const e=fs.getInstance(this.viewId);e?e.loadResponseCached(t,!1,!1).catch((t=>{console.error(t)})):console.warn(`[Prefetch.url] No pjax instance for viewId "${this.viewId}" found!`)}}onLinkEnterIntern(t){let e=O(t);if(!e)throw new Error("HTML Element not set");for(;e&&!fs.getHref(e);)e=e.parentNode;if(!e)return;if("A"!==e.nodeName)return;const i=fs.getHref(e);if(!e.classList.contains("route")&&!e.hasAttribute("rv-route")){if(i)return this.onLinkEnter(i,e,t);console.warn("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.",e)}}}t(Qi,"instances",{});var Ji="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ts=1e3,es=60*ts,is=60*es,ss=24*is,ns=7*ss,os=365.25*ss;function rs(t,e,i,s){var n=e>=1.5*i;return Math.round(t/i)+" "+s+(n?"s":"")}const as=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var i=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*os;case"weeks":case"week":case"w":return i*ns;case"days":case"day":case"d":return i*ss;case"hours":case"hour":case"hrs":case"hr":case"h":return i*is;case"minutes":case"minute":case"mins":case"min":case"m":return i*es;case"seconds":case"second":case"secs":case"sec":case"s":return i*ts;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}(t);if("number"===i&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=ss)return rs(t,e,ss,"day");if(e>=is)return rs(t,e,is,"hour");if(e>=es)return rs(t,e,es,"minute");if(e>=ts)return rs(t,e,ts,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=ss)return Math.round(t/ss)+"d";if(e>=is)return Math.round(t/is)+"h";if(e>=es)return Math.round(t/es)+"m";if(e>=ts)return Math.round(t/ts)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))},ls=class{constructor(){this.cache=new Map}get(t){return this.cache.get(t)}set(t,e){this.cache.set(t,e)}keys(){return Array.from(this.cache.keys())}del(t){this.cache.delete(t)}clear(){this.cache.clear()}};var hs=function({cleanupInterval:t="5 mins",customStorage:e}={}){let i,s=e||new ls;const n=t=>void 0===t,o=t=>void 0!==t,r=t=>"function"==typeof t,a=t=>"number"==typeof t,l=t=>t&&new Date(t).getTime()<Date.now();async function h(t,e,i){if(i){const n=a(i)?i:as(i);return await s.set(t,[e,new Date(Date.now()+n).toISOString()]),e}return await s.set(t,[e]),e}return t&&(i=setInterval((async()=>{(await s.keys()).forEach((async t=>{const e=await s.get(t);if(e){const i=e[1];l(i)&&s.del(t)}}))}),as(t))),{resolve:async function(t,e,i){const a=await s.get(t);if(n(a)){if(o(e)){const s=r(e)?await e():e;return h(t,s,i),s}return}const[c,d]=a;if(!l(d))return c;if(o(e)){const s=r(e)?await e():e;return h(t,s,i),s}s.del(t)},del:async function(t,e){if(e){(await s.keys()).forEach((e=>{0===e.indexOf(t)&&s.del(e)}))}else s.del(t)},clear:function(){return s.clear()},teardown:function(){clearInterval(i)}}};class cs{constructor(){t(this,"data",void 0),this.data={}}set(t,e){return this.data[t]=e,this.data[t]}get(t){return this.data[t]}reset(){this.data={}}}function ds(t){return new Promise(((e,i)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>i(t.error)}))}let us;function ps(){return us||(us=function(t,e){const i=indexedDB.open(t);i.onupgradeneeded=()=>i.result.createObjectStore(e);const s=ds(i);return(t,i)=>s.then((s=>i(s.transaction(e,t).objectStore(e))))}("keyval-store","keyval")),us}const ms={get:function(t,e=ps()){return e("readonly",(e=>ds(e.get(t))))},set:function(t,e,i=ps()){return i("readwrite",(i=>(i.put(e,t),ds(i.transaction))))},keys:function(t=ps()){return t("readonly",(t=>{if(t.getAllKeys)return ds(t.getAllKeys());const e=[];return function(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ds(t.transaction)}(t,(t=>e.push(t.key))).then((()=>e))}))},del:function(t,e=ps()){return e("readwrite",(e=>(e.delete(t),ds(e.transaction))))},clear:()=>function(t=ps()){return t("readwrite",(t=>(t.clear(),ds(t.transaction))))}()};hs({customStorage:window.ssr?void 0:ms});class fs{static getInstance(t="main"){const e=fs.instances[t];return e||console.warn(`[Pjax.getInstance] No pjax instance for viewId "${t}" found!`),e}static preventCheckUrl(t){const e=document.createElement("a");return e.setAttribute("href",t),!!e&&(!!t&&(mt(t)!==mt(location.href)&&(window.location.protocol===e.protocol&&window.location.hostname===e.hostname&&ft()===ft(e.port))))}static preventCheck(t,e,i){if(!window.history.pushState)return!1;if(!this.preventCheckUrl(t))return!1;if(i&&(i&&i.which&&i.which>1||i.metaKey||i.ctrlKey||i.shiftKey||i.altKey))return!1;if(e){if(e.target&&"_blank"===e.target)return!1;if(e.getAttribute&&"string"==typeof e.getAttribute("download"))return!1;if(e.classList.contains("no-barba"))return!1}return!0}static getHref(t){if(t){if(t.getAttribute&&"string"==typeof t.getAttribute("xlink:href"))return t.getAttribute("xlink:href")||void 0;if("string"==typeof t.href||t.hasAttribute&&t.hasAttribute("href")){const e=t.href||t.getAttribute("href");if(!e)throw console.error("href attribute not found for element: ",t),new Error("href attribute not found!");return e}}}constructor({id:e,action:i="replace",wrapper:s,containerSelector:n="[data-namespace]",listenAllLinks:o=!1,listenPopstate:r=!0,parseTitle:a=!0,changeBrowserUrl:l=!0,prefetchLinks:h=!0,scrollToTop:c=!0,scrollToAnchorOffset:d=gs.options.scrollToAnchorOffset}){t(this,"history",new Vi),t(this,"cacheEnabled",!0),t(this,"transitionProgress",!1),t(this,"listenAllLinks",void 0),t(this,"listenPopstate",void 0),t(this,"parseTitle",void 0),t(this,"changeBrowserUrl",void 0),t(this,"dispatcher",void 0),t(this,"transition",void 0),t(this,"wrapper",void 0),t(this,"viewId","main"),t(this,"containerSelector",void 0),t(this,"prefetchLinks",void 0),t(this,"scrollToAnchorOffset",void 0),e&&(this.viewId=e);let u=this;return this.scrollToAnchorOffset=d||0,this.dispatcher=new z(this.viewId),this.listenAllLinks=o,this.listenPopstate=r,this.parseTitle=a,this.changeBrowserUrl=l,this.containerSelector=n,this.prefetchLinks=h,fs.instances[this.viewId]&&(u=fs.instances[this.viewId]),u.transition=u.transition||new Ki(i,c),u.wrapper=u.wrapper||s,u.containerSelector=u.containerSelector||n,u.listenAllLinks=m(u.listenAllLinks)?u.listenAllLinks:o,u.listenPopstate=m(u.listenPopstate)?u.listenPopstate:r,u.parseTitle=m(u.parseTitle)?u.parseTitle:a,u.changeBrowserUrl=m(u.changeBrowserUrl)?u.changeBrowserUrl:l,u.prefetchLinks=m(u.prefetchLinks)?u.prefetchLinks:h,u.wrapper&&u.wrapper.setAttribute("aria-live","polite"),fs.instances[this.viewId]=u,fs.instances[this.viewId]}setActiveWrapper(t){this.wrapper=t}start(){if(this.wrapper)try{this.init(this.wrapper,this.listenAllLinks,this.listenPopstate)}catch(t){console.error(t)}else console.error("Can't init pjax without wrapper")}getCurrentUrl(){return mt(ut())}goTo(t,e=!1){if(e){const e=window.open(t,"_blank");return!!e&&e.focus()}if(t.startsWith("http")&&(t=dt(t).url),!t.startsWith("http"))return this.changeBrowserUrl&&window.history.pushState(null,"",t),this.onStateChange(void 0,t);this.forceGoTo(t)}getTransition(){return this.transition||new Ki}prefetchLink(t){t=dt(t).url;if(fs.preventCheckUrl(t))return this.loadResponseCached(t,!0,!1)}prefetchLinkElement(t,e){const i=t.getAttribute("rel"),s=fs.getHref(t);if("router-preload"===i&&s&&this.cacheEnabled&&!t.classList.contains(Yi))try{this.prefetchLink(s)}catch(n){t.classList.add(Yi),console.error(n)}e.appendChild(t)}removePrefetchLinks(t){t.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]').forEach((t=>{t&&t.parentNode&&t.parentNode.removeChild(t)}))}replacePrefetchLinkElements(t){const e=document.head||document.getElementsByTagName("head")[0];this.removePrefetchLinks(e),t.forEach((t=>{this.prefetchLinkElement(t,e)}))}async loadCached(t){try{const{responsePromise:e}=await this.loadResponseCached(t,!1,!0);if(!this.wrapper)throw new Error("[Pjax] you need a wrapper!");const i=await e;return Xi.putContainer(i.container,this.wrapper),!0===this.parseTitle&&i.title&&(document.title=i.title),!0===this.prefetchLinks&&i.prefetchLinks&&this.replacePrefetchLinkElements(i.prefetchLinks),i.container}catch(e){throw console.error(e),this.forceGoTo(t),e}}async loadResponseCached(t,e=!1,i=!0){let s;try{if(this.cacheEnabled&&(s=fs.cache.get(t),s))return{fromCache:!0,responsePromise:s};s=this.loadResponse(t,e),this.cacheEnabled&&s&&fs.cache.set(t,s)}catch(n){throw console.error(n),i&&this.forceGoTo(t),n}return{fromCache:!1,responsePromise:s}}async loadResponse(t,e=!1){const i=e?{cache:"force-cache"}:{},s=await V.get(t,void 0,"html",{},i);if(!s||!s.body)throw new Error("No body!");return Xi.parseResponse(s.body,this.parseTitle,this.containerSelector,this.prefetchLinks)}bindEvents(t,e){t&&document.addEventListener("click",this.onLinkClickIntern.bind(this)),e&&window.addEventListener("popstate",this.onStateChange.bind(this))}forceGoTo(t){console.warn("forceGoTo",t),t&&t.href&&(window.location=t),"string"==typeof t&&(window.location.href=t)}onLinkClickIntern(t){let e=O(t);for(;e&&!fs.getHref(e);)e=e.parentNode;if(!e||"A"!==e.nodeName)return;const i=fs.getHref(e);if(!e.classList.contains("route")&&!e.hasAttribute("rv-route")){if(!i)throw new Error("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.");return!e.classList.contains("route")&&!e.hasAttribute("rv-route")&&this.onLinkClick(t,e,i)}}onLinkClick(t,e,i,s=!1){const{url:n,location:o}=dt(i),{location:r}=dt();if(o.hash&&r.pathname===o.pathname){let e=o.hash.slice(1);e=decodeURI(e);const i=document.getElementById(e);if(i)return t.stopPropagation(),t.preventDefault(),this.changeBrowserUrl&&window.history.pushState(null,"",n),k(i,this.scrollToAnchorOffset)}if(!n)throw new Error("url is falsy");fs.preventCheck(n,e,t)&&(t.stopPropagation(),t.preventDefault(),this.dispatcher.trigger("linkClicked",e,t),this.goTo(n,s))}async onStateChange(t,e=this.getCurrentUrl()){e=dt(e).url;const i=dt(this.history.currentStatus().url).url;if(this.changeBrowserUrl&&i===e)return!1;this.history.add(e),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus(),this.history.prevStatus());const s=Xi.getContainer(document,this.containerSelector),n=this.loadCached(e),o=this.getTransition();this.transitionProgress=!0;const r=o.init(s,n);this.onNewContainerLoaded(await n),await r,this.onTransitionEnd()}onNewContainerLoaded(t){this.history.currentStatus().namespace=Xi.getNamespace(t);const e=S(t);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),this.history.prevStatus(),t,t.innerHTML,e,!1)}onTransitionEnd(){this.transitionProgress=!1,this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus(),this.history.prevStatus())}init(t,e,i){const s=Xi.parseInitial(this.parseTitle,this.containerSelector,this.prefetchLinks),n=window.location.pathname;if(this.cacheEnabled){const t=dt(window.location.href).url;fs.cache.get(n)||this.loadResponseCached(t,!1,!1)}this.replacePrefetchLinkElements(s.prefetchLinks),this.wrapper=t,this.history.add(this.getCurrentUrl(),Xi.getNamespace(s.container)),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus());const o=S(s.container);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),{},s.container,s.container.innerHTML,o,!0),this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus()),this.bindEvents(e,i)}}t(fs,"cache",new cs),t(fs,"instances",{});class gs{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of RouterService not defined, please call setSingleton first!")}static setSingleton(t={}){return this.instance?(console.warn("Singleton of RouterService already defined!"),this.instance):(t.defaultTransition=t.defaultTransition??new Ki,t.scrollToAnchorOffset=t.scrollToAnchorOffset??0,this._options=t,this.instance=new this,this.instance)}}t(gs,"_options",void 0),t(gs,"instance",void 0);const vs=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Zi,BaseView:class{constructor(){t(this,"namespace",void 0),t(this,"container",void 0),t(this,"dispatcher",z.getInstance())}extend(t){return y({deep:!1},this,t)}init(){this.dispatcher.on("initStateChange",((t,e,i)=>{i&&i.namespace===this.namespace&&this.onLeave()})),this.dispatcher.on("newPageReady",((t,e,i,s)=>{this.container=s,e.namespace===this.namespace&&this.onEnter()})),this.dispatcher.on("transitionCompleted",((t,e,i)=>{e.namespace===this.namespace&&this.onEnterCompleted(),i&&i.namespace===this.namespace&&this.onLeaveCompleted()}))}},CustomTransition:class extends Zi{async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");await this.newContainerLoading,this.finish()}async finish(){return document.body.scrollTop=0,this.done()}},Dom:Xi,FadeTransition:Gi,HideShowTransition:Ki,Pjax:fs,Prefetch:Qi,RouterService:gs},Symbol.toStringTag,{value:"Module"})),bs=mi.read;class ws extends wt{constructor(...e){super(...e),t(this,"nested",null)}async routine(t,e){const i=t;(e=e||{}).listenAllLinks=!1,e.listenPopstate=!1,e.parseTitle=!1,e.transition=e.transition||new Ki,e.viewId=e.viewId||t.getAttribute("id")||bs(e.url),e.containerSelector=e.containerSelector||"[data-namespace]",e.changeBrowserUrl=!1;const s=new fs(e),{responsePromise:n}=await s.loadResponseCached(e.url,!1,!1),o=await n;i.replaceWith(o.container),o.container.style.visibility="visible",d(this.view.models)||(this.view.models={}),this.nested&&this.nested.unbind(),this.nested=new Ft(o.container,this.view.models,this.view.options),this.nested.bind()}unbind(){this.nested&&this.nested.unbind()}}t(ws,"key","view-static"),t(ws,"block",!0);class ys extends wt{constructor(...e){super(...e),t(this,"prefetch",void 0),t(this,"options",{url:"",viewId:"main",removeAfterActivation:!1,newTab:!1,newTabOnExtern:!0}),t(this,"onClick",this._onClick.bind(this))}_onClick(t){const e=fs.getInstance(this.options.viewId);if(pt(this.options.url,!0))console.info("already on this site, do nothing"),t.stopPropagation(),t.preventDefault();else if(gt(this.options.url)){if(!e)return;t.stopPropagation(),t.preventDefault();const i=this.options.newTab||this.options.newTabOnExtern;e.goTo(this.options.url,i)}else if(this.options.url){if(!e)return;e.onLinkClick(t,this.el,this.options.url,this.options.newTab)}this.options.removeAfterActivation&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}bind(t){t.classList.add("route"),window.ssr||(this.onClick=this.onClick.bind(this),t.addEventListener("click",this.onClick))}routine(t,e){f(e)?this.options.url=e:d(e)&&(this.options=e),this.options.viewId=this.options.viewId||"main",this.prefetch=new Qi(this.options.viewId),this.options.newTab=!1;const i="A"===t.tagName;if(!this.options.url&&i){const e=t.getAttribute("href");e&&(this.options.url=e)}"_blank"===t.getAttribute("target")&&(this.options.newTab=!0),this.options.url=dt(this.options.url).url,!i||t.href&&t.getAttribute("href")||!this.options.url||(t.setAttribute("href",this.options.url),t.href=this.options.url),this.options.newTab||this.prefetch.initBinder(t,this.options.url)}unbind(t){this.prefetch?.deInitBinder(t,this.options.url),t.removeEventListener("click",this.onClick)}}t(ys,"key","route");class _s extends wt{constructor(...e){super(...e),t(this,"dispatcher",new z("main")),t(this,"url",void 0),t(this,"className",""),t(this,"onUrlChange",this._onUrlChange.bind(this))}_onUrlChange(){if(this.url){if(pt(this.url))return this.el.classList.add(this.className),"radio"===this.el.getAttribute("type")&&(this.el.checked=!0),!0;this.el.classList.remove(this.className),"radio"===this.el.getAttribute("type")&&(this.el.checked=!1)}return!1}bind(){this.dispatcher.on("newPageReady",this.onUrlChange)}routine(t,e){this.url=e,this.className=this.args[0].toString()||"active";const i="A"===t.tagName;if(!this.url&&i){const e=t.getAttribute("href");e&&(this.url=e)}this.onUrlChange()}unbind(){this.dispatcher.off("newPageReady",this.onUrlChange)}}t(_s,"key","route-class-*");class Es extends wt{routine(t,e){if(window.ssr)return;const i="A"===t.tagName;if(!e&&i){const i=t.getAttribute("href");i&&(e=i)}e&&fs.getInstance()?.prefetchLink(e)}}t(Es,"key","route-preload");class Ss extends wt{constructor(...e){super(...e),t(this,"dispatcher",new z("main")),t(this,"className",void 0),t(this,"url",void 0),t(this,"onUrlChange",this._onUrlChange.bind(this))}_onUrlChange(){if(!this.url)throw new Error("url is not defined!");if(!this.className)throw new Error("className is not defined!");return(t=>{if(t){const e=ct(),i=e.pathname,s=e.hostname,n=ct(t),o=n.pathname;return s===n.hostname&&i.startsWith(o)}return!1})(this.url)?(this.el.classList.add(this.className),"radio"===this.el.getAttribute("type")&&(this.el.checked=!0),!0):(this.el.classList.remove(this.className),"radio"===this.el.getAttribute("type")&&(this.el.checked=!1),!1)}routine(t,e){this.url=e,this.className=this.args[0].toString()||"active";const i="A"===t.tagName;if(!this.url&&i){const e=t.getAttribute("href");e&&(this.url=e)}this.onUrlChange()}bind(){this.dispatcher.on("newPageReady",this.onUrlChange)}unbind(){this.dispatcher.off("newPageReady",this.onUrlChange)}}t(Ss,"class","parent-route-class-*");const Cs=()=>{window.history.back()};class xs extends wt{constructor(...e){super(...e),t(this,"priority",3e3),t(this,"eventName",void 0)}unbind(t){this.eventName&&t.removeEventListener(this.eventName,Cs)}routine(t){if(null===this.args)throw new Error("args is null");this.eventName&&t.removeEventListener(this.eventName,Cs),this.eventName=this.args[0],t.addEventListener(this.args[0],Cs)}}t(xs,"key","route-back-on-*");const Ts=Object.freeze(Object.defineProperty({__proto__:null,ParentRouteClassStarBinder:Ss,RouteBackOnStarBinder:xs,RouteBinder:ys,RouteClassStarBinder:_s,RoutePreloadBinder:Es,ViewStaticBinder:ws},Symbol.toStringTag,{value:"Module"}));class ks extends ve{static get observedAttributes(){return["src","id","async","defer"]}constructor(){super(),t(this,"autobind",!1),t(this,"scope",{src:"",id:"",async:!0,defer:!0})}connectedCallback(){super.connectedCallback(),super.init(ks.observedAttributes)}async onReady(){await super.onReady(),this.scope.id||(this.scope.id=D("script-")),(async(t,e,i=!0,s=!0)=>{await new Promise(((n,o)=>{let r=document.getElementById(e);if(r){if(console.warn("script already loaded, do nothing."),r.hasAttribute("loaded"))return n(r)}else r=document.createElement("script"),r.type="text/javascript",r.id=e,r.src=t,i&&(r.async=!0),s&&(r.defer=!0),(document.head||document.getElementsByTagName("head")[0]).appendChild(r);r.readyState&&(r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,r?.setAttribute("loaded","true"),n(r))}),r.addEventListener("load",(()=>{r?.setAttribute("loaded","true"),n(r)})),r.addEventListener("error",((...t)=>{const e=new Error("Error on load script "+r?.src);console.error(e),console.error(...t),o(e)}))}))})(this.scope.src,this.scope.id,this.scope.async)}requiredAttributes(){return["src"]}template(){return null}}t(ks,"tagName","router-load-script");class As extends ve{static get observedAttributes(){return["id","action","container-selector","scroll-to-top","listen-all-links","listen-popstate","scroll-to-anchor-hash","scroll-to-anchor-offset","dataset-to-root-scope","parse-title","change-browser-url","prefetch-links"]}constructor(){super(),t(this,"events",z.getInstance("main")),t(this,"nested",null),t(this,"wrapper",null),t(this,"pjax",null),t(this,"prefetch",null),t(this,"scope",{id:"main",action:"replace",scrollToTop:!0,listenAllLinks:!0,listenPopstate:!0,scrollToAnchorHash:!0,scrollToAnchorOffset:gs.options.scrollToAnchorOffset,datasetToRootScope:!0,parseTitle:!0,changeBrowserUrl:!0,prefetchLinks:!0,transition:gs.options.defaultTransition})}connectedCallback(){super.connectedCallback(),this.init(As.observedAttributes)}addEventListeners(){this.events.on("newPageReady",this.onPageReady,this),this.events.on("initStateChange",this.onTransitionInit,this),this.events.on("transitionCompleted",this.onTransitionCompleted,this)}removeEventListeners(){this.events.off("newPageReady",this.onPageReady,this),this.events.off("initStateChange",this.onTransitionInit,this),this.events.off("transitionCompleted",this.onTransitionCompleted,this)}getContainerSelector(){return"main"===this.scope.id?`${As.tagName} > *:first-child`:`${As.tagName}#${this.scope.id} > *:first-child`}initAndStartPjax(){if(!this.scope.id)return void console.error("Id attribute is required!");const t={id:this.scope.id,action:this.scope.action,wrapper:this,containerSelector:this.getContainerSelector(),listenAllLinks:!!this.scope.listenAllLinks,listenPopstate:!!this.scope.listenPopstate,transition:this.scope.transition,parseTitle:!!this.scope.parseTitle,changeBrowserUrl:!!this.scope.changeBrowserUrl,prefetchLinks:!!this.scope.prefetchLinks,scrollToTop:!!this.scope.scrollToTop};this.pjax=new fs(t),this.pjax.setActiveWrapper(this),this.prefetch=new Qi(this.scope.id),this.prefetch.init(t.prefetchLinks),this.pjax.start()}onPageReady(t,e,i,s,n,o,r){t===this.scope.id?(this.debug("New page ready!",this.innerHTML),this.scope.datasetToRootScope&&(this.scope.$root||(this.scope.$root={}),this.scope.$root.dataset=o),r||(this.view=this.getView(),this.view?this.view.bind():console.warn("View ist not ready!"))):console.warn("not the right view",this.scope.id,t,o)}async onTransitionInit(t){t===this.scope.id&&this.setTransitionClass("init")}async onTransitionCompleted(t){if(t===this.scope.id){if(this.setTransitionClass("complete"),this.scope.scrollToAnchorHash){let t=null;if(window.location.hash.substr(1)&&(t=document.getElementById(window.location.hash.substr(1)),t))return await k(t,this.scope.scrollToAnchorOffset,window)}return this.scope.scrollToTop?await I(window,"start","vertical","smooth"):void 0}}setTransitionClass(t){this.classList.remove("transition-init"),this.classList.remove("transition-complete"),this.classList.add(`transition-${t}`)}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,i,s){if(super.parsedAttributeChangedCallback(t,e,i,s),"id"===t)this.events=z.getInstance(this.scope.id)}async beforeBind(){await super.beforeBind(),this.addEventListeners(),this.initAndStartPjax()}template(){return null}}t(As,"tagName","router-view");const Ls={binders:Ts,components:Object.freeze(Object.defineProperty({__proto__:null,RouterLoadScriptComponent:ks,RouterViewComponent:As},Symbol.toStringTag,{value:"Module"})),services:vs,formatters:{},init(t={}){return gs.setSingleton(t),this}},Is=t=>{const e=t,i=t;if(e.document&&e.location){return{x:e.pageXOffset,y:e.pageYOffset,maxX:document.documentElement.scrollWidth-document.documentElement.clientWidth,maxY:document.documentElement.scrollHeight-document.documentElement.clientHeight}}return{x:i.scrollLeft,y:i.scrollTop,maxX:i.scrollWidth-i.clientWidth,maxY:i.scrollHeight-i.clientHeight}},Os=t=>{const e=Is(t);return e.maxX>0||e.maxY>0},Ns=Object.freeze(Object.defineProperty({__proto__:null,easeInCubic:t=>t*t*t,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,easeInQuad:t=>t*t,easeInQuart:t=>t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutCubic:t=>--t*t*t+1,easeOutQuad:t=>t*(2-t),easeOutQuart:t=>1- --t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,getScrollPosition:Is,isScrollable:Os,linear:t=>t},Symbol.toStringTag,{value:"Module"}));class Ds{static getFps(){return this.fps}static startLoop(t={}){this.setOptions(t),this.loopStarted||(this.loopStarted=!0,window.requestAnimationFrame(this.loop.bind(this)))}static setOptions(t){this.maxFPS="number"==typeof t.maxFPS?t.maxFPS:this.maxFPS}static loop(t){if(t<this.lastFrameTimeMs+1e3/this.maxFPS)return void(this.frameID=window.requestAnimationFrame(this.loop.bind(this)));const e=t-this.lastFrameTimeMs;this.delta+=e,this.lastFrameTimeMs=t,this.begin(t,this.delta),t>this.lastFpsUpdate+1e3&&(this.fps=.25*this.framesThisSecond+.75*this.fps,this.lastFpsUpdate=t,this.framesThisSecond=0),this.framesThisSecond++;let i=0;for(;this.delta>=this.timestep;)if(this.update(this.timestep),this.delta-=this.timestep,++i>=240){this.panic();break}this.render(this.delta/this.timestep),this.end(this.fps),this.frameID=window.requestAnimationFrame(this.loop.bind(this))}static begin(t,e){this.events.trigger("begin",t,e)}static render(t){this.events.trigger("render",t)}static update(t){this.events.trigger("update",t)}static end(t){this.events.trigger("end",t)}static panic(){this.delta=0}constructor(t={}){Ds.setOptions(t)}}t(Ds,"events",new z("gameloop")),t(Ds,"maxFPS",60),t(Ds,"fps",60),t(Ds,"timestep",1e3/60),t(Ds,"loopStarted",!1),t(Ds,"lastFrameTimeMs",0),t(Ds,"delta",0),t(Ds,"framesThisSecond",0),t(Ds,"lastFpsUpdate",0),t(Ds,"frameID",0);class Ps{constructor(e,i={}){t(this,"touchCapable","ontouchstart"in window),t(this,"direction",1),t(this,"limit",void 0),t(this,"options",void 0),t(this,"el",void 0),t(this,"_pause",!1),t(this,"velocity",.008),t(this,"move",0),t(this,"lastMove",0),t(this,"angle","horizontal"),t(this,"pauseOnHover",!0),t(this,"resumeTimer",null),t(this,"onResize",et(this._onResize.bind(this))),t(this,"onScroll",et(this._onScroll.bind(this))),this.el=e,this.options=i,this.direction=this.options.direction||this.direction,this.velocity=this.options.velocity||this.velocity,this.angle=this.options.angle||this.angle,this.pauseOnHover="boolean"==typeof this.options.pauseOnHover?this.options.pauseOnHover:this.pauseOnHover,this.limit=this.getLimit(this.el),this.move=this.getPosition(),-1===this.direction?this.el.scrollLeft=this.limit:this.el.scrollLeft=0,this.addEventListeners(),Ds.startLoop({maxFPS:60})}update(){this.limit=this.getLimit(this.el),this.setPosition()}destroy(){this.removeEventListeners()}pause(){this.el.style.scrollBehavior="",this._pause=!0}resume(t=0){this._pause&&(this.stopResumeTimeout(),this.resumeTimer=window.setTimeout((()=>{this.setPosition(),this._pause=!1,this.el.style.scrollBehavior="auto"}),t))}addEventListeners(){this.removeEventListeners(),this.onResize=this.onResize.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onScroll=this.onScroll.bind(this),this.render=this.render.bind(this),this.updateMove=this.updateMove.bind(this),window.addEventListener("resize",this.onResize,{passive:!0}),this.el.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.el.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.el.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.el.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.el.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.el.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.touchCapable?(this.el.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollended",this.onMouseUp,{passive:!0})):(this.el.addEventListener("scroll",this.onScroll,{passive:!0}),this.el.addEventListener("scrollend",this.onScroll,{passive:!0}),this.el.addEventListener("scrollended",this.onScroll,{passive:!0})),Ds.events.on("render",this.render),Ds.events.on("update",this.updateMove)}removeEventListeners(){window.removeEventListener("resize",this.onResize),this.el.removeEventListener("mouseenter",this.onMouseIn),this.el.removeEventListener("mouseover",this.onMouseIn),this.el.removeEventListener("focusin",this.onMouseIn),this.el.removeEventListener("touchstart",this.onMouseIn),this.el.removeEventListener("mouseleave",this.onMouseOut),this.el.removeEventListener("focusout",this.onMouseOut),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("touchend",this.onMouseUp),this.touchCapable?(this.el.removeEventListener("scroll",this.onMouseUp),this.el.removeEventListener("scrollend",this.onMouseUp),this.el.removeEventListener("scrollended",this.onMouseUp)):(this.el.removeEventListener("scroll",this.onScroll),this.el.removeEventListener("scrollend",this.onScroll),this.el.removeEventListener("scrollended",this.onScroll)),Ds.events.off("render",this.render),Ds.events.off("update",this.updateMove)}onMouseIn(){this.pauseOnHover&&this.pause()}onMouseOut(){this.resume(200)}onMouseUp(){this.resume(1e3)}_onResize(){this.limit=this.getLimit(this.el),this.resume(200)}_onScroll(){this.stopResumeTimeout()}stopResumeTimeout(){null!==this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=null)}getPosition(){return("vertical"===this.angle?this.el.scrollTop:this.el.scrollLeft)||0}setPosition(){this.move=this.getPosition()}getLimit(t){return"vertical"===this.angle?Is(t).maxY:Is(t).maxX}render(){this._pause||this.scroll(this.move)}updateMove(t){if(this._pause)return;this.lastMove=this.move;const e=this.velocity*this.direction*t;this.move+=e,this.move<=0&&1!==this.direction&&(this.direction=1),this.move>=this.limit&&-1!==this.direction&&(this.direction=-1)}scroll(t){"vertical"===this.angle?this.el.scrollTop=t:this.el.scrollLeft=t}}class Bs{constructor(e,i={detectGlobalMove:!0}){if(t(this,"options",void 0),t(this,"lastClientX",0),t(this,"lastClientY",0),t(this,"el",void 0),t(this,"pushed",!1),t(this,"touchCapable","ontouchstart"in window),t(this,"checkDraggable",et(this._checkDraggable.bind(this))),this.el=e,this.options=i,this.touchCapable)return this;this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.checkDraggable=this.checkDraggable.bind(this),e.removeEventListener("mousedown",this.onMouseDown),e.addEventListener("mousedown",this.onMouseDown,{passive:!0}),window.addEventListener("resize",this.checkDraggable),this.options.detectGlobalMove?(window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp,{passive:!0}),window.addEventListener("mousemove",this.onMouseMove,{passive:!0})):(e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mousemove",this.onMouseMove),e.addEventListener("mouseup",this.onMouseUp,{passive:!0}),e.addEventListener("mousemove",this.onMouseMove,{passive:!0})),this.checkDraggable()}destroy(){this.removeEventListeners(),this.el.classList.remove("draggable")}_checkDraggable(){Os(this.el)?this.el.classList.add("draggable"):this.el.classList.remove("draggable")}onMouseDown(t){this.pushed=!0,this.lastClientX=t.clientX,this.lastClientY=t.clientY}onMouseUp(){this.pushed=!1}onMouseMove(t){let e=0,i=0;this.pushed&&(this.el.scrollLeft-=e=-this.lastClientX+(this.lastClientX=t.clientX),this.el.scrollTop-=i=-this.lastClientY+(this.lastClientY=t.clientY),this.el===document.body&&(document.documentElement&&(this.el=document.documentElement),this.el.scrollLeft-=e,this.el.scrollTop-=i))}removeEventListeners(){window.removeEventListener("resize",this.checkDraggable),this.el.removeEventListener("mousedown",this.onMouseDown),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("mousemove",this.onMouseMove)}}class Ms{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of ExtrasService not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of ExtrasService already defined!");return this._options=t,this.instance=new this,this.instance}}t(Ms,"_options",void 0),t(Ms,"instance",void 0);class Rs{constructor(){t(this,"enterK","requestFullscreen"),t(this,"exitK","exitFullscreen"),t(this,"elementK","fullscreenElement"),t(this,"eventK","fullscreenchange");const e=document.documentElement,i="fullscreenchange";e.requestFullscreen?(this.enterK="requestFullscreen",this.exitK="exitFullscreen",this.elementK="fullscreenElement",this.eventK=i):e.mozRequestFullScreen?(this.enterK="mozRequestFullScreen",this.exitK="mozCancelFullScreen",this.elementK="mozFullScreenElement",this.eventK="moz"+i):e.webkitRequestFullscreen?(this.enterK="webkitRequestFullscreen",this.exitK="webkitExitFullscreen",this.elementK="webkitFullscreenElement",this.eventK="webkit"+i):e.msRequestFullscreen&&(this.enterK="msRequestFullscreen",this.exitK="msExitFullscreen",this.elementK="msFullscreenElement",this.eventK="MSFullscreenChange")}static getSingleton(){return Rs.instance||(Rs.instance=new Rs),Rs.instance}static supported(){const t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)}enter(t){t||(t=document.body),this.isFullscreen()||("webkitRequestFullscreen"===this.enterK?t[this.enterK](Element.ALLOW_KEYBOARD_INPUT):t[this.enterK]())}exit(){this.isFullscreen()&&document[this.exitK]()}isFullscreen(){return document[this.elementK]}toggle(t){this.isFullscreen()?this.exit():this.enter(t)}}t(Rs,"instance",void 0);class Fs{get isTouchCapable(){return this.touchCapable}constructor(e){t(this,"touchCapable","ontouchstart"in window),t(this,"el",void 0),this.el=e}triggerCustomEvent(t,e,i={}){i.originalEvent=e,i.target=e.target;const s=new CustomEvent(t,{detail:i});this.el.dispatchEvent(s)}}class $s extends Fs{constructor(e,i={}){super(e),t(this,"isScrolling",!1),t(this,"_scrollEvent",void 0),t(this,"delay",300),t(this,"startPosition",null),t(this,"endPosition",null),t(this,"scrollTimer",null),t(this,"onScrollEvent",this._onScrollEvent.bind(this)),t(this,"scroll",this._scroll.bind(this)),this.el=e,this.delay=i.delay||this.delay,this.startPosition=Is(this.el),this._scrollEvent=this.touchCapable?["touchmove","scrollend","scroll"]:["scroll","scrollend"],this.removeEventListeners(),this.addEventListeners()}destroy(){this.removeEventListeners()}get scrollEvent(){return this._scrollEvent}getScrollDir(t,e){return t&&e?t.x>e.x?"right":t.x<e.x?"left":t.y>e.y?"down":t.y<e.y?"up":"none":"unknown"}removeEventListeners(){for(const t of this._scrollEvent)this.el.removeEventListener(t,this.onScrollEvent)}addEventListeners(){for(const t of this._scrollEvent)this.el.addEventListener(t,this.onScrollEvent,{passive:!0})}_onScrollEvent(t){return!!t.target&&(null!==this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),this.isScrolling||this.scrollstart(t),this.isScrolling&&this.scroll(t),this.scrollTimer=window.setTimeout((()=>{this.scrollended(t)}),this.delay),!0)}scrollended(t){this.isScrolling=!1,this.endPosition=Is(this.el);const e=this.getScrollDir(this.startPosition,this.endPosition);this.triggerCustomEvent("scrollended",t,{startPosition:this.startPosition,endPosition:this.endPosition,direction:e})}scrollstart(t){this.isScrolling=!0,this.startPosition=Is(this.el),this.triggerCustomEvent("scrollstart",t,{startPosition:this.startPosition})}_scroll(t){const e=Is(this.el),i=this.getScrollDir(this.startPosition,e);this.triggerCustomEvent("scroll"+i,t,{startPosition:this.startPosition,currentPosition:e,direction:i}),this.triggerCustomEvent("scrolling",t,{startPosition:this.startPosition,currentPosition:e,direction:i})}}var Hs=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.TARGET=1]="TARGET",t[t.CHANGED=2]="CHANGED",t))(Hs||{});class zs extends Fs{get isTouchCapable(){return this.settings.touchCapable}get startEvent(){return this.settings.startevent}get endEvent(){return this.settings.endevent}get moveEvent(){return this.settings.moveevent}get tapEvent(){return this.settings.tapevent}set swipeThresholdX(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.swipeHThreshold=t}set swipeThresholdY(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.swipeVThreshold=t}set doubleTapInt(t){if("number"!=typeof t)throw new Error("Interval parameter must be a type of number");this.settings.doubletapInterval=t}set tapHoldThreshold(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.tapholdThreshold=t}set tapRange(t){if("number"!=typeof t)throw new Error("Ranger parameter must be a type of number");this.settings.tapPixelRange=t}constructor(e,i={tapPixelRange:5,swipeHThreshold:50,swipeVThreshold:50,tapholdThreshold:750,doubletapInterval:500,shakeThreshold:15,touchCapable:"ontouchstart"in window,startevent:["touchstart"],endevent:["touchend"],moveevent:["touchmove"],tapevent:["tap"]}){super(e),t(this,"startPosition",{x:0,y:0}),t(this,"endPosition",{x:0,y:0}),t(this,"originalCoord",{x:0,y:0}),t(this,"finalCoord",{x:0,y:0}),t(this,"startEvnt",null),t(this,"tapheld",!1),t(this,"firstTap",null),t(this,"cooling",!1),t(this,"doubletapped",!1),t(this,"lastTouch",0),t(this,"hasSwiped",!1),t(this,"tapStarted",!1),t(this,"swipeStarted",!1),t(this,"startTime",0),t(this,"holdTimer",-1),t(this,"tapTimer",-1),t(this,"actionTimer",-1),t(this,"settings",void 0),this.el=e,i.startevent=i.touchCapable?["touchstart"]:["mousedown"],i.endevent=i.touchCapable?["touchend"]:["mouseup"],i.moveevent=i.touchCapable?["touchmove"]:["mousemove"],i.tapevent=i.touchCapable?["tap"]:["click"],this.settings=i,this.onStartEvent=this.onStartEvent.bind(this),this.onMoveEvent=this.onMoveEvent.bind(this),this.onEndEvent=this.onEndEvent.bind(this),this.addEventListeners()}destroy(){this.removeEventListeners()}removeEventListeners(){for(const t of this.settings.startevent)this.el.removeEventListener(t,this.onStartEvent);for(const t of this.settings.moveevent)this.el.removeEventListener(t,this.onMoveEvent);for(const t of this.settings.endevent)this.el.removeEventListener(t,this.onEndEvent)}getSwipeDir(t,e,i=this.settings.swipeHThreshold,s=this.settings.swipeVThreshold){let n="";return t.y>e.y&&t.y-e.y>s&&(n="swipeup"),t.x<e.x&&e.x-t.x>i&&(n="swiperight"),t.y<e.y&&e.y-t.y>s&&(n="swipedown"),t.x>e.x&&t.x-e.x>i&&(n="swipeleft"),n}getPosition(t,e=Hs.DEFAULT,i=0){let s;switch(e){case Hs.CHANGED:s=t.changedTouches;break;case Hs.TARGET:s=t.targetTouches;break;default:s=t.touches}return{x:this.settings.touchCapable?s[i].pageX:t.pageX,y:this.settings.touchCapable?s[i].pageY:t.pageY}}getOffset(t,e=Hs.DEFAULT,i=0){const s=this.el.getBoundingClientRect();let n;switch(e){case Hs.CHANGED:n=t.changedTouches;break;case Hs.TARGET:n=t.targetTouches;break;default:n=t.touches}return{x:this.settings.touchCapable?Math.round(n[i].pageX-(s?s.left:0)):Math.round(t.pageX-(s?s.left:0)),y:this.settings.touchCapable?Math.round(n[i].pageY-(s?s.top:0)):Math.round(t.pageY-(s?s.top:0))}}getTouchData(t,e=!1,i=Hs.DEFAULT,s=Hs.CHANGED){const n={position:this.getPosition(t,i),offset:this.getOffset(t,s),time:Date.now()};return e&&(n.index=M(t.target)),n}addEventListeners(){for(const t of this.settings.startevent)this.el.addEventListener(t,this.onStartEvent,{passive:!0});for(const t of this.settings.moveevent)this.el.addEventListener(t,this.onMoveEvent,{passive:!0});for(const t of this.settings.endevent)this.el.addEventListener(t,this.onEndEvent,{passive:!0})}onStartEvent(t){return(!t.which||1===t.which)&&(this.startPosition=this.getPosition(t,Hs.TARGET),this.endPosition={x:this.startPosition.x,y:this.startPosition.y},this.startTime=Date.now(),this.doubletapped=!1,this.firstTap||(this.firstTap=this.getTouchData(t,!0,Hs.DEFAULT,Hs.CHANGED)),this.tapStarted=!0,this.swipeStarted=!0,this.originalCoord=this.getPosition(t,Hs.TARGET),this.finalCoord=this.getPosition(t,Hs.TARGET),this.startEvnt=this.getTouchData(t,!1,Hs.DEFAULT,Hs.CHANGED),this.tapstart(t),this.taphold(t),!0)}onEndEvent(t){return this.endPosition=this.getPosition(t,Hs.CHANGED),this.tapheld=!1,window.clearTimeout(this.holdTimer),this.tapend(t),this.swipeend(t),this.tap(t),this.doubletap(t),this.singletap(t),this.tapStarted=!1,this.swipeStarted=!1,this.hasSwiped=!1,!0}onMoveEvent(t){return this.endPosition=this.getPosition(t,Hs.TARGET),this.finalCoord=this.getPosition(t,Hs.TARGET),this.tapmove(t),this.swipe(t),!0}tapstart(t){return this.triggerCustomEvent("tapstart",t,this.getTouchData(t,!1,Hs.DEFAULT,Hs.CHANGED)),!0}tapmove(t){return this.triggerCustomEvent("tapmove",t,this.getTouchData(t,!1,Hs.DEFAULT,Hs.CHANGED)),!0}tapend(t){return this.triggerCustomEvent("tapend",t,this.getTouchData(t,!1,Hs.CHANGED,Hs.CHANGED)),!0}taphold(t){return this.holdTimer=window.setTimeout((()=>{const e=this.startPosition.x-this.endPosition.x,i=this.startPosition.y-this.endPosition.y;if(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&i>=-this.settings.tapPixelRange&&i<=this.settings.tapPixelRange){this.tapheld=!0;const e=Date.now()-this.startTime,i=t.targetTouches?t.targetTouches.length:1,s=new Array;for(let r=0;r<i;r++){const e=this.el.getBoundingClientRect(),i={position:{x:this.settings.touchCapable?t.changedTouches[r].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[r].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[r].pageX-(e?e.left:0)):Math.round(t.pageX-(e?e.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[r].pageY-(e?e.top:0)):Math.round(t.pageY-(e?e.top:0))}};s.push(i)}const n=i>1?"taphold"+i:"taphold",o={touches:s,time:Date.now(),duration:e};this.triggerCustomEvent(n,t,o)}}),this.settings.tapholdThreshold),!0}doubletap(t){const e=Date.now(),i=e-(Number(this.lastTouch)||e+1);if(-1!==this.actionTimer&&window.clearTimeout(this.actionTimer),i<this.settings.doubletapInterval&&i>100&&this.firstTap&&M(t.target)===this.firstTap.index){this.doubletapped=!0,window.clearTimeout(this.tapTimer);const e=this.getTouchData(t,!0,Hs.CHANGED,Hs.CHANGED),i={firstTap:this.firstTap,secondTap:e,interval:e.time-this.firstTap.time};this.cooling||(this.triggerCustomEvent("doubletap",t,i),this.firstTap=null),this.cooling=!0,window.setTimeout((()=>{this.cooling=!1}),this.settings.doubletapInterval)}else this.actionTimer=window.setTimeout((()=>{this.firstTap=null,window.clearTimeout(this.actionTimer)}),this.settings.doubletapInterval,[t]);this.lastTouch=e}singletap(t){this.tapTimer=window.setTimeout((()=>{const e=this.startPosition.x-this.endPosition.x,i=this.startPosition.y-this.endPosition.y;if(!this.doubletapped&&!this.tapheld&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&i>=-this.settings.tapPixelRange&&i<=this.settings.tapPixelRange)){const e=this.getTouchData(t,!1,Hs.CHANGED,Hs.CHANGED);e.time-this.startTime<this.settings.tapholdThreshold&&this.triggerCustomEvent("singletap",t,e)}}),this.settings.doubletapInterval)}tap(t){const e=this.startPosition.x-this.endPosition.x,i=this.startPosition.y-this.endPosition.y;if(this.tapStarted&&Date.now()-this.startTime<this.settings.tapholdThreshold&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&i>=-this.settings.tapPixelRange&&i<=this.settings.tapPixelRange)){const e=t.targetTouches?t.targetTouches.length:1,i=new Array;for(let o=0;o<e;o++){const e=this.el.getBoundingClientRect(),s={position:{x:this.settings.touchCapable?t.changedTouches[o].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[o].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[o].pageX-(e?e.left:0)):Math.round(t.pageX-(e?e.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[o].pageY-(e?e.top:0)):Math.round(t.pageY-(e?e.top:0))}};i.push(s)}const s={touches:i,time:Date.now()},n=e>1?"tap"+e:"tap";this.triggerCustomEvent(n,t,s)}}swipe(t){const e=this.getSwipeDir(this.originalCoord,this.finalCoord);if(e&&this.swipeStarted&&this.startEvnt){this.originalCoord.x=0,this.originalCoord.y=0,this.finalCoord.x=0,this.finalCoord.y=0,this.swipeStarted=!1;const i=this.getTouchData(t,!1,Hs.DEFAULT,Hs.CHANGED),s=Math.abs(this.startEvnt.position.x-i.position.x),n=Math.abs(this.startEvnt.position.y-i.position.y),o={startEvnt:this.startEvnt,endEvnt:i,direction:e.replace("swipe",""),xAmount:s,yAmount:n,duration:i.time-this.startEvnt.time};this.hasSwiped=!0,this.triggerCustomEvent("swipe",t,o),this.triggerCustomEvent(e,t,o)}}swipeend(t){const e=this.getTouchData(t,!1,Hs.CHANGED,Hs.CHANGED);if(this.hasSwiped&&this.startEvnt){const i=this.getSwipeDir(this.startEvnt.position,e.position),s=Math.abs(this.startEvnt.position.x-e.position.x),n=Math.abs(this.startEvnt.position.y-e.position.y),o={startEvnt:this.startEvnt,endEvnt:e,direction:i.replace("swipe",""),xAmount:s,yAmount:n,duration:e.time-this.startEvnt.time};this.triggerCustomEvent("swipeend",t,o)}}}const js=Object.freeze(Object.defineProperty({__proto__:null,Autoscroll:Ps,Dragscroll:Bs,ExtrasService:Ms,FullscreenService:Rs,Gameloop:Ds,ScrollEventsService:$s,TouchEventsService:zs},Symbol.toStringTag,{value:"Module"}));class Us extends wt{constructor(...e){super(...e),t(this,"watchScrollOnElement",void 0),t(this,"offsetTop",0),t(this,"offsetBottom",0),t(this,"elementSelector",""),t(this,"onScroll",tt(this._onScroll.bind(this)))}_onScroll(){if("window"===this.elementSelector){const t=this.watchScrollOnElement;t.scrollY<=0+this.offsetTop?this.el.dataset.scrollPositionY="top":t.innerHeight+t.pageYOffset+this.offsetBottom>=document.body.offsetHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}else{const t=this.watchScrollOnElement;t.scrollTop<=0+this.offsetTop?this.el.dataset.scrollPositionY="top":t.scrollTop+this.offsetBottom>=t.scrollHeight-t.clientHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}}routine(t,e="window"){this.watchScrollOnElement&&this.watchScrollOnElement.removeEventListener("scroll",this.onScroll),this.watchScrollOnElement="window"===e?window:"this"===e?this.el:document.querySelector(e)||void 0,this.watchScrollOnElement&&this.watchScrollOnElement.addEventListener("scroll",this.onScroll,{passive:!0}),this.offsetTop=Number(this.el.dataset.offsetTop)||10,this.offsetBottom=Number(this.el.dataset.offsetBottom)||10,this.elementSelector=e,this.onScroll()}unbind(){this.watchScrollOnElement&&this.watchScrollOnElement.removeEventListener("scroll",this.onScroll)}}t(Us,"key","data-scroll-position-y");var Ws,qs={},Vs={},Ys={get exports(){return Vs},set exports(t){Vs=t}};function Zs(){return Ws||(Ws=1,function(t){!function(e,i){t.exports?t.exports=i():e.EvEmitter=i()}("undefined"!=typeof window?window:Ji,(function(){function t(){}let e=t.prototype;return e.on=function(t,e){if(!t||!e)return this;let i=this._events=this._events||{},s=i[t]=i[t]||[];return s.includes(e)||s.push(e),this},e.once=function(t,e){if(!t||!e)return this;this.on(t,e);let i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this},e.off=function(t,e){let i=this._events&&this._events[t];if(!i||!i.length)return this;let s=i.indexOf(e);return-1!=s&&i.splice(s,1),this},e.emitEvent=function(t,e){let i=this._events&&this._events[t];if(!i||!i.length)return this;i=i.slice(0),e=e||[];let s=this._onceEvents&&this._onceEvents[t];for(let n of i){s&&s[n]&&(this.off(t,n),delete s[n]),n.apply(this,e)}return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t}))}(Ys)),Vs}
/*!
       * imagesLoaded v5.0.0
       * JavaScript is all like "You images are done yet or what?"
       * MIT License
       */!function(t){!function(e,i){t.exports?t.exports=i(e,Zs()):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:Ji,(function(t,e){let i=t.console;function s(t,e,n){if(!(this instanceof s))return new s(t,e,n);let o=t;var r;("string"==typeof t&&(o=document.querySelectorAll(t)),o)?(this.elements=(r=o,Array.isArray(r)?r:"object"==typeof r&&"number"==typeof r.length?[...r]:[r]),this.options={},"function"==typeof e?n=e:Object.assign(this.options,e),n&&this.on("always",n),this.getImages(),setTimeout(this.check.bind(this))):i.error(`Bad element for imagesLoaded ${o||t}`)}s.prototype=Object.create(e.prototype),s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const n=[1,9,11];s.prototype.addElementImages=function(t){"IMG"===t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);let{nodeType:e}=t;if(!e||!n.includes(e))return;let i=t.querySelectorAll("img");for(let s of i)this.addImage(s);if("string"==typeof this.options.background){let e=t.querySelectorAll(this.options.background);for(let t of e)this.addElementBackgroundImages(t)}};const o=/url\((['"])?(.*?)\1\)/gi;function r(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){let e=getComputedStyle(t);if(!e)return;let i=o.exec(e.backgroundImage);for(;null!==i;){let s=i&&i[2];s&&this.addBackground(s,t),i=o.exec(e.backgroundImage)}},s.prototype.addImage=function(t){let e=new r(t);this.images.push(e)},s.prototype.addBackground=function(t,e){let i=new a(t,e);this.images.push(i)},s.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();let t=(t,e,i)=>{setTimeout((()=>{this.progress(t,e,i)}))};this.images.forEach((function(e){e.once("progress",t),e.check()}))},s.prototype.progress=function(t,e,s){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&i&&i.log(`progress: ${s}`,t,e)},s.prototype.complete=function(){let t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this])},r.prototype=Object.create(e.prototype),r.prototype.check=function(){if(this.getIsImageComplete())return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");const t=this.img.currentSrc||this.img.src;t&&(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=t)},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t;let{parentNode:i}=this.img,s="PICTURE"===i.nodeName?i:this.img;this.emitEvent("progress",[this,s,e])},r.prototype.handleEvent=function(t){let e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(r.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s}))}({get exports(){return qs},set exports(t){qs=t}});class Gs extends wt{constructor(...e){super(...e),t(this,"events",void 0),t(this,"onAlways",this._onEvent.bind(this,"load-always")),t(this,"onDone",this._onEvent.bind(this,"load-done")),t(this,"onFail",this._onEvent.bind(this,"load-fail")),t(this,"onProgress",this._onEvent.bind(this,"load-progress"))}_onEvent(t,e,i){this.el.dispatchEvent(new CustomEvent(t,{detail:{load:e,image:i}}))}bind(t){this.events=qs(t),this.events?.on("always",this.onAlways),this.events?.on("done",this.onDone),this.events?.on("fail",this.onFail),this.events?.on("progress",this.onProgress)}unbind(){this.events&&(this.events?.off("always",this.onAlways),this.events?.off("done",this.onDone),this.events?.off("fail",this.onFail),this.events?.off("progress",this.onProgress))}routine(){this.events?.check()}}t(Gs,"key","image-events");class Ks extends wt{constructor(...e){super(...e),t(this,"touchEventService",void 0)}bind(t){this.touchEventService=new zs(t)}unbind(){this.touchEventService&&this.touchEventService.destroy()}routine(){}}t(Ks,"key","touch-events");class Xs extends wt{constructor(...e){super(...e),t(this,"touchEventService",void 0)}bind(t){this.touchEventService=new $s(t)}unbind(){this.touchEventService&&this.touchEventService.destroy()}routine(){}}t(Xs,"key","scroll-events");class Qs extends wt{constructor(...e){super(...e),t(this,"position",void 0),t(this,"angle",void 0),t(this,"onResize",this._onResize.bind(this))}_onResize(){if(!this.position)throw new Error("postion not defined!");if(!this.angle)throw new Error("angle not defined!");I(this.el,this.position,this.angle)}routine(t,e){this.position=e,this.angle=this.args[0],"x"===this.angle&&(this.angle="horizontal"),"y"===this.angle&&(this.angle="vertical"),window.addEventListener("resize",this.onResize,{passive:!0}),I(t,this.position,this.angle)}}t(Qs,"key","scroll-position-*");class Js extends wt{constructor(...e){super(...e),t(this,"autoscroll",void 0)}routine(t,e){e&&e.width&&f(e.width)&&(e.width,t.style.width=e.width),t.classList.add(`rv-autoscroll-${e.angle}`),setTimeout((()=>{this.autoscroll&&this.autoscroll.destroy(),this.autoscroll=new Ps(t,e)}),1e3)}unbind(){this.autoscroll&&this.autoscroll.destroy()}}t(Js,"key","autoscroll");class tn extends wt{constructor(...e){super(...e),t(this,"dragscroll",void 0)}routine(t,e){this.dragscroll&&this.dragscroll.destroy(),this.dragscroll=new Bs(t,e)}unbind(){this.dragscroll&&this.dragscroll.destroy()}}t(tn,"key","scrollbar-draggable");class en extends wt{constructor(...e){super(...e),t(this,"function",!0),t(this,"priority",1e3),t(this,"elToSync",void 0),t(this,"syncWidth",et((()=>{this.el.style.width=(this.elToSync?.clientWidth||0)+"px"}))),t(this,"syncHeight",et((()=>{this.el.style.height=(this.elToSync?.clientHeight||0)+"px"})))}unbind(){const t=this.args[0];this.elToSync&&this.elToSync.removeEventListener("resize","width"===t?this.syncWidth:this.syncHeight)}routine(t,e){if(null===this.args)throw new Error("args is null");const i=this.args[0];this.elToSync&&this.elToSync.removeEventListener("resize","width"===i?this.syncWidth:this.syncHeight);const s=document.getElementById(e);if(s)switch(this.elToSync=s,i){case"height":t.style.height=s.clientHeight+"px",window.addEventListener("resize",this.syncHeight);break;case"width":t.style.width=s.clientWidth+"px",window.addEventListener("resize",this.syncWidth);break;default:console.warn("[syncElementPropertyBinder] Unknown property: "+i)}else console.warn("[syncElementPropertyBinder] Could not find element with id: "+e)}}t(en,"key","sync-element-*");const sn={helper:Ns,formatters:{},binders:Object.freeze(Object.defineProperty({__proto__:null,AutoscrollBinder:Js,DataScrollPositionYBinder:Us,ImageEventsBinder:Gs,ScrollEventsBinder:Xs,ScrollPositionAngleBinder:Qs,ScrollbarDraggableBinder:tn,SyncElementPropertyBinder:en,TouchEventsBinder:Ks},Symbol.toStringTag,{value:"Module"})),services:js,components:{},init(t={}){return Ms.setSingleton(t),this}};var nn,on={},rn={},an={get exports(){return rn},set exports(t){rn=t}},ln={},hn={get exports(){return ln},set exports(t){ln=t}};function cn(){return nn||(nn=1,function(t){!function(e,i){t.exports?t.exports=i():e.EvEmitter=i()}("undefined"!=typeof window?window:Ji,(function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},s=i[t]=i[t]||[];return-1==s.indexOf(e)&&s.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var s=i.indexOf(e);return-1!=s&&i.splice(s,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var s=this._onceEvents&&this._onceEvents[t],n=0;n<i.length;n++){var o=i[n];s&&s[o]&&(this.off(t,o),delete s[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))}(hn)),ln}var dn,un={},pn={get exports(){return un},set exports(t){un=t}};function mn(){return dn||(dn=1,function(t){!function(e,i){t.exports?t.exports=i():e.getSize=i()}(window,(function(){function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=i.length;function n(t){var i=getComputedStyle(t);return i||e("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var o,r=!1;function a(e){if(function(){if(!r){r=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var s=n(e);o=200==Math.round(t(s.width)),a.isBoxSizeOuter=o,i.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var l=n(e);if("none"==l.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<s;e++)t[i[e]]=0;return t}();var h={};h.width=e.offsetWidth,h.height=e.offsetHeight;for(var c=h.isBorderBox="border-box"==l.boxSizing,d=0;d<s;d++){var u=i[d],p=l[u],m=parseFloat(p);h[u]=isNaN(m)?0:m}var f=h.paddingLeft+h.paddingRight,g=h.paddingTop+h.paddingBottom,v=h.marginLeft+h.marginRight,b=h.marginTop+h.marginBottom,w=h.borderLeftWidth+h.borderRightWidth,y=h.borderTopWidth+h.borderBottomWidth,_=c&&o,E=t(l.width);!1!==E&&(h.width=E+(_?0:f+w));var S=t(l.height);return!1!==S&&(h.height=S+(_?0:g+y)),h.innerWidth=h.width-(f+w),h.innerHeight=h.height-(g+y),h.outerWidth=h.width+v,h.outerHeight=h.height+b,h}}return a}))}(pn)),un}var fn,gn,vn={},bn={get exports(){return vn},set exports(t){vn=t}},wn={},yn={get exports(){return wn},set exports(t){wn=t}};function _n(){return fn||(fn=1,function(t){!function(e,i){t.exports?t.exports=i():e.matchesSelector=i()}(window,(function(){var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var s=e[i]+"MatchesSelector";if(t[s])return s}}();return function(e,i){return e[t](i)}}))}(yn)),wn}function En(){return gn||(gn=1,function(t){!function(e,i){t.exports?t.exports=i(e,_n()):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,(function(t,e){var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},s=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?s.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,s){t=i.makeArray(t);var n=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(s){e(t,s)&&n.push(t);for(var i=t.querySelectorAll(s),o=0;o<i.length;o++)n.push(i[o])}else n.push(t)})),n},i.debounceMethod=function(t,e,i){i=i||100;var s=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];clearTimeout(t);var e=arguments,o=this;this[n]=setTimeout((function(){s.apply(o,e),delete o[n]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var n=t.console;return i.htmlInit=function(e,s){i.docReady((function(){var o=i.toDashed(s),r="data-"+o,a=document.querySelectorAll("["+r+"]"),l=document.querySelectorAll(".js-"+o),h=i.makeArray(a).concat(i.makeArray(l)),c=r+"-options",d=t.jQuery;h.forEach((function(t){var i,o=t.getAttribute(r)||t.getAttribute(c);try{i=o&&JSON.parse(o)}catch(l){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+l))}var a=new e(t,i);d&&d.data(t,s,a)}))}))},i}))}(bn)),vn}var Sn,Cn,xn={},Tn={get exports(){return xn},set exports(t){xn=t}};function kn(){return Sn||(Sn=1,function(t){!function(e,i){t.exports?t.exports=i(cn(),mn()):(e.Outlayer={},e.Outlayer.Item=i(e.EvEmitter,e.getSize))}(window,(function(t,e){var i=document.documentElement.style,s="string"==typeof i.transition?"transition":"WebkitTransition",n="string"==typeof i.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],r={transform:n,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"};function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(t.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var i in t){e[r[i]||i]=t[i]}},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),s=t[e?"left":"right"],n=t[i?"top":"bottom"],o=parseFloat(s),r=parseFloat(n),a=this.layout.size;-1!=s.indexOf("%")&&(o=o/100*a.width),-1!=n.indexOf("%")&&(r=r/100*a.height),o=isNaN(o)?0:o,r=isNaN(r)?0:r,o-=e?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=r},l.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),s=this.layout._getOption("originTop"),n=i?"paddingLeft":"paddingRight",o=i?"left":"right",r=i?"right":"left",a=this.position.x+t[n];e[o]=this.getXValue(a),e[r]="";var l=s?"paddingTop":"paddingBottom",h=s?"top":"bottom",c=s?"bottom":"top",d=this.position.y+t[l];e[h]=this.getYValue(d),e[c]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var i=this.position.x,s=this.position.y,n=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!n||this.isTransitioning){var o=t-i,r=e-s,a={};a.transform=this.getTranslate(o,r),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var h="opacity,"+n.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:h,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=c[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd)e.onEnd[i].call(this),delete e.onEnd[i];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(d)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}))}(Tn)),xn}
/*!
       * Outlayer v2.1.1
       * the brains and guts of a layout library
       * MIT license
       */function An(){return Cn||(Cn=1,function(t){!function(e,i){t.exports?t.exports=i(e,cn(),mn(),En(),kn()):e.Outlayer=i(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,(function(t,e,i,s,n){var o=t.console,r=t.jQuery,a=function(){},l=0,h={};function c(t,e){var i=s.getQueryElement(t);if(i){this.element=i,r&&(this.$element=r(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(e);var n=++l;this.element.outlayerGUID=n,h[n]=this,this._create(),this._getOption("initLayout")&&this.layout()}else o&&o.error("Bad element for "+this.constructor.namespace+": "+(i||t))}c.namespace="outlayer",c.Item=n,c.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=c.prototype;function u(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}s.extend(d,e.prototype),d.option=function(t){s.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},c.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),s.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,s=[],n=0;n<e.length;n++){var o=new i(e[n],this);s.push(o)}return s},d._filterFindItemElements=function(t){return s.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map((function(t){return t.element}))},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=i(this.element)},d._getMeasurement=function(t,e){var s,n=this.options[t];n?("string"==typeof n?s=this.element.querySelector(n):n instanceof HTMLElement&&(s=n),this[t]=s?i(s)[e]:n):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter((function(t){return!t.isIgnored}))},d._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach((function(t){var s=this._getItemLayoutPosition(t);s.item=t,s.isInstant=e||t.isLayoutInstant,i.push(s)}),this),this._processLayoutQueue(i)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach((function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)}),this)},d.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],s=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var n=p[s]||1;return i*n}(t),this.stagger;this.stagger=0},d._positionItem=function(t,e,i,s,n){s?t.goTo(e,i):(t.stagger(n*this.stagger),t.moveTo(e,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},d._getContainerSize=a,d._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},d._emitCompleteOnItems=function(t,e){var i=this;function s(){i.dispatchEvent(t+"Complete",null,[e])}var n=e.length;if(e&&n){var o=0;e.forEach((function(e){e.once(t,r)}))}else s();function r(){++o==n&&s()}},d.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;if(this.emitEvent(t,s),r)if(this.$element=this.$element||r(this.element),e){var n=r.Event(e);n.type=t,this.$element.trigger(n,i)}else this.$element.trigger(t,i)},d.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},d.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach((function(t){s.removeFrom(this.stamps,t),this.unignore(t)}),this)},d._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=s.makeArray(t)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=a,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),s=this._boundingRect,n=i(t);return{left:e.left-s.left-n.marginLeft,top:e.top-s.top-n.marginTop,right:s.right-e.right-n.marginRight,bottom:s.bottom-e.bottom-n.marginBottom}},d.handleEvent=s.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},s.debounceMethod(c,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},d.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},d.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},d.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,i){t.stagger(i*e),t.reveal()}))}},d.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,i){t.stagger(i*e),t.hide()}))}},d.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},d.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},d.getItems=function(t){t=s.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getItem(t);i&&e.push(i)}),this),e},d.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach((function(t){t.remove(),s.removeFrom(this.items,t)}),this)},d.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach((function(t){t.destroy()})),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace)},c.data=function(t){var e=(t=s.getQueryElement(t))&&t.outlayerGUID;return e&&h[e]},c.create=function(t,e){var i=u(c);return i.defaults=s.extend({},c.defaults),s.extend(i.defaults,e),i.compatOptions=s.extend({},c.compatOptions),i.namespace=t,i.data=c.data,i.Item=u(n),s.htmlInit(i,t),r&&r.bridget&&r.bridget(t,i),i};var p={ms:1,s:1e3};return c.Item=n,c}))}(an)),rn}
/*!
       * Masonry v4.2.2
       * Cascading grid layout library
       * https://masonry.desandro.com
       * MIT License
       * by David DeSandro
       */!function(t){!function(e,i){t.exports?t.exports=i(An(),mn()):e.Masonry=i(e.Outlayer,e.getSize)}(window,(function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var s=i.prototype;return s._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},s.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var s=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,o=n/s,r=s-n%s;o=Math[r&&r<1?"round":"floor"](o),this.cols=Math.max(o,1)},s.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},s._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var s=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,t),n={x:this.columnWidth*s.col,y:s.y},o=s.y+t.size.outerHeight,r=i+s.col,a=s.col;a<r;a++)this.colYs[a]=o;return n},s._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},s._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,s=0;s<i;s++)e[s]=this._getColGroupY(s,t);return e},s._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},s._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols;i=t>1&&i+t>this.cols?0:i;var s=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=s?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},s._manageStamp=function(t){var i=e(t),s=this._getElementOffset(t),n=this._getOption("originLeft")?s.left:s.right,o=n+i.outerWidth,r=Math.floor(n/this.columnWidth);r=Math.max(0,r);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?s.top:s.bottom)+i.outerHeight,h=r;h<=a;h++)this.colYs[h]=Math.max(l,this.colYs[h])},s._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},s._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},s.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}))}({get exports(){return on},set exports(t){on=t}});class Ln extends wt{constructor(...e){super(...e),t(this,"masonry",null),t(this,"images",null),t(this,"resizeObserver",null),t(this,"layout",tt(this._layout.bind(this)))}_layout(){this.masonry?.layout&&this.masonry.layout()}bind(t){window.ResizeObserver?(this.resizeObserver=new ResizeObserver(this.layout),this.resizeObserver.observe(t)):(window.removeEventListener("resize",this.layout),window.addEventListener("resize",this.layout,{passive:!0}));U.getInstance().events.once("ComponentLifecycle:allBound",this.layout,this);const e=new z("main");e.once("newPageReady",this.layout,this),e.once("transitionCompleted",this.layout,this),this.layout()}unbind(t){let e=this.masonry;e?.destroy&&(e.destroy(),e=null),this.images&&this.images.forEach((t=>{this.resizeObserver?.unobserve(t)})),this.resizeObserver?.unobserve(t),window.removeEventListener("resize",this.layout)}routine(t,e={}){this?.masonry?.destroy&&this.masonry.destroy(),this.masonry=new on(t,e),this.images=t.querySelectorAll("img"),this.images.forEach((t=>{t.removeEventListener("load",this.layout),t.addEventListener("load",this.layout,{once:!0}),t.removeEventListener("load-always",this.layout),t.addEventListener("load-always",this.layout,{once:!0}),this.resizeObserver?.observe(t)})),this.layout()}}t(Ln,"key","masonry");const In=Object.freeze(Object.defineProperty({__proto__:null,MasonryBinder:Ln},Symbol.toStringTag,{value:"Module"})),On=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class Nn{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of MasonryService not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of MasonryService already defined!");return this._options=t,this.instance=new this,this.instance}}t(Nn,"_options",void 0),t(Nn,"instance",void 0);const Dn={binders:In,services:Object.freeze(Object.defineProperty({__proto__:null,MasonryService:Nn},Symbol.toStringTag,{value:"Module"})),formatters:On,components:Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),init(t={}){return Nn.setSingleton(t),this}},Pn=["theme-os","theme-dark","theme-light"],Bn={dimension:0,name:"xs"},Mn={dimension:576,name:"sm"},Rn={dimension:768,name:"md"},Fn={dimension:992,name:"lg"},$n={dimension:1200,name:"xl"},Hn={dimension:1400,name:"xxl"},zn={breakpoints:[Bn,Mn,Rn,Fn,$n,Hn],allowStoreDataInBrowser:!0},jn={nsPrefix:"bs5-toggle-button:",eventNames:{toggle:"toggle",toggled:"toggled",init:"init",state:"state"}},Un={elEventNames:{removed:"removed",added:"added"}},Wn={elEventNames:{removed:"removed",added:"added"}},qn=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_BP_LG:Fn,DEFAULT_BP_MD:Rn,DEFAULT_BP_SM:Mn,DEFAULT_BP_XL:$n,DEFAULT_BP_XS:Bn,DEFAULT_BP_XXL:Hn,DEFAULT_MODULE_OPTIONS:zn,TOGGLE_ATTRIBUTE:Un,TOGGLE_BUTTON:jn,TOGGLE_CLASS:Wn,themeChoices:Pn},Symbol.toStringTag,{value:"Module"}));class Vn{constructor(e){t(this,"_options",zn),t(this,"_events",z.getInstance("bs5")),t(this,"_activeBreakpoint",null),t(this,"onViewChanges",tt(this._onViewChanges.bind(this))),this._options=e,this.sortBreakpoints(this._options.breakpoints),this._onViewChanges(),this.addEventListeners()}static getSingleton(){if(Vn.instance)return Vn.instance;throw new Error("Singleton of Bs5Service not defined, please call `Bs5Service.setSingleton` or `bs5Module.init` first!")}static setSingleton(t=zn){if(Vn.instance)throw new Error("Singleton of Bs5Service already defined!");return Vn.instance=new Vn(t),Vn.instance}onBreakpointChanges(){this._events.trigger("breakpoint:changed",this.activeBreakpoint)}setActiveBreakpoint(t){t&&t.name!==this.activeBreakpoint?.name&&(this._activeBreakpoint=t,this.onBreakpointChanges())}addEventListeners(){window.addEventListener("resize",this.onViewChanges,{passive:!0})}removeEventListeners(){window.removeEventListener("resize",this.onViewChanges)}_onViewChanges(){const t=this.getBreakpointByDimension(N().w)||this.getBreakpointByName("xs");t&&this.setActiveBreakpoint(t)}sortBreakpoints(t){t.sort(((t,e)=>t.dimension-e.dimension))}get options(){return this._options}get activeBreakpoint(){return this._activeBreakpoint}get breakpointNames(){return this.options.breakpoints.map((t=>t.name))}get events(){return this._events}on(t,e,i){return this.events.on(t,e,i)}once(t,e,i){return this.events.once(t,e,i)}off(t,e,i){return this.events.off(t,e,i)}getBreakpointByDimension(t,e){e=e||this.options.breakpoints;for(let s=0;s<e.length-1;s++){const i=e[s],n=e[s+1];if(n&&i&&t>i.dimension&&t<n.dimension)return i}const i=e[e.length-1];return t>=i.dimension?i:null}getBreakpointByName(t,e){const i=(e=e||this.options.breakpoints).find((e=>e.name===t));return i||null}getNextBreakpointByName(t){const e=this.breakpointNames,i=e.indexOf(t);if(i<0)throw new Error(`the breakpoint "${t}" does not exist!`);return i===e.length-1?null:e[i+1]}getPrevBreakpointByName(t){const e=this.breakpointNames,i=e.indexOf(t);if(i<0)throw new Error(`the breakpoint "${t}" does not exist!`);return 0===i?null:e[i-1]}isBreakpointGreaterThan(t,e){const i=this.getBreakpointByName(t),s=this.getBreakpointByName(e);return i&&s?i.dimension>s.dimension:null}isBreakpointSmallerThan(t,e){const i=this.getBreakpointByName(t),s=this.getBreakpointByName(e);return i&&s?i.dimension<s.dimension:null}isActiveBreakpointGreaterThan(t){return this.activeBreakpoint?this.isBreakpointGreaterThan(this.activeBreakpoint.name,t):null}isActiveBreakpointSmallerThan(t){return this.activeBreakpoint?this.isBreakpointSmallerThan(this.activeBreakpoint.name,t):null}}t(Vn,"instance",void 0);var Yn="top",Zn="bottom",Gn="right",Kn="left",Xn="auto",Qn=[Yn,Zn,Gn,Kn],Jn="start",to="end",eo="clippingParents",io="viewport",so="popper",no="reference",oo=Qn.reduce((function(t,e){return t.concat([e+"-"+Jn,e+"-"+to])}),[]),ro=[].concat(Qn,[Xn]).reduce((function(t,e){return t.concat([e,e+"-"+Jn,e+"-"+to])}),[]),ao="beforeRead",lo="read",ho="afterRead",co="beforeMain",uo="main",po="afterMain",mo="beforeWrite",fo="write",go="afterWrite",vo=[ao,lo,ho,co,uo,po,mo,fo,go];function bo(t){return t?(t.nodeName||"").toLowerCase():null}function wo(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function yo(t){return t instanceof wo(t).Element||t instanceof Element}function _o(t){return t instanceof wo(t).HTMLElement||t instanceof HTMLElement}function Eo(t){return"undefined"!=typeof ShadowRoot&&(t instanceof wo(t).ShadowRoot||t instanceof ShadowRoot)}const So={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},n=e.elements[t];_o(n)&&bo(n)&&(Object.assign(n.style,i),Object.keys(s).forEach((function(t){var e=s[t];!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var s=e.elements[t],n=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});_o(s)&&bo(s)&&(Object.assign(s.style,o),Object.keys(n).forEach((function(t){s.removeAttribute(t)})))}))}},requires:["computeStyles"]};function Co(t){return t.split("-")[0]}var xo=Math.max,To=Math.min,ko=Math.round;function Ao(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function Lo(){return!/^((?!chrome|android).)*safari/i.test(Ao())}function Io(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var s=t.getBoundingClientRect(),n=1,o=1;e&&_o(t)&&(n=t.offsetWidth>0&&ko(s.width)/t.offsetWidth||1,o=t.offsetHeight>0&&ko(s.height)/t.offsetHeight||1);var r=(yo(t)?wo(t):window).visualViewport,a=!Lo()&&i,l=(s.left+(a&&r?r.offsetLeft:0))/n,h=(s.top+(a&&r?r.offsetTop:0))/o,c=s.width/n,d=s.height/o;return{width:c,height:d,top:h,right:l+c,bottom:h+d,left:l,x:l,y:h}}function Oo(t){var e=Io(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function No(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&Eo(i)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Do(t){return wo(t).getComputedStyle(t)}function Po(t){return["table","td","th"].indexOf(bo(t))>=0}function Bo(t){return((yo(t)?t.ownerDocument:t.document)||window.document).documentElement}function Mo(t){return"html"===bo(t)?t:t.assignedSlot||t.parentNode||(Eo(t)?t.host:null)||Bo(t)}function Ro(t){return _o(t)&&"fixed"!==Do(t).position?t.offsetParent:null}function Fo(t){for(var e=wo(t),i=Ro(t);i&&Po(i)&&"static"===Do(i).position;)i=Ro(i);return i&&("html"===bo(i)||"body"===bo(i)&&"static"===Do(i).position)?e:i||function(t){var e=/firefox/i.test(Ao());if(/Trident/i.test(Ao())&&_o(t)&&"fixed"===Do(t).position)return null;var i=Mo(t);for(Eo(i)&&(i=i.host);_o(i)&&["html","body"].indexOf(bo(i))<0;){var s=Do(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(t)||e}function $o(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ho(t,e,i){return xo(t,To(e,i))}function zo(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function jo(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}var Uo=function(t,e){return zo("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:jo(t,Qn))};const Wo={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,s=t.name,n=t.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,a=Co(i.placement),l=$o(a),h=[Kn,Gn].indexOf(a)>=0?"height":"width";if(o&&r){var c=Uo(n.padding,i),d=Oo(o),u="y"===l?Yn:Kn,p="y"===l?Zn:Gn,m=i.rects.reference[h]+i.rects.reference[l]-r[l]-i.rects.popper[h],f=r[l]-i.rects.reference[l],g=Fo(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=m/2-f/2,w=c[u],y=v-d[h]-c[p],_=v/2-d[h]/2+b,E=Ho(w,_,y),S=l;i.modifiersData[s]=((e={})[S]=E,e.centerOffset=E-_,e)}},effect:function(t){var e=t.state,i=t.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"!=typeof s||(s=e.elements.popper.querySelector(s)))&&No(e.elements.popper,s)&&(e.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qo(t){return t.split("-")[1]}var Vo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yo(t){var e,i=t.popper,s=t.popperRect,n=t.placement,o=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,h=t.adaptive,c=t.roundOffsets,d=t.isFixed,u=r.x,p=void 0===u?0:u,m=r.y,f=void 0===m?0:m,g="function"==typeof c?c({x:p,y:f}):{x:p,y:f};p=g.x,f=g.y;var v=r.hasOwnProperty("x"),b=r.hasOwnProperty("y"),w=Kn,y=Yn,_=window;if(h){var E=Fo(i),S="clientHeight",C="clientWidth";if(E===wo(i)&&"static"!==Do(E=Bo(i)).position&&"absolute"===a&&(S="scrollHeight",C="scrollWidth"),n===Yn||(n===Kn||n===Gn)&&o===to)y=Zn,f-=(d&&E===_&&_.visualViewport?_.visualViewport.height:E[S])-s.height,f*=l?1:-1;if(n===Kn||(n===Yn||n===Zn)&&o===to)w=Gn,p-=(d&&E===_&&_.visualViewport?_.visualViewport.width:E[C])-s.width,p*=l?1:-1}var x,T=Object.assign({position:a},h&&Vo),k=!0===c?function(t){var e=t.x,i=t.y,s=window.devicePixelRatio||1;return{x:ko(e*s)/s||0,y:ko(i*s)/s||0}}({x:p,y:f}):{x:p,y:f};return p=k.x,f=k.y,l?Object.assign({},T,((x={})[y]=b?"0":"",x[w]=v?"0":"",x.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",x)):Object.assign({},T,((e={})[y]=b?f+"px":"",e[w]=v?p+"px":"",e.transform="",e))}const Zo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,s=i.gpuAcceleration,n=void 0===s||s,o=i.adaptive,r=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,h={placement:Co(e.placement),variation:qo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Yo(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Yo(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Go={passive:!0};const Ko={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,s=t.options,n=s.scroll,o=void 0===n||n,r=s.resize,a=void 0===r||r,l=wo(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach((function(t){t.addEventListener("scroll",i.update,Go)})),a&&l.addEventListener("resize",i.update,Go),function(){o&&h.forEach((function(t){t.removeEventListener("scroll",i.update,Go)})),a&&l.removeEventListener("resize",i.update,Go)}},data:{}};var Xo={left:"right",right:"left",bottom:"top",top:"bottom"};function Qo(t){return t.replace(/left|right|bottom|top/g,(function(t){return Xo[t]}))}var Jo={start:"end",end:"start"};function tr(t){return t.replace(/start|end/g,(function(t){return Jo[t]}))}function er(t){var e=wo(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ir(t){return Io(Bo(t)).left+er(t).scrollLeft}function sr(t){var e=Do(t),i=e.overflow,s=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+s)}function nr(t){return["html","body","#document"].indexOf(bo(t))>=0?t.ownerDocument.body:_o(t)&&sr(t)?t:nr(Mo(t))}function or(t,e){var i;void 0===e&&(e=[]);var s=nr(t),n=s===(null==(i=t.ownerDocument)?void 0:i.body),o=wo(s),r=n?[o].concat(o.visualViewport||[],sr(s)?s:[]):s,a=e.concat(r);return n?a:a.concat(or(Mo(r)))}function rr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ar(t,e,i){return e===io?rr(function(t,e){var i=wo(t),s=Bo(t),n=i.visualViewport,o=s.clientWidth,r=s.clientHeight,a=0,l=0;if(n){o=n.width,r=n.height;var h=Lo();(h||!h&&"fixed"===e)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:o,height:r,x:a+ir(t),y:l}}(t,i)):yo(e)?function(t,e){var i=Io(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):rr(function(t){var e,i=Bo(t),s=er(t),n=null==(e=t.ownerDocument)?void 0:e.body,o=xo(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),r=xo(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-s.scrollLeft+ir(t),l=-s.scrollTop;return"rtl"===Do(n||i).direction&&(a+=xo(i.clientWidth,n?n.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}(Bo(t)))}function lr(t,e,i,s){var n="clippingParents"===e?function(t){var e=or(Mo(t)),i=["absolute","fixed"].indexOf(Do(t).position)>=0&&_o(t)?Fo(t):t;return yo(i)?e.filter((function(t){return yo(t)&&No(t,i)&&"body"!==bo(t)})):[]}(t):[].concat(e),o=[].concat(n,[i]),r=o[0],a=o.reduce((function(e,i){var n=ar(t,i,s);return e.top=xo(n.top,e.top),e.right=To(n.right,e.right),e.bottom=To(n.bottom,e.bottom),e.left=xo(n.left,e.left),e}),ar(t,r,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function hr(t){var e,i=t.reference,s=t.element,n=t.placement,o=n?Co(n):null,r=n?qo(n):null,a=i.x+i.width/2-s.width/2,l=i.y+i.height/2-s.height/2;switch(o){case Yn:e={x:a,y:i.y-s.height};break;case Zn:e={x:a,y:i.y+i.height};break;case Gn:e={x:i.x+i.width,y:l};break;case Kn:e={x:i.x-s.width,y:l};break;default:e={x:i.x,y:i.y}}var h=o?$o(o):null;if(null!=h){var c="y"===h?"height":"width";switch(r){case Jn:e[h]=e[h]-(i[c]/2-s[c]/2);break;case to:e[h]=e[h]+(i[c]/2-s[c]/2)}}return e}function cr(t,e){void 0===e&&(e={});var i=e,s=i.placement,n=void 0===s?t.placement:s,o=i.strategy,r=void 0===o?t.strategy:o,a=i.boundary,l=void 0===a?eo:a,h=i.rootBoundary,c=void 0===h?io:h,d=i.elementContext,u=void 0===d?so:d,p=i.altBoundary,m=void 0!==p&&p,f=i.padding,g=void 0===f?0:f,v=zo("number"!=typeof g?g:jo(g,Qn)),b=u===so?no:so,w=t.rects.popper,y=t.elements[m?b:u],_=lr(yo(y)?y:y.contextElement||Bo(t.elements.popper),l,c,r),E=Io(t.elements.reference),S=hr({reference:E,element:w,strategy:"absolute",placement:n}),C=rr(Object.assign({},w,S)),x=u===so?C:E,T={top:_.top-x.top+v.top,bottom:x.bottom-_.bottom+v.bottom,left:_.left-x.left+v.left,right:x.right-_.right+v.right},k=t.modifiersData.offset;if(u===so&&k){var A=k[n];Object.keys(T).forEach((function(t){var e=[Gn,Zn].indexOf(t)>=0?1:-1,i=[Yn,Zn].indexOf(t)>=0?"y":"x";T[t]+=A[i]*e}))}return T}function dr(t,e){void 0===e&&(e={});var i=e,s=i.placement,n=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,h=void 0===l?ro:l,c=qo(s),d=c?a?oo:oo.filter((function(t){return qo(t)===c})):Qn,u=d.filter((function(t){return h.indexOf(t)>=0}));0===u.length&&(u=d);var p=u.reduce((function(e,i){return e[i]=cr(t,{placement:i,boundary:n,rootBoundary:o,padding:r})[Co(i)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}const ur={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var n=i.mainAxis,o=void 0===n||n,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,h=i.padding,c=i.boundary,d=i.rootBoundary,u=i.altBoundary,p=i.flipVariations,m=void 0===p||p,f=i.allowedAutoPlacements,g=e.options.placement,v=Co(g),b=l||(v===g||!m?[Qo(g)]:function(t){if(Co(t)===Xn)return[];var e=Qo(t);return[tr(t),e,tr(e)]}(g)),w=[g].concat(b).reduce((function(t,i){return t.concat(Co(i)===Xn?dr(e,{placement:i,boundary:c,rootBoundary:d,padding:h,flipVariations:m,allowedAutoPlacements:f}):i)}),[]),y=e.rects.reference,_=e.rects.popper,E=new Map,S=!0,C=w[0],x=0;x<w.length;x++){var T=w[x],k=Co(T),A=qo(T)===Jn,L=[Yn,Zn].indexOf(k)>=0,I=L?"width":"height",O=cr(e,{placement:T,boundary:c,rootBoundary:d,altBoundary:u,padding:h}),N=L?A?Gn:Kn:A?Zn:Yn;y[I]>_[I]&&(N=Qo(N));var D=Qo(N),P=[];if(o&&P.push(O[k]<=0),a&&P.push(O[N]<=0,O[D]<=0),P.every((function(t){return t}))){C=T,S=!1;break}E.set(T,P)}if(S)for(var B=function(t){var e=w.find((function(e){var i=E.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},M=m?3:1;M>0;M--){if("break"===B(M))break}e.placement!==C&&(e.modifiersData[s]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function pr(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function mr(t){return[Yn,Gn,Zn,Kn].some((function(e){return t[e]>=0}))}const fr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,s=e.rects.reference,n=e.rects.popper,o=e.modifiersData.preventOverflow,r=cr(e,{elementContext:"reference"}),a=cr(e,{altBoundary:!0}),l=pr(r,s),h=pr(a,n,o),c=mr(l),d=mr(h);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}};const gr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,s=t.name,n=i.offset,o=void 0===n?[0,0]:n,r=ro.reduce((function(t,i){return t[i]=function(t,e,i){var s=Co(t),n=[Kn,Yn].indexOf(s)>=0?-1:1,o="function"==typeof i?i(Object.assign({},e,{placement:t})):i,r=o[0],a=o[1];return r=r||0,a=(a||0)*n,[Kn,Gn].indexOf(s)>=0?{x:a,y:r}:{x:r,y:a}}(i,e.rects,o),t}),{}),a=r[e.placement],l=a.x,h=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[s]=r}};const vr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=hr({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};const br={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,s=t.name,n=i.mainAxis,o=void 0===n||n,r=i.altAxis,a=void 0!==r&&r,l=i.boundary,h=i.rootBoundary,c=i.altBoundary,d=i.padding,u=i.tether,p=void 0===u||u,m=i.tetherOffset,f=void 0===m?0:m,g=cr(e,{boundary:l,rootBoundary:h,padding:d,altBoundary:c}),v=Co(e.placement),b=qo(e.placement),w=!b,y=$o(v),_="x"===y?"y":"x",E=e.modifiersData.popperOffsets,S=e.rects.reference,C=e.rects.popper,x="function"==typeof f?f(Object.assign({},e.rects,{placement:e.placement})):f,T="number"==typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(E){if(o){var L,I="y"===y?Yn:Kn,O="y"===y?Zn:Gn,N="y"===y?"height":"width",D=E[y],P=D+g[I],B=D-g[O],M=p?-C[N]/2:0,R=b===Jn?S[N]:C[N],F=b===Jn?-C[N]:-S[N],$=e.elements.arrow,H=p&&$?Oo($):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=z[I],U=z[O],W=Ho(0,S[N],H[N]),q=w?S[N]/2-M-W-j-T.mainAxis:R-W-j-T.mainAxis,V=w?-S[N]/2+M+W+U+T.mainAxis:F+W+U+T.mainAxis,Y=e.elements.arrow&&Fo(e.elements.arrow),Z=Y?"y"===y?Y.clientTop||0:Y.clientLeft||0:0,G=null!=(L=null==k?void 0:k[y])?L:0,K=D+V-G,X=Ho(p?To(P,D+q-G-Z):P,D,p?xo(B,K):B);E[y]=X,A[y]=X-D}if(a){var Q,J="x"===y?Yn:Kn,tt="x"===y?Zn:Gn,et=E[_],it="y"===_?"height":"width",st=et+g[J],nt=et-g[tt],ot=-1!==[Yn,Kn].indexOf(v),rt=null!=(Q=null==k?void 0:k[_])?Q:0,at=ot?st:et-S[it]-C[it]-rt+T.altAxis,lt=ot?et+S[it]+C[it]-rt-T.altAxis:nt,ht=p&&ot?function(t,e,i){var s=Ho(t,e,i);return s>i?i:s}(at,et,lt):Ho(p?at:st,et,p?lt:nt);E[_]=ht,A[_]=ht-et}e.modifiersData[s]=A}},requiresIfExists:["offset"]};function wr(t,e,i){void 0===i&&(i=!1);var s,n,o=_o(e),r=_o(e)&&function(t){var e=t.getBoundingClientRect(),i=ko(e.width)/t.offsetWidth||1,s=ko(e.height)/t.offsetHeight||1;return 1!==i||1!==s}(e),a=Bo(e),l=Io(t,r,i),h={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!i)&&(("body"!==bo(e)||sr(a))&&(h=(s=e)!==wo(s)&&_o(s)?{scrollLeft:(n=s).scrollLeft,scrollTop:n.scrollTop}:er(s)),_o(e)?((c=Io(e,!0)).x+=e.clientLeft,c.y+=e.clientTop):a&&(c.x=ir(a))),{x:l.left+h.scrollLeft-c.x,y:l.top+h.scrollTop-c.y,width:l.width,height:l.height}}function yr(t){var e=new Map,i=new Set,s=[];function n(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var s=e.get(t);s&&n(s)}})),s.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||n(t)})),s}var _r={placement:"bottom",modifiers:[],strategy:"absolute"};function Er(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Sr(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,s=void 0===i?[]:i,n=e.defaultOptions,o=void 0===n?_r:n;return function(t,e,i){void 0===i&&(i=o);var n,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},_r,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],h=!1,c={state:a,setOptions:function(i){var n="function"==typeof i?i(a.options):i;d(),a.options=Object.assign({},o,a.options,n),a.scrollParents={reference:yo(t)?or(t):t.contextElement?or(t.contextElement):[],popper:or(e)};var r,h,u=function(t){var e=yr(t);return vo.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}((r=[].concat(s,a.options.modifiers),h=r.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{}),Object.keys(h).map((function(t){return h[t]}))));return a.orderedModifiers=u.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,s=void 0===i?{}:i,n=t.effect;if("function"==typeof n){var o=n({state:a,name:e,instance:c,options:s}),r=function(){};l.push(o||r)}})),c.update()},forceUpdate:function(){if(!h){var t=a.elements,e=t.reference,i=t.popper;if(Er(e,i)){a.rects={reference:wr(e,Fo(i),"fixed"===a.options.strategy),popper:Oo(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var s=0;s<a.orderedModifiers.length;s++)if(!0!==a.reset){var n=a.orderedModifiers[s],o=n.fn,r=n.options,l=void 0===r?{}:r,d=n.name;"function"==typeof o&&(a=o({state:a,options:l,name:d,instance:c})||a)}else a.reset=!1,s=-1}}},update:(n=function(){return new Promise((function(t){c.forceUpdate(),t(a)}))},function(){return r||(r=new Promise((function(t){Promise.resolve().then((function(){r=void 0,t(n())}))}))),r}),destroy:function(){d(),h=!0}};if(!Er(t,e))return c;function d(){l.forEach((function(t){return t()})),l=[]}return c.setOptions(i).then((function(t){!h&&i.onFirstUpdate&&i.onFirstUpdate(t)})),c}}var Cr=Sr(),xr=Sr({defaultModifiers:[Ko,vr,Zo,So]}),Tr=Sr({defaultModifiers:[Ko,vr,Zo,So,gr,ur,br,Wo,fr]});const kr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:po,afterRead:ho,afterWrite:go,applyStyles:So,arrow:Wo,auto:Xn,basePlacements:Qn,beforeMain:co,beforeRead:ao,beforeWrite:mo,bottom:Zn,clippingParents:eo,computeStyles:Zo,createPopper:Tr,createPopperBase:Cr,createPopperLite:xr,detectOverflow:cr,end:to,eventListeners:Ko,flip:ur,hide:fr,left:Kn,main:uo,modifierPhases:vo,offset:gr,placements:ro,popper:so,popperGenerator:Sr,popperOffsets:vr,preventOverflow:br,read:lo,reference:no,right:Gn,start:Jn,top:Yn,variationPlacements:oo,viewport:io,write:fo},Symbol.toStringTag,{value:"Module"})),Ar="transitionend",Lr=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e},Ir=t=>{const e=Lr(t);return e&&document.querySelector(e)?e:null},Or=t=>{const e=Lr(t);return e?document.querySelector(e):null},Nr=t=>{t.dispatchEvent(new Event(Ar))},Dr=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),Pr=t=>Dr(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,Br=(t,e,i)=>{Object.keys(i).forEach((s=>{const n=i[s],o=e[s],r=o&&Dr(o)?"element":null==(a=o)?`${a}`:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();var a;if(!new RegExp(n).test(r))throw new TypeError(`${t.toUpperCase()}: Option "${s}" provided type "${r}" but expected type "${n}".`)}))},Mr=t=>!(!Dr(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),Rr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),Fr=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Fr(t.parentNode):null},$r=()=>{},Hr=t=>{t.offsetHeight},zr=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},jr=[],Ur=()=>"rtl"===document.documentElement.dir,Wr=t=>{var e;e=()=>{const e=zr();if(e){const i=t.NAME,s=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=s,t.jQueryInterface)}},"loading"===document.readyState?(jr.length||document.addEventListener("DOMContentLoaded",(()=>{jr.forEach((t=>t()))})),jr.push(e)):e()},qr=t=>{"function"==typeof t&&t()},Vr=(t,e,i=!0)=>{if(!i)return void qr(t);const s=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const s=Number.parseFloat(e),n=Number.parseFloat(i);return s||n?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(e)+5;let n=!1;const o=({target:i})=>{i===e&&(n=!0,e.removeEventListener(Ar,o),qr(t))};e.addEventListener(Ar,o),setTimeout((()=>{n||Nr(e)}),s)},Yr=(t,e,i,s)=>{let n=t.indexOf(e);if(-1===n)return t[!i&&s?t.length-1:0];const o=t.length;return n+=i?1:-1,s&&(n=(n+o)%o),t[Math.max(0,Math.min(n,o-1))]},Zr=/[^.]*(?=\..*)\.|.*/,Gr=/\..*/,Kr=/::\d+$/,Xr={};
/*!
        * Bootstrap v5.1.3 (https://getbootstrap.com/)
        * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
        * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
        */let Qr=1;const Jr={mouseenter:"mouseover",mouseleave:"mouseout"},ta=/^(mouseenter|mouseleave)/i,ea=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ia(t,e){return e&&`${e}::${Qr++}`||t.uidEvent||Qr++}function sa(t){const e=ia(t);return t.uidEvent=e,Xr[e]=Xr[e]||{},Xr[e]}function na(t,e,i=null){const s=Object.keys(t);for(let n=0,o=s.length;n<o;n++){const o=t[s[n]];if(o.originalHandler===e&&o.delegationSelector===i)return o}return null}function oa(t,e,i){const s="string"==typeof e,n=s?i:e;let o=la(t);return ea.has(o)||(o=t),[s,n,o]}function ra(t,e,i,s,n){if("string"!=typeof e||!t)return;if(i||(i=s,s=null),ta.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};s?s=t(s):i=t(i)}const[o,r,a]=oa(e,i,s),l=sa(t),h=l[a]||(l[a]={}),c=na(h,r,o?i:null);if(c)return void(c.oneOff=c.oneOff&&n);const d=ia(r,e.replace(Zr,"")),u=o?function(t,e,i){return function s(n){const o=t.querySelectorAll(e);for(let{target:r}=n;r&&r!==this;r=r.parentNode)for(let a=o.length;a--;)if(o[a]===r)return n.delegateTarget=r,s.oneOff&&ha.off(t,n.type,e,i),i.apply(r,[n]);return null}}(t,i,s):function(t,e){return function i(s){return s.delegateTarget=t,i.oneOff&&ha.off(t,s.type,e),e.apply(t,[s])}}(t,i);u.delegationSelector=o?i:null,u.originalHandler=r,u.oneOff=n,u.uidEvent=d,h[d]=u,t.addEventListener(a,u,o)}function aa(t,e,i,s,n){const o=na(e[i],s,n);o&&(t.removeEventListener(i,o,Boolean(n)),delete e[i][o.uidEvent])}function la(t){return t=t.replace(Gr,""),Jr[t]||t}const ha={on(t,e,i,s){ra(t,e,i,s,!1)},one(t,e,i,s){ra(t,e,i,s,!0)},off(t,e,i,s){if("string"!=typeof e||!t)return;const[n,o,r]=oa(e,i,s),a=r!==e,l=sa(t),h=e.startsWith(".");if(void 0!==o){if(!l||!l[r])return;return void aa(t,l,r,o,n?i:null)}h&&Object.keys(l).forEach((i=>{!function(t,e,i,s){const n=e[i]||{};Object.keys(n).forEach((o=>{if(o.includes(s)){const s=n[o];aa(t,e,i,s.originalHandler,s.delegationSelector)}}))}(t,l,i,e.slice(1))}));const c=l[r]||{};Object.keys(c).forEach((i=>{const s=i.replace(Kr,"");if(!a||e.includes(s)){const e=c[i];aa(t,l,r,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,i){if("string"!=typeof e||!t)return null;const s=zr(),n=la(e),o=e!==n,r=ea.has(n);let a,l=!0,h=!0,c=!1,d=null;return o&&s&&(a=s.Event(e,i),s(t).trigger(a),l=!a.isPropagationStopped(),h=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),r?(d=document.createEvent("HTMLEvents"),d.initEvent(n,l,!0)):d=new CustomEvent(e,{bubbles:l,cancelable:!0}),void 0!==i&&Object.keys(i).forEach((t=>{Object.defineProperty(d,t,{get:()=>i[t]})})),c&&d.preventDefault(),h&&t.dispatchEvent(d),d.defaultPrevented&&void 0!==a&&a.preventDefault(),d}},ca=new Map,da={set(t,e,i){ca.has(t)||ca.set(t,new Map);const s=ca.get(t);s.has(e)||0===s.size?s.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(t,e)=>ca.has(t)&&ca.get(t).get(e)||null,remove(t,e){if(!ca.has(t))return;const i=ca.get(t);i.delete(e),0===i.size&&ca.delete(t)}};class ua{constructor(t){(t=Pr(t))&&(this._element=t,da.set(this._element,this.constructor.DATA_KEY,this))}dispose(){da.remove(this._element,this.constructor.DATA_KEY),ha.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((t=>{this[t]=null}))}_queueCallback(t,e,i=!0){Vr(t,e,i)}static getInstance(t){return da.get(Pr(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const pa=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;ha.on(document,i,`[data-bs-dismiss="${s}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Rr(this))return;const n=Or(this)||this.closest(`.${s}`);t.getOrCreateInstance(n)[e]()}))},ma=".bs.alert",fa=`close${ma}`,ga=`closed${ma}`;class va extends ua{static get NAME(){return"alert"}close(){if(ha.trigger(this._element,fa).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),ha.trigger(this._element,ga),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=va.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}pa(va,"close"),Wr(va);const ba='[data-bs-toggle="button"]';class wa extends ua{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=wa.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}function ya(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function _a(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}ha.on(document,"click.bs.button.data-api",ba,(t=>{t.preventDefault();const e=t.target.closest(ba);wa.getOrCreateInstance(e).toggle()})),Wr(wa);const Ea={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${_a(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${_a(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter((t=>t.startsWith("bs"))).forEach((i=>{let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=ya(t.dataset[i])})),e},getDataAttribute:(t,e)=>ya(t.getAttribute(`data-bs-${_a(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position:t=>({top:t.offsetTop,left:t.offsetLeft})},Sa={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let s=t.parentNode;for(;s&&s.nodeType===Node.ELEMENT_NODE&&3!==s.nodeType;)s.matches(e)&&i.push(s),s=s.parentNode;return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(", ");return this.find(e,t).filter((t=>!Rr(t)&&Mr(t)))}},Ca="carousel",xa=".bs.carousel",Ta=".data-api",ka={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Aa={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},La="next",Ia="prev",Oa="left",Na="right",Da={ArrowLeft:Na,ArrowRight:Oa},Pa=`slide${xa}`,Ba=`slid${xa}`,Ma=`keydown${xa}`,Ra=`mouseenter${xa}`,Fa=`mouseleave${xa}`,$a=`touchstart${xa}`,Ha=`touchmove${xa}`,za=`touchend${xa}`,ja=`pointerdown${xa}`,Ua=`pointerup${xa}`,Wa=`dragstart${xa}`,qa=`load${xa}${Ta}`,Va=`click${xa}${Ta}`,Ya="active",Za=".active.carousel-item";let Ga=class t extends ua{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=Sa.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return ka}static get NAME(){return Ca}next(){this._slide(La)}nextWhenVisible(){!document.hidden&&Mr(this._element)&&this.next()}prev(){this._slide(Ia)}pause(t){t||(this._isPaused=!0),Sa.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(Nr(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=Sa.findOne(Za,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void ha.one(this._element,Ba,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const i=t>e?La:Ia;this._slide(i,this._items[t])}_getConfig(t){return t={...ka,...Ea.getDataAttributes(this._element),..."object"==typeof t?t:{}},Br(Ca,t,Aa),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?Na:Oa)}_addEventListeners(){this._config.keyboard&&ha.on(this._element,Ma,(t=>this._keydown(t))),"hover"===this._config.pause&&(ha.on(this._element,Ra,(t=>this.pause(t))),ha.on(this._element,Fa,(t=>this.cycle(t)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&("pen"===t.pointerType||"touch"===t.pointerType),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},i=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},s=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((t=>this.cycle(t)),500+this._config.interval))};Sa.find(".carousel-item img",this._element).forEach((t=>{ha.on(t,Wa,(t=>t.preventDefault()))})),this._pointerEvent?(ha.on(this._element,ja,(t=>e(t))),ha.on(this._element,Ua,(t=>s(t))),this._element.classList.add("pointer-event")):(ha.on(this._element,$a,(t=>e(t))),ha.on(this._element,Ha,(t=>i(t))),ha.on(this._element,za,(t=>s(t))))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Da[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?Sa.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const i=t===La;return Yr(this._items,e,i,this._config.wrap)}_triggerSlideEvent(t,e){const i=this._getItemIndex(t),s=this._getItemIndex(Sa.findOne(Za,this._element));return ha.trigger(this._element,Pa,{relatedTarget:t,direction:e,from:s,to:i})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=Sa.findOne(".active",this._indicatorsElement);e.classList.remove(Ya),e.removeAttribute("aria-current");const i=Sa.find("[data-bs-target]",this._indicatorsElement);for(let s=0;s<i.length;s++)if(Number.parseInt(i[s].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){i[s].classList.add(Ya),i[s].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||Sa.findOne(Za,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const i=this._directionToOrder(t),s=Sa.findOne(Za,this._element),n=this._getItemIndex(s),o=e||this._getItemByOrder(i,s),r=this._getItemIndex(o),a=Boolean(this._interval),l=i===La,h=l?"carousel-item-start":"carousel-item-end",c=l?"carousel-item-next":"carousel-item-prev",d=this._orderToDirection(i);if(o&&o.classList.contains(Ya))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(o,d).defaultPrevented)return;if(!s||!o)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;const u=()=>{ha.trigger(this._element,Ba,{relatedTarget:o,direction:d,from:n,to:r})};if(this._element.classList.contains("slide")){o.classList.add(c),Hr(o),s.classList.add(h),o.classList.add(h);const t=()=>{o.classList.remove(h,c),o.classList.add(Ya),s.classList.remove(Ya,c,h),this._isSliding=!1,setTimeout(u,0)};this._queueCallback(t,s,!0)}else s.classList.remove(Ya),o.classList.add(Ya),this._isSliding=!1,u();a&&this.cycle()}_directionToOrder(t){return[Na,Oa].includes(t)?Ur()?t===Oa?Ia:La:t===Oa?La:Ia:t}_orderToDirection(t){return[La,Ia].includes(t)?Ur()?t===Ia?Oa:Na:t===Ia?Na:Oa:t}static carouselInterface(e,i){const s=t.getOrCreateInstance(e,i);let{_config:n}=s;"object"==typeof i&&(n={...n,...i});const o="string"==typeof i?i:n.slide;if("number"==typeof i)s.to(i);else if("string"==typeof o){if(void 0===s[o])throw new TypeError(`No method named "${o}"`);s[o]()}else n.interval&&n.ride&&(s.pause(),s.cycle())}static jQueryInterface(e){return this.each((function(){t.carouselInterface(this,e)}))}static dataApiClickHandler(e){const i=Or(this);if(!i||!i.classList.contains("carousel"))return;const s={...Ea.getDataAttributes(i),...Ea.getDataAttributes(this)},n=this.getAttribute("data-bs-slide-to");n&&(s.interval=!1),t.carouselInterface(i,s),n&&t.getInstance(i).to(n),e.preventDefault()}};ha.on(document,Va,"[data-bs-slide], [data-bs-slide-to]",Ga.dataApiClickHandler),ha.on(window,qa,(()=>{const t=Sa.find('[data-bs-ride="carousel"]');for(let e=0,i=t.length;e<i;e++)Ga.carouselInterface(t[e],Ga.getInstance(t[e]))})),Wr(Ga);const Ka="collapse",Xa="bs.collapse",Qa=`.${Xa}`,Ja={toggle:!0,parent:null},tl={toggle:"boolean",parent:"(null|element)"},el=`show${Qa}`,il=`shown${Qa}`,sl=`hide${Qa}`,nl=`hidden${Qa}`,ol=`click${Qa}.data-api`,rl="show",al="collapse",ll="collapsing",hl="collapsed",cl=`:scope .${al} .${al}`,dl='[data-bs-toggle="collapse"]';let ul=class t extends ua{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const i=Sa.find(dl);for(let s=0,n=i.length;s<n;s++){const t=i[s],e=Ir(t),n=Sa.find(e).filter((t=>t===this._element));null!==e&&n.length&&(this._selector=e,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ja}static get NAME(){return Ka}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e,i=[];if(this._config.parent){const t=Sa.find(cl,this._config.parent);i=Sa.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((e=>!t.includes(e)))}const s=Sa.findOne(this._selector);if(i.length){const n=i.find((t=>s!==t));if(e=n?t.getInstance(n):null,e&&e._isTransitioning)return}if(ha.trigger(this._element,el).defaultPrevented)return;i.forEach((i=>{s!==i&&t.getOrCreateInstance(i,{toggle:!1}).hide(),e||da.set(i,Xa,null)}));const n=this._getDimension();this._element.classList.remove(al),this._element.classList.add(ll),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ll),this._element.classList.add(al,rl),this._element.style[n]="",ha.trigger(this._element,il)}),this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(ha.trigger(this._element,sl).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Hr(this._element),this._element.classList.add(ll),this._element.classList.remove(al,rl);const e=this._triggerArray.length;for(let i=0;i<e;i++){const t=this._triggerArray[i],e=Or(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ll),this._element.classList.add(al),ha.trigger(this._element,nl)}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(rl)}_getConfig(t){return(t={...Ja,...Ea.getDataAttributes(this._element),...t}).toggle=Boolean(t.toggle),t.parent=Pr(t.parent),Br(Ka,t,tl),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=Sa.find(cl,this._config.parent);Sa.find(dl,this._config.parent).filter((e=>!t.includes(e))).forEach((t=>{const e=Or(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}))}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach((t=>{e?t.classList.remove(hl):t.classList.add(hl),t.setAttribute("aria-expanded",e)}))}static jQueryInterface(e){return this.each((function(){const i={};"string"==typeof e&&/show|hide/.test(e)&&(i.toggle=!1);const s=t.getOrCreateInstance(this,i);if("string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e]()}}))}};ha.on(document,ol,dl,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=Ir(this);Sa.find(e).forEach((t=>{ul.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),Wr(ul);const pl="dropdown",ml=".bs.dropdown",fl=".data-api",gl="Escape",vl="Space",bl="ArrowUp",wl="ArrowDown",yl=new RegExp(`${bl}|${wl}|${gl}`),_l=`hide${ml}`,El=`hidden${ml}`,Sl=`show${ml}`,Cl=`shown${ml}`,xl=`click${ml}${fl}`,Tl=`keydown${ml}${fl}`,kl=`keyup${ml}${fl}`,Al="show",Ll='[data-bs-toggle="dropdown"]',Il=".dropdown-menu",Ol=Ur()?"top-end":"top-start",Nl=Ur()?"top-start":"top-end",Dl=Ur()?"bottom-end":"bottom-start",Pl=Ur()?"bottom-start":"bottom-end",Bl=Ur()?"left-start":"right-start",Ml=Ur()?"right-start":"left-start",Rl={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Fl={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};let $l=class t extends ua{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Rl}static get DefaultType(){return Fl}static get NAME(){return pl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Rr(this._element)||this._isShown(this._menu))return;const e={relatedTarget:this._element};if(ha.trigger(this._element,Sl,e).defaultPrevented)return;const i=t.getParentFromElement(this._element);this._inNavbar?Ea.setDataAttribute(this._menu,"popper","none"):this._createPopper(i),"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav")&&[].concat(...document.body.children).forEach((t=>ha.on(t,"mouseover",$r))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Al),this._element.classList.add(Al),ha.trigger(this._element,Cl,e)}hide(){if(Rr(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){ha.trigger(this._element,_l,t).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>ha.off(t,"mouseover",$r))),this._popper&&this._popper.destroy(),this._menu.classList.remove(Al),this._element.classList.remove(Al),this._element.setAttribute("aria-expanded","false"),Ea.removeDataAttribute(this._menu,"popper"),ha.trigger(this._element,El,t))}_getConfig(t){if(t={...this.constructor.Default,...Ea.getDataAttributes(this._element),...t},Br(pl,t,this.constructor.DefaultType),"object"==typeof t.reference&&!Dr(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${pl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if(void 0===kr)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:Dr(this._config.reference)?e=Pr(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const i=this._getPopperConfig(),s=i.modifiers.find((t=>"applyStyles"===t.name&&!1===t.enabled));this._popper=Tr(e,this._menu,i),s&&Ea.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(Al)}_getMenuElement(){return Sa.next(this._element,Il)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return Bl;if(t.classList.contains("dropstart"))return Ml;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Nl:Ol:e?Pl:Dl}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const i=Sa.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Mr);i.length&&Yr(i,e,t===wl,!i.includes(e)).focus()}static jQueryInterface(e){return this.each((function(){const i=t.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}}))}static clearMenus(e){if(e&&(2===e.button||"keyup"===e.type&&"Tab"!==e.key))return;const i=Sa.find(Ll);for(let s=0,n=i.length;s<n;s++){const n=t.getInstance(i[s]);if(!n||!1===n._config.autoClose)continue;if(!n._isShown())continue;const o={relatedTarget:n._element};if(e){const t=e.composedPath(),i=t.includes(n._menu);if(t.includes(n._element)||"inside"===n._config.autoClose&&!i||"outside"===n._config.autoClose&&i)continue;if(n._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(o.clickEvent=e)}n._completeHide(o)}}static getParentFromElement(t){return Or(t)||t.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===vl||e.key!==gl&&(e.key!==wl&&e.key!==bl||e.target.closest(Il)):!yl.test(e.key))return;const i=this.classList.contains(Al);if(!i&&e.key===gl)return;if(e.preventDefault(),e.stopPropagation(),Rr(this))return;const s=this.matches(Ll)?this:Sa.prev(this,Ll)[0],n=t.getOrCreateInstance(s);if(e.key!==gl)return e.key===bl||e.key===wl?(i||n.show(),void n._selectMenuItem(e)):void(i&&e.key!==vl||t.clearMenus());n.hide()}};ha.on(document,Tl,Ll,$l.dataApiKeydownHandler),ha.on(document,Tl,Il,$l.dataApiKeydownHandler),ha.on(document,xl,$l.clearMenus),ha.on(document,kl,$l.clearMenus),ha.on(document,xl,Ll,(function(t){t.preventDefault(),$l.getOrCreateInstance(this).toggle()})),Wr($l);const Hl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zl=".sticky-top";class jl{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(e=>e+t)),this._setElementAttributes(Hl,"paddingRight",(e=>e+t)),this._setElementAttributes(zl,"marginRight",(e=>e-t))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+s)return;this._saveInitialAttribute(t,e);const n=window.getComputedStyle(t)[e];t.style[e]=`${i(Number.parseFloat(n))}px`}))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Hl,"paddingRight"),this._resetElementAttributes(zl,"marginRight")}_saveInitialAttribute(t,e){const i=t.style[e];i&&Ea.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const i=Ea.getDataAttribute(t,e);void 0===i?t.style.removeProperty(e):(Ea.removeDataAttribute(t,e),t.style[e]=i)}))}_applyManipulationCallback(t,e){Dr(t)?e(t):Sa.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const Ul={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Wl={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},ql="backdrop",Vl="show",Yl=`mousedown.bs.${ql}`;class Zl{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&Hr(this._getElement()),this._getElement().classList.add(Vl),this._emulateAnimation((()=>{qr(t)}))):qr(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(Vl),this._emulateAnimation((()=>{this.dispose(),qr(t)}))):qr(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){return(t={...Ul,..."object"==typeof t?t:{}}).rootElement=Pr(t.rootElement),Br(ql,t,Wl),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),ha.on(this._getElement(),Yl,(()=>{qr(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(ha.off(this._element,Yl),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){Vr(t,this._getElement(),this._config.isAnimated)}}const Gl={trapElement:null,autofocus:!0},Kl={trapElement:"element",autofocus:"boolean"},Xl=".bs.focustrap",Ql=`focusin${Xl}`,Jl=`keydown.tab${Xl}`,th="backward";class eh{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),ha.off(document,Xl),ha.on(document,Ql,(t=>this._handleFocusin(t))),ha.on(document,Jl,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ha.off(document,Xl))}_handleFocusin(t){const{target:e}=t,{trapElement:i}=this._config;if(e===document||e===i||i.contains(e))return;const s=Sa.focusableChildren(i);0===s.length?i.focus():this._lastTabNavDirection===th?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?th:"forward")}_getConfig(t){return t={...Gl,..."object"==typeof t?t:{}},Br("focustrap",t,Kl),t}}const ih="modal",sh=".bs.modal",nh="Escape",oh={backdrop:!0,keyboard:!0,focus:!0},rh={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},ah=`hide${sh}`,lh=`hidePrevented${sh}`,hh=`hidden${sh}`,ch=`show${sh}`,dh=`shown${sh}`,uh=`resize${sh}`,ph=`click.dismiss${sh}`,mh=`keydown.dismiss${sh}`,fh=`mouseup.dismiss${sh}`,gh=`mousedown.dismiss${sh}`,vh=`click${sh}.data-api`,bh="modal-open",wh="show",yh="modal-static";let _h=class t extends ua{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=Sa.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new jl}static get Default(){return oh}static get NAME(){return ih}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;ha.trigger(this._element,ch,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(bh),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),ha.on(this._dialog,gh,(()=>{ha.one(this._element,fh,(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;if(ha.trigger(this._element,ah).defaultPrevented)return;this._isShown=!1;const t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(wh),ha.off(this._element,ph),ha.off(this._dialog,gh),this._queueCallback((()=>this._hideModal()),this._element,t)}dispose(){[window,this._dialog].forEach((t=>ha.off(t,sh))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Zl({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new eh({trapElement:this._element})}_getConfig(t){return t={...oh,...Ea.getDataAttributes(this._element),..."object"==typeof t?t:{}},Br(ih,t,rh),t}_showElement(t){const e=this._isAnimated(),i=Sa.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),e&&Hr(this._element),this._element.classList.add(wh);this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ha.trigger(this._element,dh,{relatedTarget:t})}),this._dialog,e)}_setEscapeEvent(){this._isShown?ha.on(this._element,mh,(t=>{this._config.keyboard&&t.key===nh?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==nh||this._triggerBackdropTransition()})):ha.off(this._element,mh)}_setResizeEvent(){this._isShown?ha.on(window,uh,(()=>this._adjustDialog())):ha.off(window,uh)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(bh),this._resetAdjustments(),this._scrollBar.reset(),ha.trigger(this._element,hh)}))}_showBackdrop(t){ha.on(this._element,ph,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ha.trigger(this._element,lh).defaultPrevented)return;const{classList:t,scrollHeight:e,style:i}=this._element,s=e>document.documentElement.clientHeight;!s&&"hidden"===i.overflowY||t.contains(yh)||(s||(i.overflowY="hidden"),t.add(yh),this._queueCallback((()=>{t.remove(yh),s||this._queueCallback((()=>{i.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;(!i&&t&&!Ur()||i&&!t&&Ur())&&(this._element.style.paddingLeft=`${e}px`),(i&&!t&&!Ur()||!i&&t&&Ur())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,i){return this.each((function(){const s=t.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e](i)}}))}};ha.on(document,vh,'[data-bs-toggle="modal"]',(function(t){const e=Or(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),ha.one(e,ch,(t=>{t.defaultPrevented||ha.one(e,hh,(()=>{Mr(this)&&this.focus()}))}));const i=Sa.findOne(".modal.show");i&&_h.getInstance(i).hide();_h.getOrCreateInstance(e).toggle(this)})),pa(_h),Wr(_h);const Eh="offcanvas",Sh=".bs.offcanvas",Ch=".data-api",xh=`load${Sh}${Ch}`,Th={backdrop:!0,keyboard:!0,scroll:!1},kh={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Ah="show",Lh=".offcanvas.show",Ih=`show${Sh}`,Oh=`shown${Sh}`,Nh=`hide${Sh}`,Dh=`hidden${Sh}`,Ph=`click${Sh}${Ch}`,Bh=`keydown.dismiss${Sh}`;class Mh extends ua{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Eh}static get Default(){return Th}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;if(ha.trigger(this._element,Ih,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new jl).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ah);this._queueCallback((()=>{this._config.scroll||this._focustrap.activate(),ha.trigger(this._element,Oh,{relatedTarget:t})}),this._element,!0)}hide(){if(!this._isShown)return;if(ha.trigger(this._element,Nh).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Ah),this._backdrop.hide();this._queueCallback((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new jl).reset(),ha.trigger(this._element,Dh)}),this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...Th,...Ea.getDataAttributes(this._element),..."object"==typeof t?t:{}},Br(Eh,t,kh),t}_initializeBackDrop(){return new Zl({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new eh({trapElement:this._element})}_addEventListeners(){ha.on(this._element,Bh,(t=>{this._config.keyboard&&"Escape"===t.key&&this.hide()}))}static jQueryInterface(t){return this.each((function(){const e=Mh.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}ha.on(document,Ph,'[data-bs-toggle="offcanvas"]',(function(t){const e=Or(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Rr(this))return;ha.one(e,Dh,(()=>{Mr(this)&&this.focus()}));const i=Sa.findOne(Lh);i&&i!==e&&Mh.getInstance(i).hide();Mh.getOrCreateInstance(e).toggle(this)})),ha.on(window,xh,(()=>Sa.find(Lh).forEach((t=>Mh.getOrCreateInstance(t).show())))),pa(Mh),Wr(Mh);const Rh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Fh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,$h=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Hh=(t,e)=>{const i=t.nodeName.toLowerCase();if(e.includes(i))return!Rh.has(i)||Boolean(Fh.test(t.nodeValue)||$h.test(t.nodeValue));const s=e.filter((t=>t instanceof RegExp));for(let n=0,o=s.length;n<o;n++)if(s[n].test(i))return!0;return!1},zh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function jh(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);const s=(new window.DOMParser).parseFromString(t,"text/html"),n=[].concat(...s.body.querySelectorAll("*"));for(let o=0,r=n.length;o<r;o++){const t=n[o],i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}const s=[].concat(...t.attributes),r=[].concat(e["*"]||[],e[i]||[]);s.forEach((e=>{Hh(e,r)||t.removeAttribute(e.nodeName)}))}return s.body.innerHTML}const Uh="tooltip",Wh=".bs.tooltip",qh=new Set(["sanitize","allowList","sanitizeFn"]),Vh={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Yh={AUTO:"auto",TOP:"top",RIGHT:Ur()?"left":"right",BOTTOM:"bottom",LEFT:Ur()?"right":"left"},Zh={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:zh,popperConfig:null},Gh={HIDE:`hide${Wh}`,HIDDEN:`hidden${Wh}`,SHOW:`show${Wh}`,SHOWN:`shown${Wh}`,INSERTED:`inserted${Wh}`,CLICK:`click${Wh}`,FOCUSIN:`focusin${Wh}`,FOCUSOUT:`focusout${Wh}`,MOUSEENTER:`mouseenter${Wh}`,MOUSELEAVE:`mouseleave${Wh}`},Kh="fade",Xh="show",Qh="show",Jh="out",tc=".tooltip-inner",ec=".modal",ic="hide.bs.modal",sc="hover",nc="focus";let oc=class t extends ua{constructor(t,e){if(void 0===kr)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return Zh}static get NAME(){return Uh}static get Event(){return Gh}static get DefaultType(){return Vh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(Xh))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),ha.off(this._element.closest(ec),ic,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=ha.trigger(this._element,this.constructor.Event.SHOW),e=Fr(this._element),i=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!i)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(tc).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const s=this.getTipElement(),n=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME);s.setAttribute("id",n),this._element.setAttribute("aria-describedby",n),this._config.animation&&s.classList.add(Kh);const o="function"==typeof this._config.placement?this._config.placement.call(this,s,this._element):this._config.placement,r=this._getAttachment(o);this._addAttachmentClass(r);const{container:a}=this._config;da.set(s,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(s),ha.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Tr(this._element,s,this._getPopperConfig(r)),s.classList.add(Xh);const l=this._resolvePossibleFunction(this._config.customClass);l&&s.classList.add(...l.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>{ha.on(t,"mouseover",$r)}));const h=this.tip.classList.contains(Kh);this._queueCallback((()=>{const t=this._hoverState;this._hoverState=null,ha.trigger(this._element,this.constructor.Event.SHOWN),t===Jh&&this._leave(null,this)}),this.tip,h)}hide(){if(!this._popper)return;const t=this.getTipElement();if(ha.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;t.classList.remove(Xh),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>ha.off(t,"mouseover",$r))),this._activeTrigger.click=!1,this._activeTrigger[nc]=!1,this._activeTrigger[sc]=!1;const e=this.tip.classList.contains(Kh);this._queueCallback((()=>{this._isWithActiveTrigger()||(this._hoverState!==Qh&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),ha.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())}),this.tip,e),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(Kh,Xh),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),tc)}_sanitizeAndSetContent(t,e,i){const s=Sa.findOne(i,t);e||!s?this.setElementContent(s,e):s.remove()}setElementContent(t,e){if(null!==t)return Dr(e)?(e=Pr(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=jh(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return Yh[t.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach((t=>{if("click"===t)ha.on(this._element,this.constructor.Event.CLICK,this._config.selector,(t=>this.toggle(t)));else if("manual"!==t){const e=t===sc?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,i=t===sc?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;ha.on(this._element,e,this._config.selector,(t=>this._enter(t))),ha.on(this._element,i,this._config.selector,(t=>this._leave(t)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},ha.on(this._element.closest(ec),ic,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?nc:sc]=!0),e.getTipElement().classList.contains(Xh)||e._hoverState===Qh?e._hoverState=Qh:(clearTimeout(e._timeout),e._hoverState=Qh,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===Qh&&e.show()}),e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?nc:sc]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=Jh,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===Jh&&e.hide()}),e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=Ea.getDataAttributes(this._element);return Object.keys(e).forEach((t=>{qh.has(t)&&delete e[t]})),(t={...this.constructor.Default,...e,..."object"==typeof t&&t?t:{}}).container=!1===t.container?document.body:Pr(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),Br(Uh,t,this.constructor.DefaultType),t.sanitize&&(t.template=jh(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),i=t.getAttribute("class").match(e);null!==i&&i.length>0&&i.map((t=>t.trim())).forEach((e=>t.classList.remove(e)))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each((function(){const i=t.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}}))}};Wr(oc);const rc=".bs.popover",ac={...oc.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},lc={...oc.DefaultType,content:"(string|element|function)"},hc={HIDE:`hide${rc}`,HIDDEN:`hidden${rc}`,SHOW:`show${rc}`,SHOWN:`shown${rc}`,INSERTED:`inserted${rc}`,CLICK:`click${rc}`,FOCUSIN:`focusin${rc}`,FOCUSOUT:`focusout${rc}`,MOUSEENTER:`mouseenter${rc}`,MOUSELEAVE:`mouseleave${rc}`};let cc=class t extends oc{static get Default(){return ac}static get NAME(){return"popover"}static get Event(){return hc}static get DefaultType(){return lc}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(e){return this.each((function(){const i=t.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}}))}};Wr(cc);const dc="scrollspy",uc=".bs.scrollspy",pc={offset:10,method:"auto",target:""},mc={offset:"number",method:"string",target:"(string|element)"},fc=`activate${uc}`,gc=`scroll${uc}`,vc=`load${uc}.data-api`,bc="dropdown-item",wc="active",yc=".nav-link",_c=".list-group-item",Ec=`${yc}, ${_c}, .${bc}`,Sc="position";class Cc extends ua{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,ha.on(this._scrollElement,gc,(()=>this._process())),this.refresh(),this._process()}static get Default(){return pc}static get NAME(){return dc}refresh(){const t=this._scrollElement===this._scrollElement.window?"offset":Sc,e="auto"===this._config.method?t:this._config.method,i=e===Sc?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();Sa.find(Ec,this._config.target).map((t=>{const s=Ir(t),n=s?Sa.findOne(s):null;if(n){const t=n.getBoundingClientRect();if(t.width||t.height)return[Ea[e](n).top+i,s]}return null})).filter((t=>t)).sort(((t,e)=>t[0]-e[0])).forEach((t=>{this._offsets.push(t[0]),this._targets.push(t[1])}))}dispose(){ha.off(this._scrollElement,uc),super.dispose()}_getConfig(t){return(t={...pc,...Ea.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}}).target=Pr(t.target)||document.documentElement,Br(dc,t,mc),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=i){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;){this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&(void 0===this._offsets[e+1]||t<this._offsets[e+1])&&this._activate(this._targets[e])}}}_activate(t){this._activeTarget=t,this._clear();const e=Ec.split(",").map((e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`)),i=Sa.findOne(e.join(","),this._config.target);i.classList.add(wc),i.classList.contains(bc)?Sa.findOne(".dropdown-toggle",i.closest(".dropdown")).classList.add(wc):Sa.parents(i,".nav, .list-group").forEach((t=>{Sa.prev(t,`${yc}, ${_c}`).forEach((t=>t.classList.add(wc))),Sa.prev(t,".nav-item").forEach((t=>{Sa.children(t,yc).forEach((t=>t.classList.add(wc)))}))})),ha.trigger(this._scrollElement,fc,{relatedTarget:t})}_clear(){Sa.find(Ec,this._config.target).filter((t=>t.classList.contains(wc))).forEach((t=>t.classList.remove(wc)))}static jQueryInterface(t){return this.each((function(){const e=Cc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}ha.on(window,vc,(()=>{Sa.find('[data-bs-spy="scroll"]').forEach((t=>new Cc(t)))})),Wr(Cc);const xc=".bs.tab",Tc=`hide${xc}`,kc=`hidden${xc}`,Ac=`show${xc}`,Lc=`shown${xc}`,Ic=`click${xc}.data-api`,Oc="active",Nc="fade",Dc="show",Pc=".active",Bc=":scope > li > .active";class Mc extends ua{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Oc))return;let t;const e=Or(this._element),i=this._element.closest(".nav, .list-group");if(i){const e="UL"===i.nodeName||"OL"===i.nodeName?Bc:Pc;t=Sa.find(e,i),t=t[t.length-1]}const s=t?ha.trigger(t,Tc,{relatedTarget:this._element}):null;if(ha.trigger(this._element,Ac,{relatedTarget:t}).defaultPrevented||null!==s&&s.defaultPrevented)return;this._activate(this._element,i);const n=()=>{ha.trigger(t,kc,{relatedTarget:this._element}),ha.trigger(this._element,Lc,{relatedTarget:t})};e?this._activate(e,e.parentNode,n):n()}_activate(t,e,i){const s=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?Sa.children(e,Pc):Sa.find(Bc,e))[0],n=i&&s&&s.classList.contains(Nc),o=()=>this._transitionComplete(t,s,i);s&&n?(s.classList.remove(Dc),this._queueCallback(o,t,!0)):o()}_transitionComplete(t,e,i){if(e){e.classList.remove(Oc);const t=Sa.findOne(":scope > .dropdown-menu .active",e.parentNode);t&&t.classList.remove(Oc),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(Oc),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),Hr(t),t.classList.contains(Nc)&&t.classList.add(Dc);let s=t.parentNode;if(s&&"LI"===s.nodeName&&(s=s.parentNode),s&&s.classList.contains("dropdown-menu")){const e=t.closest(".dropdown");e&&Sa.find(".dropdown-toggle",e).forEach((t=>t.classList.add(Oc))),t.setAttribute("aria-expanded",!0)}i&&i()}static jQueryInterface(t){return this.each((function(){const e=Mc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}ha.on(document,Ic,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(t){if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Rr(this))return;Mc.getOrCreateInstance(this).show()})),Wr(Mc);const Rc="toast",Fc=".bs.toast",$c=`mouseover${Fc}`,Hc=`mouseout${Fc}`,zc=`focusin${Fc}`,jc=`focusout${Fc}`,Uc=`hide${Fc}`,Wc=`hidden${Fc}`,qc=`show${Fc}`,Vc=`shown${Fc}`,Yc="hide",Zc="show",Gc="showing",Kc={animation:"boolean",autohide:"boolean",delay:"number"},Xc={animation:!0,autohide:!0,delay:5e3};let Qc=class t extends ua{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Kc}static get Default(){return Xc}static get NAME(){return Rc}show(){if(ha.trigger(this._element,qc).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(Yc),Hr(this._element),this._element.classList.add(Zc),this._element.classList.add(Gc),this._queueCallback((()=>{this._element.classList.remove(Gc),ha.trigger(this._element,Vc),this._maybeScheduleHide()}),this._element,this._config.animation)}hide(){if(!this._element.classList.contains(Zc))return;if(ha.trigger(this._element,Uc).defaultPrevented)return;this._element.classList.add(Gc),this._queueCallback((()=>{this._element.classList.add(Yc),this._element.classList.remove(Gc),this._element.classList.remove(Zc),ha.trigger(this._element,Wc)}),this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(Zc)&&this._element.classList.remove(Zc),super.dispose()}_getConfig(t){return t={...Xc,...Ea.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}},Br(Rc,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){ha.on(this._element,$c,(t=>this._onInteraction(t,!0))),ha.on(this._element,Hc,(t=>this._onInteraction(t,!1))),ha.on(this._element,zc,(t=>this._onInteraction(t,!0))),ha.on(this._element,jc,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const i=t.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](this)}}))}};pa(Qc),Wr(Qc);class Jc extends Ga{}class td extends ul{}t(td,"CLASS_NAME_SHOW","show"),t(td,"CLASS_NAME_COLLAPSE","collapse"),t(td,"CLASS_NAME_COLLAPSING","collapsing"),t(td,"CLASS_NAME_COLLAPSED","collapsed"),t(td,"SELECTOR_ACTIVES",".show, .collapsing"),t(td,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="collapse"]');class ed extends ve{static get observedAttributes(){return["offset","boundary","reference","display","popper-config","auto-close"]}constructor(){super(),t(this,"scope",{toggle:this.toggle,show:this.show,hide:this.hide,update:this.update,isShown:!1}),t(this,"dropdown",void 0),t(this,"toggler",null),t(this,"onShown",this._onShown.bind(this)),t(this,"onHidden",this._onHidden.bind(this))}isShown(){return this.dropdown?._isShown()||!1}toggle(t,e,i){if(!this.dropdown)throw new Error("Dropdown not ready!");i!==this.toggler&&this.dropdown.toggle()}show(){if(!this.dropdown)throw new Error("Dropdown not ready!");this.dropdown.show()}hide(){if(!this.dropdown)throw new Error("Dropdown not ready!");this.dropdown.hide()}update(){if(!this.dropdown)throw new Error("Dropdown not ready!");this.dropdown.update()}connectedCallback(){super.connectedCallback(),this.init(ed.observedAttributes)}async afterBind(){this.initDropdown(),this.addEventListeners(),await super.afterBind()}initDropdown(){this.toggler=this.classList.contains("dropdown-toggle")?this:this.querySelector(".dropdown-toggle")||this,this.toggler.dataset.bsToggle="dropdown",this.dropdown=new ld(this.toggler,this.scope),this.dropdown.hide(),this.scope.isShown=this.isShown()}_onShown(){console.debug("onShown"),this.scope.isShown=this.isShown()}_onHidden(){console.debug("onHidden"),this.scope.isShown=this.isShown()}addEventListeners(){this.toggler?.addEventListener(ld.EVENT_SHOWN,this.onShown),this.toggler?.addEventListener(ld.EVENT_HIDDEN,this.onHidden)}template(){return null}}t(ed,"tagName","bs5-dropdown");const id="bs.dropdown",sd=`.${id}`,nd=".data-api",od="ArrowDown",rd="ArrowUp",ad="Escape";class ld extends $l{static hideAll(){this.clearMenus()}static getAllComponents(){const t=document.querySelectorAll(ed.tagName);return Array.from(t)}static hideAllComponents(){const t=this.getAllComponents();for(const e of Array.from(t))e.dropdown?.hide()}constructor(t,e){super(t,e)}static get DATA_KEY(){return id}}t(ld,"NAME","dropdown"),t(ld,"EVENT_KEY",sd),t(ld,"DATA_API_KEY",nd),t(ld,"ESCAPE_KEY",ad),t(ld,"SPACE_KEY","Space"),t(ld,"TAB_KEY","Tab"),t(ld,"ARROW_UP_KEY",rd),t(ld,"ARROW_DOWN_KEY",od),t(ld,"RIGHT_MOUSE_BUTTON",2),t(ld,"REGEXP_KEYDOWN",new RegExp(`${rd}|${od}|${ad}`)),t(ld,"EVENT_HIDE",`hide${sd}`),t(ld,"EVENT_HIDDEN",`hidden${sd}`),t(ld,"EVENT_SHOW",`show${sd}`),t(ld,"EVENT_SHOWN",`shown${sd}`),t(ld,"EVENT_CLICK",`click${sd}`),t(ld,"EVENT_CLICK_DATA_API",`click${sd}${nd}`),t(ld,"EVENT_KEYDOWN_DATA_API",`keydown${sd}${nd}`),t(ld,"EVENT_KEYUP_DATA_API",`keyup${sd}${nd}`),t(ld,"CLASS_NAME_DISABLED","disabled"),t(ld,"CLASS_NAME_SHOW","show"),t(ld,"CLASS_NAME_DROPUP","dropup"),t(ld,"CLASS_NAME_DROPEND","dropend"),t(ld,"CLASS_NAME_DROPSTART","dropstart"),t(ld,"CLASS_NAME_NAVBAR","navbar"),t(ld,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="dropdown"]'),t(ld,"SELECTOR_FORM_CHILD",".dropdown form"),t(ld,"SELECTOR_MENU",".dropdown-menu"),t(ld,"SELECTOR_NAVBAR_NAV",".navbar-nav"),t(ld,"SELECTOR_VISIBLE_ITEMS",".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)");var hd=(t=>(t.show="show.bs.collapse",t.shown="shown.bs.collapse",t.hide="hide.bs.collapse",t.hidden="hidden.bs.collapse",t))(hd||{});class cd{constructor(e,i){t(this,"type",void 0),t(this,"title",void 0),t(this,"channel",void 0),t(this,"$event",void 0),t(this,"$context",void 0),this.type=e,this.title=i}}const dd="bs.modal",ud=".data-api",pd=`.${dd}`;class md extends _h{static get DATA_KEY(){return dd}static get DATA_API_KEY(){return ud}static get EVENT_KEY(){return pd}}t(md,"NAME","modal"),t(md,"ESCAPE_KEY","Escape"),t(md,"EVENT_HIDE",`hide${pd}`),t(md,"EVENT_HIDE_PREVENTED",`hidePrevented${pd}`),t(md,"EVENT_HIDDEN",`hidden${pd}`),t(md,"EVENT_SHOW",`show${pd}`),t(md,"EVENT_SHOWN",`shown${pd}`),t(md,"EVENT_FOCUSIN",`focusin${pd}`),t(md,"EVENT_RESIZE",`resize${pd}`),t(md,"EVENT_CLICK_DISMISS",`click.dismiss${pd}`),t(md,"EVENT_KEYDOWN_DISMISS",`keydown.dismiss${pd}`),t(md,"EVENT_MOUSEUP_DISMISS",`mouseup.dismiss${pd}`),t(md,"EVENT_MOUSEDOWN_DISMISS",`mousedown.dismiss${pd}`),t(md,"EVENT_CLICK_DATA_API",`click${pd}${ud}`),t(md,"CLASS_NAME_SCROLLBAR_MEASURER","modal-scrollbar-measure"),t(md,"CLASS_NAME_BACKDROP","modal-backdrop"),t(md,"CLASS_NAME_OPEN","modal-open"),t(md,"CLASS_NAME_FADE","fade"),t(md,"CLASS_NAME_SHOW","show"),t(md,"CLASS_NAME_STATIC","modal-static"),t(md,"SELECTOR_DIALOG",".modal-dialog"),t(md,"SELECTOR_MODAL_BODY",".modal-body"),t(md,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="modal"]'),t(md,"SELECTOR_DATA_DISMISS",'[data-bs-dismiss="modal"]'),t(md,"SELECTOR_FIXED_CONTENT",".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"),t(md,"SELECTOR_STICKY_CONTENT",".sticky-top");class fd extends cc{}class gd{constructor(){t(this,"eventDispatcher",z.getInstance()),t(this,"bs5",Vn.getSingleton()),this.addEventListeners();const e=this.init(),i=document.getElementById("theme");i&&this.select(e.choice,i)}static getSingleton(){return gd.instance?gd.instance:this.setSingleton()}static setSingleton(){if(gd.instance)throw new Error("Singleton of ThemeService already defined!");return gd.instance=new gd,gd.instance}addEventListeners(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{this.triggerChange()}))}init(){let t="theme-os";return this.bs5.options.allowStoreDataInBrowser&&(t=localStorage.getItem("bs5-theme")||"theme-os"),this.set(t)}select(t,e){"SELECT"===e?.nodeName&&(e.value=t)}getDefaultData(){return{supported:!!window.matchMedia,isDark:!1,isLight:!1,systemIsDark:!1,systemIsLight:!0,bySystem:!0,byUser:!1,choice:"theme-os"}}triggerChange(t){t||(t=this.getDefaultData());const e=this.get();return this.eventDispatcher.trigger("theme-change",{oldValue:t,newValue:e}),e}onceChange(t,e){this.eventDispatcher.once("theme-change",t,e)}onChange(t,e){this.eventDispatcher.on("theme-change",t,e)}offChange(t,e){this.eventDispatcher.off("theme-change",t,e)}set(t){const e=this.get();return Pn.includes(t)||(console.warn(`Unsupported theme "${t}", set instead the default "theme-os".`),t="theme-os"),this.bs5.options.allowStoreDataInBrowser&&localStorage.setItem("bs5-theme",t),document.documentElement.classList.remove("theme-light","theme-dark","theme-os"),document.documentElement.classList.add(t),this.triggerChange(e)}get(){const t=this.getDefaultData();return t.systemIsDark=window.matchMedia("(prefers-color-scheme: dark)").matches,t.systemIsLight=!t.systemIsDark,document.documentElement.classList.contains("theme-os")?(t.bySystem=!0,t.byUser=!1,t.choice="theme-os",t.isDark=t.systemIsDark,t.isLight=t.systemIsLight):(t.bySystem=!1,t.byUser=!0,document.documentElement.classList.contains("theme-dark")&&(t.isDark=!0,t.choice="theme-dark"),document.documentElement.classList.contains("theme-light")&&(t.isLight=!0,t.choice="theme-light")),t}}t(gd,"instance",void 0);class vd extends cd{constructor({title:e,message:i,iconUrl:s,delay:n,autoHide:o,animation:r,toastService:a,contextualClass:l,channel:h,$event:c,$context:d}){super("toast",e),t(this,"message",void 0),t(this,"iconUrl",void 0),t(this,"delay",void 0),t(this,"autoHide",void 0),t(this,"animation",void 0),t(this,"toastService",void 0),t(this,"contextualClass",void 0),this.message=i,this.iconUrl=s,this.delay=n,this.autoHide=o,this.animation=r,this.toastService=a,this.contextualClass=l,this.channel=h,this.$event=c,this.$context=d}}const bd="bs.toast",wd=`.${bd}`;class yd extends Qc{static get DATA_KEY(){return bd}static get EVENT_KEY(){return wd}}t(yd,"NAME","toast"),t(yd,"EVENT_CLICK_DISMISS",`click.dismiss${wd}`),t(yd,"EVENT_HIDE",`hide${wd}`),t(yd,"EVENT_HIDDEN",`hidden${wd}`),t(yd,"EVENT_SHOW",`show${wd}`),t(yd,"EVENT_SHOWN",`shown${wd}`),t(yd,"CLASS_NAME_FADE","fade"),t(yd,"CLASS_NAME_HIDE","hide"),t(yd,"CLASS_NAME_SHOW","show"),t(yd,"CLASS_NAME_SHOWING","showing");const _d=Object.freeze(Object.defineProperty({__proto__:null,Bs5Service:Vn,Carousel:Jc,Collapse:td,Dropdown:ld,Modal:md,ModalNotification:class extends cd{constructor({title:e,message:i,iconUrl:s,focus:n,keyboard:o,backdrop:r,buttons:a,modalService:l,contextualClass:h,channel:c,$event:d,$context:u}){super("modal",e),t(this,"message",void 0),t(this,"iconUrl",void 0),t(this,"focus",void 0),t(this,"keyboard",void 0),t(this,"backdrop",void 0),t(this,"buttons",[]),t(this,"modalService",void 0),t(this,"contextualClass",void 0),this.message=i,this.iconUrl=s,this.focus=n||!1,this.keyboard=o||!0,this.backdrop=r||!0,this.buttons=a||[],this.modalService=l,this.contextualClass=h,this.channel=c,this.$event=d,this.$context=u}},Popover:fd,ThemeService:gd,Toast:yd,ToastNotification:vd,Tooltip:class extends oc{}},Symbol.toStringTag,{value:"Module"}));class Ed extends wt{constructor(e,i,s,n,o,r,a){if(super(e,i,s,n,o,r,a),t(this,"bs5",void 0),t(this,"breakpoint",void 0),t(this,"attributeName",void 0),t(this,"val",void 0),this.bs5=Vn.getSingleton(),2!==this.args.length)throw new Error("The Bs5AttributeBreakpointBinder was not initialized correctly!");const l=this.args[0].toString(),h=this.args[1].toString();if(!this.bs5.breakpointNames.includes(l))throw new Error(`Unknown breakpoint "${l}"! You can define breakpoints at the initialization of the Bs5Module.`);this.breakpoint=l,this.attributeName=h}onBreakpointChanges(){this.setAttributeOnMatch()}setAttributeOnMatch(){if(this.bs5.activeBreakpoint)return this.isBreakpointMatch(this.breakpoint)?this.defaultAttributeBinder.routine(this.el,this.val):void(this.breakpointUnhandled(this.bs5.activeBreakpoint.name)&&this.defaultAttributeBinder.routine(this.el,void 0))}isBreakpointMatch(t=this.breakpoint){if(!this.bs5.activeBreakpoint)return!1;if(this.bs5.activeBreakpoint.name===t)return!0;return!!this.myBreakpoints(t).includes(this.bs5.activeBreakpoint.name)}myBreakpoints(t=this.breakpoint){const e=[t];let i=t;for(;i&&(i=this.bs5.getNextBreakpointByName(i),i&&!this.breakpointHandledByAnother(i));)e.push(i);return e}breakpointHandledByAnother(t){return!!this.getHandledBreakpoints().includes(t)}breakpointUnhandled(t){let e=t,i=!0;for(;e&&i;){if(this.breakpointHandledByAnother(e)){i=!1;break}if(e=this.bs5.getPrevBreakpointByName(e),!e)break}return i}addToHandledBreakpoints(){const t=this.getHandledBreakpoints();t.push(this.breakpoint),this.el.dataset[w(this.attributeName)]=n(t)}getHandledBreakpoints(){const t=o(this.el.dataset[w(this.attributeName)]||"[]");if(!Array.isArray(t))throw new Error("breakpoints dataset has unsupported values!");return t}bind(t){this.bs5.on("breakpoint:changed",this.onBreakpointChanges,this),"function"==typeof this.defaultAttributeBinder.bind&&this.defaultAttributeBinder.bind(t)}routine(t,e){this.addToHandledBreakpoints(),this.val=e,this.setAttributeOnMatch()}unbind(t){this.bs5?.off("breakpoint:changed",this.onBreakpointChanges,this),"function"==typeof this.defaultAttributeBinder.unbind&&this.defaultAttributeBinder.unbind(t)}}class Sd extends Ed{constructor(e,i,s,n,o,r,a){super(e,i,s,n,o,r,a),t(this,"defaultAttributeBinder",void 0),this.defaultAttributeBinder=new Ct(e,i,this.attributeName,n,o,r,"*")}}t(Sd,"key","bs5-attr-*-*");class Cd extends wt{constructor(...e){super(...e),t(this,"dispatcher",z.getInstance("main")),t(this,"collapseService",void 0),t(this,"url",void 0),t(this,"checkURL",this._checkURL.bind(this))}_checkURL(){return!(!this.url||!pt(this.url))&&(this.collapseService?.hide(),!0)}bind(t){this.collapseService=new td(t,{toggle:!1})}unbind(){this.checkURL&&this.dispatcher.off("newPageReady",this.checkURL)}routine(t,e){this.url=e,this.checkURL&&this.dispatcher.off("newPageReady",this.checkURL),this.dispatcher.on("newPageReady",this.checkURL)}}t(Cd,"key","bs5-collapse-on-url");class xd extends Ed{constructor(e,i,s,n,o,r,a){super(e,i,s,n,o,r,a),t(this,"defaultAttributeBinder",void 0),this.defaultAttributeBinder=new Lt(e,i,`co-${this.attributeName}`,n,o,r,Lt.key)}}t(xd,"key","bs5-co-*-*");class Td extends wt{constructor(...e){super(...e),t(this,"targets",new Map),t(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){t.preventDefault();for(const e of this.targets.values())e.toggle()}bind(t){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.addEventListener(e,this.onEvent)}unbind(){const t=this.args[0];this.el.removeEventListener(t,this.onEvent)}routine(t,e){const i=Array.from(document.querySelectorAll(e));i.length<=0&&console.warn(`[toggleCollapseOnEventBinder] No element with selector "${e}" found.`);for(const s of this.targets.keys())i.find((t=>t===s))||(this.targets.get(s)?.dispose(),this.targets.delete(s));for(const s of i)this.targets.has(s)||this.targets.set(s,new td(s,{toggle:!1}))}}t(Td,"key","bs5-toggle-collapse-on-*");class kd extends wt{constructor(...e){super(...e),t(this,"toggler",void 0),t(this,"dropdownService",void 0)}bind(t){this.toggler=(t.classList.contains("dropdown-toggle")?t:t.querySelector(".dropdown-toggle"))||t}routine(t,e={}){if(!this.toggler)throw new Error("No dropdown toggle element found!");if(this.dropdownService){this.dropdownService.dispose(),this.toggler.dataset.bsToggle=""}const i=new ld(this.toggler,e);this.toggler.dataset.bsToggle="dropdown",this.dropdownService=i,this.dropdownService.hide()}}t(kd,"key","bs5-dropdown");class Ad extends wt{routine(t,e){const i=new td(t,{toggle:!1}),s=new z("main"),n=t=>t&&pt(t)?(i.show(),!0):(i.hide(),!1);s.on("newPageReady",(()=>n(e))),n(e)}}t(Ad,"key","bs5-expand-on-url");class Ld extends wt{constructor(...e){super(...e),t(this,"popover",void 0),t(this,"listeners",{})}routine(t,e){let i={};"string"==typeof e?i.content=e:"object"==typeof e&&(i={...e}),i.placement=i.placement||"auto";const s=new fd(t,{...fd.Default,...i});this.popover&&this.popover.dispose(),this.popover=s;const n=["show","hide","toggle","dispose","enable","disable","update"];if(this.listeners)for(const[o,r]of Object.entries(this.listeners))this.el.removeEventListener(o,r);this.listeners=Object.create(null);for(const o of n)if(s[o]&&"function"==typeof s[o]){const t=`trigger-${String(o)}`,e=s[o].bind(s);this.el.addEventListener(t,e),this.listeners[t]=e}else console.warn("Unknown method "+o)}bind(t){t.dispatchEvent(new CustomEvent("bound.bs.popover",{bubbles:!0,cancelable:!0}))}unbind(){if(this.popover&&this.popover.dispose(),this.listeners)for(const[t,e]of Object.entries(this.listeners))this.el.removeEventListener(t,e)}}t(Ld,"key","bs5-popover");class Id extends wt{constructor(...e){super(...e),t(this,"toastData",void 0),t(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){if(!this.toastData)throw new Error("Toast data not set!");this.toastData.$event=t,this.toastData.$context=this.view.models;const e=new vd(this.toastData);new z(e.channel||"toast").trigger("show-notification",e)}bind(t){const e=this.args[0];t.addEventListener(e,this.onEvent)}routine(t,e){if(null===this.args)throw new Error("args is null");this.toastData=e}unbind(t){const e=this.args[0];t.removeEventListener(e,this.onEvent)}}t(Id,"key","show-toast-on-*");class Od extends wt{constructor(...e){super(...e),t(this,"target",void 0),t(this,"className",void 0),t(this,"onScroll",tt(this._onScroll.bind(this))),t(this,"isInViewport",this._isInViewport.bind(this))}_onScroll(){if(!this.target)throw new Error("No target element found!");if(!this.className)throw new Error("className not set!");this.isInViewport(this.target)?(this.el.classList.add(this.className),"radio"===this.el.type&&(this.el.checked=!0)):(this.el.classList.remove(this.className),"radio"===this.el.type&&(this.el.checked=!1))}_isInViewport(t){if(!t)return!1;return((t,e={})=>{if(!t)return!1;const i=t.getBoundingClientRect(),s=N();e.top||=0,e.left||=0,e.bottom||=0,e.right||=0,e.top+=s.h-i.height,e.left+=s.w-i.width;const n=i.top+i.height>=e.bottom&&i.bottom-i.height<=e.top,o=i.left+i.width>=e.right&&i.right-i.width<=e.left;return n&&o})(t,{top:Number(this.el.dataset.offset||0),bottom:Number(this.el.dataset.offsetBottom||0)})}bind(){window.addEventListener("scroll",this.onScroll,{passive:!0}),this.onScroll()}routine(t,e){const i=e.replace("#","");this.target=document.getElementById(i)||void 0,this.className=this.args[0]}unbind(){window.removeEventListener("scroll",this.onScroll)}}t(Od,"key","bs5-scrollspy-*");const Nd=document.createElement("div");Nd.classList.add("tooltip"),Nd.setAttribute("role","tooltip");const Dd=document.createElement("div");Dd.classList.add("arrow"),Nd.appendChild(Dd);const Pd=document.createElement("div");Pd.classList.add("tooltip-inner"),Nd.appendChild(Pd);class Bd extends wt{constructor(...e){super(...e),t(this,"popper",void 0),t(this,"tip",Nd.cloneNode(!0)),t(this,"show",this._show.bind(this)),t(this,"hide",this._hide.bind(this))}_show(){const t=this.el.dataset.placement||"start";this.popper=Tr(this.el,this.tip,{placement:t,modifiers:[{name:"flip",options:{altBoundary:!0,behavior:"flip"}},{name:"offset",options:{offset:0}},{name:"arrow",options:{element:".arrow"}},{name:"preventOverflow",options:{boundariesElement:"scrollParent"}}],strategy:void 0}),document.body.appendChild(this.tip),this.tip.classList.add("show"),this.tip.classList.add("bs-tooltip-"+t)}_hide(){this.tip.classList.remove("show"),this.popper&&this.popper.destroy()}bind(t){t.addEventListener("mouseenter",this.show),t.addEventListener("mouseleave",this.hide)}routine(t,e){this.tip.querySelector(".tooltip-inner").innerHTML=e}unbind(){this.hide(),this.el.removeEventListener("mouseenter",this.show),this.el.removeEventListener("mouseleave",this.hide)}}t(Bd,"key","bs5-tooltip");class Md extends wt{constructor(...e){super(...e),t(this,"target",void 0),t(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){const e=Number(this.el.dataset.offset||0),i=this.el.dataset.scrollElement?document.querySelector(this.el.dataset.scrollElement):window;this.target&&(k(this.target,e,i),t.preventDefault())}bind(t){this.onEvent=this.onEvent.bind(this);const e=this.args[0];t.addEventListener(e,this.onEvent)}routine(t,e){this.target=document.querySelector(e)||void 0}unbind(t){const e=this.args[0];t.removeEventListener(e,this.onEvent)}}t(Md,"key","scroll-to-on-*");class Rd extends wt{constructor(...e){super(...e),t(this,"toggleButtonEvents",void 0),t(this,"state","off"),t(this,"triggerState",this._triggerState.bind(this)),t(this,"onToggle",this._onToggle.bind(this))}_triggerState(){this.toggleButtonEvents?.trigger(jn.eventNames.state,this.state)}_onToggle(){this.toggle.bind(this)(this.el)}toggle(t){"removed"===this.state?this.add.bind(this)(t):this.remove.bind(this)(t)}remove(t){const e=this.args[0];t.removeAttribute(e),this.state="removed",t.dispatchEvent(new CustomEvent(Un.elEventNames.removed,{detail:{attributeName:e}})),this.triggerState()}add(t){const e=this.args[0];t.setAttribute(e,e),this.state="added",t.dispatchEvent(new CustomEvent(Un.elEventNames.added,{detail:{attributeName:e}})),this.triggerState()}bind(t){const e=this.args[0];this.state=t.hasAttribute(e)?"added":"removed"}unbind(){this.toggleButtonEvents?.off(jn.eventNames.toggle,this.onToggle,this),this.toggleButtonEvents?.off(jn.eventNames.init,this.triggerState,this)}routine(t,e){const i=this._getValue(t);let s=this.toggleButtonEvents;i&&s&&(s.off(jn.eventNames.toggle,this.onToggle,this),s.off(jn.eventNames.init,this.triggerState,this)),this.toggleButtonEvents||(this.toggleButtonEvents=new z(jn.nsPrefix+e),s=this.toggleButtonEvents,s.on(jn.eventNames.toggle,this.onToggle,this),s.on(jn.eventNames.init,this.triggerState,this))}}t(Rd,"key","bs5-toggle-attribute-*");class Fd extends wt{constructor(...e){super(...e),t(this,"toggleButtonEvents",void 0),t(this,"state","off"),t(this,"triggerState",this._triggerState.bind(this)),t(this,"onToggle",this._onToggle.bind(this))}_triggerState(){this.toggleButtonEvents?.trigger(jn.eventNames.state,this.state)}_onToggle(){this.toggle.bind(this)(this.el)}toggle(t){"removed"===this.state?this.add.bind(this)(t):this.remove.bind(this)(t)}remove(t){const e=this.args[0];t.classList.remove(e),this.state="removed",t.dispatchEvent(new CustomEvent(Wn.elEventNames.removed,{detail:{className:e}})),this.triggerState()}add(t){const e=this.args[0];t.classList.add(e,e),this.state="added",t.dispatchEvent(new CustomEvent(Wn.elEventNames.added,{detail:{className:e}})),this.triggerState()}bind(t){const e=this.args[0];this.state=t.classList.contains(e)?"added":"removed"}unbind(){this.toggleButtonEvents?.off(jn.eventNames.toggle,this.onToggle,this),this.toggleButtonEvents?.off(jn.eventNames.init,this.triggerState,this)}routine(t,e){const i=this._getValue(t);let s=this.toggleButtonEvents;i&&s&&(s.off(jn.eventNames.toggle,this.onToggle,this),s.off(jn.eventNames.init,this.triggerState,this)),this.toggleButtonEvents||(this.toggleButtonEvents=new z(jn.nsPrefix+e),s=this.toggleButtonEvents,s.on(jn.eventNames.toggle,this.onToggle,this),s.on(jn.eventNames.init,this.triggerState,this))}}t(Fd,"key","bs5-toggle-class-*");const $d=Object.freeze(Object.defineProperty({__proto__:null,Bs5AttributeBreakpointBinder:Sd,Bs5ComponentAttributeBreakpointBinder:xd,CollapseOnUrlBinder:Cd,DropdownBinder:kd,ExpandOnUrlBinder:Ad,PopoverBinder:Ld,ScrollToOnEventBinder:Md,ScrollspyClassBinder:Od,ShowToastOnEventBinder:Id,ToggleAttributeBinder:Rd,ToggleClassBinder:Fd,ToggleCollapseOnEventBinder:Td,TooltipBinder:Bd},Symbol.toStringTag,{value:"Module"})),Hd=function(t,e,i){return t()},zd=mi.read;class jd extends we{static get observedAttributes(){return["items","collapse-icon-src","collapse-icon-size","show-only-one"]}constructor(){super(),t(this,"autobind",!0),t(this,"templateAttributes",[{name:"title",required:!0},{name:"show",required:!1},{name:"icon-direction",required:!1}]),t(this,"scope",{items:[],toggle:this.toggle,show:this.show,hide:this.hide,collapseIconSize:16,showOnlyOne:!0})}hide(t,e){const i=this.querySelector(`[data-index="${e}"]`);i&&(this.initItemEventListeners(t,i),new td(i,{toggle:!1}).hide())}show(t,e){const i=this.querySelector(`[data-index="${e}"]`),s=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${e}"])`));if(s&&this.scope.showOnlyOne)for(const n of s)new td(n,{toggle:!1}).hide();i&&(this.initItemEventListeners(t,i),new td(i,{toggle:!1}).show())}toggle(t,e){const i=this.querySelector(`[data-index="${e}"]`),s=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${e}"])`));if(s&&this.scope.showOnlyOne)for(const n of s)new td(n,{toggle:!1}).hide();i&&(this.initItemEventListeners(t,i),new td(i,{toggle:!1}).toggle())}initItemEventListeners(t,e){e.removeEventListener(hd.hide,this.onHide.bind(this,e,t)),e.removeEventListener(hd.show,this.onShow.bind(this,e,t)),e.addEventListener(hd.hide,this.onHide.bind(this,e,t),{once:!0}),e.addEventListener(hd.show,this.onShow.bind(this,e,t),{once:!0})}getContentChildByIndex(){return this.querySelector(".card-body > *")||void 0}onShow(t,e){e.show=!0,e.iconDirection="up";const i=this.getContentChildByIndex();i&&this.triggerVisibilityChangedForElement(i,e.show)}onHide(t,e){e.show=!1,e.iconDirection="down";const i=this.getContentChildByIndex();i&&this.triggerVisibilityChangedForElement(i,e.show)}transformTemplateAttributes(t){return t.handle=t.handle||zd(t.title),t.show=!!t.show,t.iconDirection=t.iconDirection||t.show?"up":"down",t}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.init(jd.observedAttributes)}async init(t){return super.init(t).then((t=>t))}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,i,s){super.parsedAttributeChangedCallback(t,e,i,s)}disconnectedCallback(){super.disconnectedCallback()}async template(){if(!C(this)||this.hasOnlyTemplateChilds()){const{default:t}=await Hd((()=>i.import("./bs5-accordion.component-legacy-6e22b79e.bundle.js")));return t}return null}}t(jd,"tagName","bs5-accordion");class Ud extends ve{static get observedAttributes(){return["animation-class"]}constructor(){super(),t(this,"autobind",!0),t(this,"scope",{animationClass:"btn-animation-start",onClick:this.onClick.bind(this)})}onClick(){this.startAnimation()}connectedCallback(){super.connectedCallback(),this.init(Ud.observedAttributes)}startAnimation(){this.classList.add(this.scope.animationClass)}onStartAnimation(){}onEndAnimation(){setTimeout((()=>{this.classList.remove(this.scope.animationClass)}))}async init(t){return super.init(t).then((t=>(this.onStartAnimation=this.onStartAnimation.bind(this),this.addEventListener("webkitAnimationStart",this.onStartAnimation),this.addEventListener("animationstart",this.onStartAnimation),this.onEndAnimation=this.onEndAnimation.bind(this),this.addEventListener("webkitAnimationEnd",this.onEndAnimation),this.addEventListener("animationend",this.onEndAnimation),this.addEventListener("click",this.scope.onClick),t)))}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,i,s){super.parsedAttributeChangedCallback(t,e,i,s)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("webkitAnimationStart",this.onStartAnimation),this.removeEventListener("animationstart",this.onStartAnimation),this.removeEventListener("webkitAnimationEnd",this.onEndAnimation),this.removeEventListener("animationend",this.onEndAnimation),this.removeEventListener("click",this.scope.onClick)}template(){return null}}t(Ud,"tagName","bs5-button");class Wd extends ve{static get observedAttributes(){return["interval","keyboard","pause","wrap","touch","fade"]}requiredAttributes(){return[]}constructor(){super(),t(this,"scope",{interval:Jc.Default.interval,keyboard:Jc.Default.keyboard,pause:Jc.Default.pause||!1,wrap:Jc.Default.wrap,touch:Jc.Default.touch,fade:!1,next:this.next,nextWhenVisible:this.nextWhenVisible,prev:this.prev,startPause:this.pause,cycle:this.cycle,to:this.to,dispose:this.dispose}),t(this,"autobind",!0),t(this,"carouselService",void 0)}async beforeBind(){await super.beforeBind(),this.classList.add("carousel","slide")}async afterBind(){this.carouselService=new Jc(this,{interval:this.scope.interval,keyboard:this.scope.keyboard,pause:this.scope.pause,wrap:this.scope.wrap,touch:this.scope.touch}),this.scope.fade&&this.classList.add("carousel-fade"),this.carouselService.cycle(),await super.afterBind()}next(){this.carouselService&&this.carouselService.next()}nextWhenVisible(){this.carouselService&&this.carouselService.nextWhenVisible()}prev(){this.carouselService&&this.carouselService.prev()}pause(){this.carouselService&&this.carouselService.pause()}cycle(){this.carouselService&&this.carouselService.cycle()}to(){if(this.carouselService)throw new Error("TODO")}dispose(){this.carouselService&&this.carouselService.dispose()}connectedCallback(){super.connectedCallback(),super.init(Wd.observedAttributes)}template(){return null}}t(Wd,"tagName","bs5-carousel");class qd extends ve{static get observedAttributes(){return["title","content","collapsed"]}requiredAttributes(){return["title"]}constructor(){super(),t(this,"autobind",!0),t(this,"collapse",void 0),t(this,"scope",{title:"",content:"Please set the content of the collapse using the content attribute or just by set the content as the child of this element",collapsed:!0,toggle:this.toggle,show:this.show,hide:this.hide})}hide(){console.debug("hide"),this.collapse&&(this.scope.collapsed=!0,this.collapse.hide())}show(){this.collapse&&(this.scope.collapsed=!1,this.collapse.show())}toggle(){this.collapse&&(this.collapse.toggle(),this.scope.collapsed=!!this.scope.collapsed)}addEventListeners(){this.scope.collapseEl&&(this.scope.collapseEl.addEventListener(hd.hide,this.onHide.bind(this)),this.scope.collapseEl.addEventListener(hd.show,this.onShow.bind(this)))}removeEventListeners(){this.scope.collapseEl&&(this.scope.collapseEl.removeEventListener(hd.hide,this.onHide.bind(this)),this.scope.collapseEl.removeEventListener(hd.show,this.onShow.bind(this)))}onShow(){console.debug("onShow"),this.scope.collapsed=!1,this.triggerVisibilityChangedForElement(!this.scope.collapsed)}onHide(){console.debug("onShow"),this.scope.collapsed=!0,this.triggerVisibilityChangedForElement(!this.scope.collapsed)}triggerVisibilityChangedForElement(t){setTimeout((()=>{const e=new CustomEvent("visibility-changed",{detail:{visible:t}});this.dispatchEvent(e),this.scope.collapseEl&&this.scope.collapseEl.dispatchEvent(e)}),200)}connectedCallback(){super.connectedCallback(),this.init(qd.observedAttributes)}async afterBind(){if(console.debug("afterBind",this.scope.collapsed),this.scope.collapseEl=this.querySelector(".collapse")||void 0,!this.scope.collapseEl)throw new Error("No collapse element found!");this.collapse=new td(this.scope.collapseEl,{toggle:!this.scope.collapsed})}template(){return C(this)&&(this.scope.content=this.innerHTML),jsxCreateElement("div",null,jsxCreateElement("button",{"rv-on-click":"toggle",class:"btn btn-primary",type:"button","aria-expanded":"false","rv-aria-controls":"title | handleize","rv-text":"title"}),jsxCreateElement("div",{class:"collapse mt-2","rv-id":"title"},jsxCreateElement("div",{class:"card card-body","rv-template":"content"})))}}t(qd,"tagName","bs5-collapse"),String.prototype.startsWith=String.prototype.startsWith||function(t){return 0===this.indexOf(t)},String.prototype.padStart=String.prototype.padStart||function(t,e){let i=this;for(;i.length<t;)i=e+i;return i};const Vd={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function Yd(t,e=1){return(e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString())||"0"}class Zd{constructor(t,e,i,s){const n=this;if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===i){const e=t&&""+t;e&&function(t){if(t.startsWith("hsl")){let[e,i,s,o]=t.match(/([\-\d\.e]+)/g).map(Number);void 0===o&&(o=1),e/=360,i/=100,s/=100,n.hsla=[e,i,s,o]}else if(t.startsWith("rgb")){let[e,i,s,o]=t.match(/([\-\d\.e]+)/g).map(Number);void 0===o&&(o=1),n.rgba=[e,i,s,o]}else t.startsWith("#")?n.rgba=Zd.hexToRgb(t):n.rgba=Zd.nameToRgb(t)||Zd.hexToRgb(t)}(e.toLowerCase())}else this.rgba=[t,e,i,void 0===s?1:s]}get rgba(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=Zd.hslToRgb(this._hsla)}set rgba(t){3===t.length&&(t[3]=1),this._rgba=t,this._hsla=null}printRGB(t){const e=(t?this.rgba:this.rgba.slice(0,3)).map(((t,e)=>Yd(t,3===e?3:0)));return t?`rgba(${e})`:`rgb(${e})`}get rgbString(){return this.printRGB()}get rgbaString(){return this.printRGB(!0)}get hsla(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=Zd.rgbToHsl(this._rgba)}set hsla(t){3===t.length&&(t[3]=1),this._hsla=t,this._rgba=null}printHSL(t){const e=[360,100,100,1],i=["","%","%",""],s=(t?this.hsla:this.hsla.slice(0,3)).map(((t,s)=>Yd(t*e[s],3===s?3:1)+i[s]));return t?`hsla(${s})`:`hsl(${s})`}get hslString(){return this.printHSL()}get hslaString(){return this.printHSL(!0)}get hex(){return"#"+this.rgba.map(((t,e)=>e<3?t.toString(16):Math.round(255*t).toString(16))).map((t=>t.padStart(2,"0"))).join("")}set hex(t){this.rgba=Zd.hexToRgb(t)}printHex(t){const e=this.hex;return t?e:e.substring(0,7)}static hexToRgb(t){const e=(t.startsWith("#")?t.slice(1):t).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!e.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+t);const i=e.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((t=>parseInt(t,16)));return i[3]=i[3]/255,i}static nameToRgb(t){const e=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),i=Vd[e];return void 0===i?i:Zd.hexToRgb(i.replace(/\-/g,"00").padStart(6,"f"))}static rgbToHsl([t,e,i,s]){t/=255,e/=255,i/=255;const n=Math.max(t,e,i),o=Math.min(t,e,i);let r,a,l=(n+o)/2;if(n===o)r=a=0;else{const s=n-o;switch(a=l>.5?s/(2-n-o):s/(n+o),n){case t:r=(e-i)/s+(e<i?6:0);break;case e:r=(i-t)/s+2;break;case i:r=(t-e)/s+4}r/=6}return[r,a,l,s]}static hslToRgb([t,e,i,s]){let n,o,r;if(0===e)n=o=r=i;else{const s=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;n=s(l,a,t+1/3),o=s(l,a,t),r=s(l,a,t-1/3)}const a=[255*n,255*o,255*r].map(Math.round);return a[3]=s,a}}class Gd{constructor(){t(this,"events",[])}add(t,e,i){t.addEventListener(e,i,!1),this.events.push({target:t,type:e,handler:i})}remove(t,e,i){this.events=this.events.filter((s=>{let n=!0;return t&&t!==s.target&&(n=!1),e&&e!==s.type&&(n=!1),i&&i!==s.handler&&(n=!1),n&&Gd._doRemove(s.target,s.type,s.handler),!n}))}static _doRemove(t,e,i){t.removeEventListener(e,i,!1)}destroy(){this.events.forEach((t=>Gd._doRemove(t.target,t.type,t.handler))),this.events=[]}}const Kd=(t,e,i)=>{let s=!1;const n=(t,e,i)=>Math.max(e,Math.min(t,i)),o=(t,o,r)=>{if(r&&(s=!0),!s)return;t.preventDefault();const a=e.getBoundingClientRect(),l=a.width,h=a.height,c=o.clientX,d=o.clientY,u=n(c-a.left,0,l),p=n(d-a.top,0,h);i(u/l,p/h)},r=(t,e)=>{1===(void 0===t.buttons?t.which:t.buttons)?o(t,t,e):s=!1};function a(t,e){1===t.touches.length?o(t,t.touches[0],e):s=!1}t.add(e,"mousedown",(t=>{r(t,!0)})),t.add(e,"touchstart",(t=>{a(t,!0)})),t.add(window,"mousemove",r),t.add(e,"touchmove",a),t.add(window,"mouseup",(()=>{s=!1})),t.add(e,"touchend",(()=>{s=!1})),t.add(e,"touchcancel",(()=>{s=!1}))},Xd="keydown";class Qd extends ve{static get observedAttributes(){return["namespace","alpha","editor","editor-format","cancel-button","okay-button","color"]}constructor(){super(),t(this,"eventDispatcher",void 0),t(this,"color",void 0),t(this,"_debug",!1),t(this,"scope",{namespace:"main",hsl:[],cssHue:"",cssHsl:"",cssHsla:"",alphaBg:"",color:"#0cf",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,okayButton:!1}),t(this,"events",new Gd),t(this,"_domH",null),t(this,"_domSL",null),t(this,"_domA",null),t(this,"_domEdit",null),t(this,"_domSample",null),t(this,"_domOkay",null),t(this,"_domCancel",null),t(this,"setColor",tt(this._setColor.bind(this))),t(this,"updateUI",tt(this._updateUI.bind(this)))}connectedCallback(){super.connectedCallback(),super.init(Qd.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.eventDispatcher=z.getInstance("bs5-colorpicker:"+this.scope.namespace),this.setColor(this.scope.color),this.updateUI(),this.bindEvents()}async afterTemplate(t){await super.afterTemplate(t),this.setElements()}onChange(t){this.debug("onChange",t),this.eventDispatcher?.trigger("change",t)}onDone(t){this.debug("onDone",t),this.eventDispatcher?.trigger("done",t)}async template(){if(C(this))return null;{const{default:t}=await Hd((()=>i.import("./bs5-colorpicker.component-legacy-d2909398.bundle.js")));return t}}parsedAttributeChangedCallback(t,e,i,s){super.parsedAttributeChangedCallback(t,e,i,s),"color"===t&&this.setColor(this.scope.color)}_setColor(t,e={silent:!1}){if("string"==typeof t&&(t=t.trim()),!t)return;let i;e=e||{};try{i=new Zd(t)}catch(s){if(e.failSilently)return;throw s}if(!this.scope.alpha){const t=i.hsla;t[3]=1,i.hsla=t}this.color=i,this.setHSLA(null,null,null,null,e)}setElements(){this._domH=this.querySelector(".picker-hue"),this._domSL=this.querySelector(".picker-sl"),this._domA=this.querySelector(".picker-alpha"),this._domEdit=this.querySelector(".picker-editor")||null,this._domSample=this.querySelector(".picker-sample"),this._domOkay=this.querySelector(".picker-done"),this._domCancel=this.querySelector(".picker-cancel")}disconnectedCallback(){this.events.destroy()}bindEvents(){const t=this.events,e=(e,i,s)=>{t.add(e,i,s)};e(this,"click",(t=>t.preventDefault()));const i=Kd.bind(this);if(!(this._domH&&this._domSL&&this._domA&&this._domEdit&&this._domOkay))throw new Error("Not ready!");i(t,this._domH,(t=>this.setHSLA(t))),i(t,this._domSL,((t,e)=>this.setHSLA(null,t,1-e))),this.scope.alpha&&i(t,this._domA,((t,e)=>this.setHSLA(null,null,null,1-e))),e(this._domEdit,"input",(t=>{const e=t.target;this.setColor(e.value,{fromEditor:!0,failSilently:!0})})),e(this._domEdit,"focus",(t=>{const e=t.target;e.selectionStart===e.selectionEnd&&e.select()}));const s=()=>{this.onDone(this.color)};e(this._domOkay,"click",s),function(t,e,i,s,n=!1){t.add(e,Xd,(function(t){i.indexOf(t.key)>=0&&(n&&function(t){t.preventDefault(),t.stopPropagation()}(t),s(t))}))}(t,this,["Enter"],s)}setHSLA(t=null,e=null,i=null,s=null,n={}){if(!this.color)throw new Error("Not ready!");const o=this.color.hsla;[t,e,i,s].forEach(((t,e)=>{(t||0===t)&&(o[e]=t)})),this.color.hsla=o,this.updateUI(n),this.onChange&&!n.silent&&this.onChange(this.color)}_updateUI(t={}){if(!this||!this.color)return;if(this.scope.hsl=this.color.hsla,this.scope.cssHue=`hsl(${360*this.scope.hsl[0]}, 100%, 50%)`,this.scope.cssHsl=this.color.hslString,this.scope.cssHsla=this.color.hslaString,!this._domH||!this._domSL||!this._domA)throw new Error("Color ui elements not found!");const e=this._domH.querySelector(".picker-selector"),i=this._domSL.querySelector(".picker-selector"),s=this._domA.querySelector(".picker-selector");if(!(e&&i&&s&&this._domEdit&&this._domSample))throw console.error(e,i,s,this._domA,this._domSL,this._domH,this._domEdit,this._domSample),new Error("Not ready!");const n=(t,e,i)=>{e.style.left=100*i+"%"},o=(t,e,i)=>{e.style.top=100*i+"%"};n(this._domH,e,this.scope.hsl[0]),n(this._domSL,i,this.scope.hsl[1]),o(this._domSL,i,1-this.scope.hsl[2]),o(this._domA,s,1-this.scope.hsl[3]);const r=this.scope.cssHsl,a=r.replace("hsl","hsla").replace(")",", 0)"),l=`linear-gradient(${[r,a]})`;if(this.scope.alphaBg=l+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!t.fromEditor){const t=this.scope.editorFormat,e=this.scope.alpha;let i;switch(t){case"rgb":i=this.color.printRGB(e);break;case"hsl":i=this.color.printHSL(e);break;default:i=this.color.printHex(e)}this.scope.color=i}}}t(Qd,"tagName","bs5-colorpicker");class Jd extends ve{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","scroll-offset","scroll-element"]}constructor(){super(),t(this,"autobind",!0),t(this,"wrapperElement",void 0),t(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(Jd.observedAttributes)}getIdFromElementOrParent(t,e=1){return t.id?t.id:e<=this.scope.findHeaderIdDepth&&t.parentElement?this.getIdFromElementOrParent(t.parentElement,++e):null}pushHeaders(t,e,i,s){t.querySelectorAll("h"+e).forEach((t=>{const n=this.getIdFromElementOrParent(t);n&&(s.push({element:t,href:"#"+n,title:t.innerHTML,childs:[]}),t.parentElement&&i>=e+1&&this.pushHeaders(t.parentElement,e+1,i,s[s.length-1].childs))}))}async afterBind(){if(this.scope.headerParentSelector&&this.scope.headersStart&&this.scope.headersDepth){if(this.wrapperElement=document.querySelector(this.scope.headerParentSelector)||void 0,this.scope.anchors=[],!this.wrapperElement)return void console.error("No wrapper element found!");this.pushHeaders(this.wrapperElement,this.scope.headersStart,this.scope.headersDepth,this.scope.anchors)}await super.afterBind()}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}async attributeChangedCallback(t,e,i,s){super.attributeChangedCallback(t,e,i,s)}disconnectedCallback(){super.disconnectedCallback(),this.scope.anchors=[]}async template(){if(C(this))return null;{const{default:t}=await Hd((()=>i.import("./bs5-contents.component-legacy-c6d69b80.bundle.js")));return t}}}t(Jd,"tagName","bs5-contents");class tu extends ve{static get observedAttributes(){return["id","disable-submit-until-change","use-ajax","ajax-request-type","auto-set-form-data","strip-html","scroll-invalid-element","animate-invalid-element"]}getDefaultScope(){return{id:D("form"),form:{fields:{},valid:!1,error:void 0},disableSubmitUntilChange:!1,submitDisabled:!1,onSubmit:this.onSubmit,useAjax:!0,ajaxRequestType:"form",autoSetFormData:!0,stripHtml:!0,scrollToInvalidElement:!0,animateInvalidElement:!0}}constructor(){super(),t(this,"_debug",!1),t(this,"autobind",!0),t(this,"formEl",null),t(this,"scope",this.getDefaultScope()),this.enableSubmit=this.enableSubmit.bind(this)}connectedCallback(){super.connectedCallback(),this.init(tu.observedAttributes),this.addEventListeners()}addEventListeners(){this.scope.disableSubmitUntilChange&&this.addEventListener("input",this.enableSubmit)}removeEventListeners(){this.removeEventListener("input",this.enableSubmit)}enableSubmit(){this.scope.submitDisabled=!1}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.id=this.scope.id}async afterBind(){await super.afterBind()}stripHtml(){for(const t in this.scope.form.fields)this.scope.form.fields[t]&&"string"==typeof this.scope.form.fields[t]&&(this.scope.form.fields[t]=b(this.scope.form.fields[t]))}onSubmit(t,e){if(this.debug("onSubmit",t,e),!this.formEl)return console.warn("No form found"),!1;if(this.scope.autoSetFormData&&this.getFormValues(),this.scope.stripHtml&&this.stripHtml(),this.validate(this.formEl,this.scope.form),!this.scope.form.valid)return void this.onInvalidForm(t);if("_blank"===this.getSubmitSettings(t)?.target)return!0;this.scope.useAjax&&(t.preventDefault(),t.stopPropagation(),this.ajaxSubmit(t,e))}async ajaxSubmit(t,e){this.debug("onSubmit",t,e,this.scope);const i=this.getSubmitSettings(t);if(i){this.scope.autoSetFormData&&this.getFormValues();try{const t=await V.fetch(i.action,i.method,this.scope.form.fields,i.type);if(!t||!t.body)return this.onErrorSubmit("500","Error","Empty body!");const e=t.body&&t.body.message?t.body.message:"";return Number(t.status)>=400&&this.onErrorSubmit(t.status.toString(),e,t.body),this.onSuccessSubmit(t.status.toString(),e,t.body)}catch(s){if(!s.status||!s.body)throw this.error;this.onErrorSubmit(s.status,s.body.message,s.body)}}else console.warn("Can't get submit settings")}getSubmitSettings(t){if(!this.formEl)return console.warn("No form found"),null;let e=this.formEl.action,i=this.formEl.method,s=this.formEl.method;if(t?.originalEvent?.submitter){const n=t?.originalEvent?.submitter;e=n?.formAction||e,i=n?.formMethod||i,s=n?.formTarget||s}return{action:e,method:i.toUpperCase(),target:s,type:this.scope.ajaxRequestType}}onInvalidForm(t){if(this.debug("Form not valid",this.scope),t.preventDefault(),t.stopPropagation(),!this.formEl)return void console.warn("No form found");const e=this.formEl.querySelectorAll(":invalid");if(e&&e.length){const t=e[0];this.scope.scrollToInvalidElement&&this.scrollToElement(t),this.scope.animateInvalidElement&&this.scrollToElement(t)}this.dispatchEvent(new CustomEvent("invalid",{detail:{elements:e}}))}scrollToElement(t){const e=N().h/2;k(t,e,window),this.animateInvalidElement(t)}animateInvalidElement(t,e=3e3){t.classList.add("invalid-flashing-animation"),setTimeout((()=>{t.classList.remove("invalid-flashing-animation")}),e)}onErrorSubmit(t,e,i){this.debug("onErrorSubmit"),this.dispatchEvent(new CustomEvent("submit-error",{detail:{status:t,message:e,response:i}}))}onSuccessSubmit(t,e,i){this.debug("onSuccessSubmit"),this.scope.disableSubmitUntilChange&&(this.scope.submitDisabled=!0),this.dispatchEvent(new CustomEvent("submit-success",{detail:{status:t,message:e,response:i}}))}validate(t,e,i="validation-error"){e.valid=t.checkValidity(),e.error=t.validationMessage,e.valid||(this.dispatchEvent(new CustomEvent(i)),t.classList.add("was-validated"))}getFormValues(){return this.formEl?(this.scope.form.fields=new FormData(this.formEl),this.scope.form.fields):(console.warn("No form found"),null)}initForm(){const t=this.querySelector("form");t&&t.length>0?(this.formEl=t,this.formEl.classList.add("needs-validation"),this.formEl.setAttribute("novalidate","")):console.warn("bs5 form without children found")}async template(){if(C(this))return this.initForm(),null;{const{default:t}=await Hd((()=>i.import("./bs5-form.component-legacy-c7989036.bundle.js")));return t}}}t(tu,"tagName","bs5-form");class eu extends ge{static get observedAttributes(){return["size","width","height","src","color","direction","alt"]}constructor(){super(),t(this,"scope",{})}getSvg(){return this.querySelector("svg")}async fetchCached(t){let e=eu.cache.get(t);return e||(e=V.get(t),e&&eu.cache.set(t,e),e)}async fetchIcon(t){let e;if(!window?.ssr||t.startsWith("http")||t.startsWith("ftp")||t.startsWith("sftp"))e=await this.fetchCached(t);else{let i;if(window.ssr.env.NEST_INTERN_URL)i=new URL(t,window.ssr.env.NEST_INTERN_URL);else{if(!window.ssr.ctx)throw new Error("Host for SSR not found!");i=new URL(t,window.ssr.ctx.protocol+"://"+window.ssr.ctx.hostname)}e=await this.fetchCached(i.href)}return 200!==e.status?(console.error(e.status),""):e.headers.get("content-type")?.includes("image/svg+xml")?e.body:(console.error("[bs5-icon] Only SVG's are supported! But content-type is "+e.headers.get("content-type")),"")}getBasename(t){const e=ct(t).pathname.split("/");return e?.[e.length-1]}getAlternativeText(t){return this.getBasename(t).split(".")[0]?.replaceAll("_"," ")}async onSrcChanged(){let t="";if(!this.scope.src)return void(this.innerHTML="");const e=this.getAlternativeText(this.scope.src);e&&this.setAttribute("alt",e);const i=this.getSvg();if((i?i.getAttribute("src"):"")===this.scope.src)return;if(t=await this.fetchIcon(this.scope.src),!t)return void console.error(`Error on fetch icon "${this.scope.src}"!`);this.innerHTML=t;const s=this.getSvg();s&&s.setAttribute("src",this.scope.src)}removeColor(){this.className=this.className.replace(/(^|\s)color-\S+/g,""),this.style.color=""}setColor(t){if(!t)return this.removeColor();if(t.includes(",")){const e=t.split(",");if(e.length>0){this.className=this.className.replace(/(^|\s)color-\S+/g,"");for(let t=0;t<e.length;t++){const i=e[t];(i.startsWith("#")||i.startsWith("rgb"))&&(this.style.color=i),this.classList.add(`color-${i}`)}}}else this.style.color=t,this.className=this.className.replace(/(^|\s)color-\S+/g,""),this.classList.add(`color-${t}`)}setSize(t){this.style.height=t+"px",this.style.width=t+"px",this.className=this.className.replace(/(^|\s)size-\S+/g,""),this.classList.add(`size-${t}`)}setWidth(t){this.style.width=t+"px",this.className=this.className.replace(/(^|\s)width-\S+/g,""),this.classList.add(`width-${t}`)}setHeight(t){this.style.height=t+"px",this.className=this.className.replace(/(^|\s)height-\S+/g,""),this.classList.add(`height-${t}`)}setDirection(t){let e=`direction-${t}`;"left"===t?e+=" rotate-270":"left-top"===t||"left-up"===t||"top-left"===t||"up-left"===t?e+=" rotate-315":"top"===t||"up"===t?e+=" rotate-0":"top-right"===t||"up-right"===t||"right-top"===t||"right-up"===t?e+=" rotate-45":"right"===t?e+=" rotate-90":"right-bottom"===t||"right-down"===t||"bottom-right"===t||"down-right"===t?e+=" rotate-135":"bottom"===t||"down"===t?e+=" rotate-180":"left-bottom"!==t&&"left-down"!==t&&"bottom-left"!==t&&"down-left"!==t||(e+=" rotate-225"),this.className=this.className.replace(/(^|\s)direction-\S+/g,""),this.className=this.className.replace(/(^|\s)rotate-\S+/g,""),this.className+=" "+e}async attributeChangedCallback(t,e,i,s){super.attributeChangedCallback(t,e,i,s),"src"===t&&this.onSrcChanged(),"color"===t&&this.setColor(i),"size"===t&&this.setSize(i),"width"===t&&this.setWidth(i),"height"===t&&this.setHeight(i),"direction"===t&&this.setDirection(i)}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true"),this.setAttribute("role","icon"),this.setAttribute("alt","icon"),this.classList.add("iconset"),this.init(eu.observedAttributes),this.scope.direction||(this.scope.direction="up",this.attributeChangedCallback("direction",null,this.scope.direction,null))}template(){return null}}t(eu,"tagName","bs5-icon"),t(eu,"cache",new cs);class iu extends ve{static get observedAttributes(){return["modal","index"]}requiredAttributes(){return["modal"]}constructor(){super(),t(this,"_debug",!1),t(this,"autobind",!0),t(this,"modalService",void 0),t(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this)})}connectedCallback(){super.connectedCallback(),this.init(iu.observedAttributes)}async afterBind(){this.initModal(),await super.afterBind()}initModal(){const t=this.scope.modal,e=this.firstElementChild;t&&e&&(this.modalService=new md(e,{focus:void 0===t.focus||t.focus,keyboard:void 0===t.keyboard||t.keyboard,backdrop:void 0===t.backdrop||t.backdrop}),e.addEventListener(md.EVENT_HIDDEN,this.scope.onHidden,{once:!0}),this.modalService.show())}dismiss(){this.modalService?.hide()}onHidden(t,e){e||(e=O(t));const i=this.scope.$parent?.$parent||null;"function"==typeof i?.onItemHide&&this.scope.modal&&e&&i.onItemHide(t,e,this.scope.index,this.scope.modal)}async template(){const{default:t}=await Hd((()=>i.import("./bs5-modal-item.component-legacy-dd6a2ae0.bundle.js")));return t}}t(iu,"tagName","bs5-modal-item");class su extends ve{static get observedAttributes(){return["collapse-selector"]}constructor(){super(),t(this,"scope",{toggle:this.toggle,show:this.show,hide:this.hide,isCollapsed:!0,collapseSelector:".navbar-collapse"}),t(this,"collapseTargets",new Map),t(this,"routerEvents",void 0),this.onStateChange=this.onStateChange.bind(this)}async afterBind(){this.hide(),await super.afterBind()}toggle(t){for(const e of this.collapseTargets.values())e.toggle();t&&(t.preventDefault(),t.stopPropagation())}show(t){for(const e of this.collapseTargets.values())e.show();t&&(t.preventDefault(),t.stopPropagation())}hide(t){for(const e of this.collapseTargets.values())e.hide();t&&(t.preventDefault(),t.stopPropagation())}connectedCallback(){super.connectedCallback(),this.routerEvents=new z("main"),this.routerEvents.on("newPageReady",this.onNewPageReady,this),this.setCollapseElement(),this.onStateChange(),this.init(su.observedAttributes)}setCollapseElement(){const t=Array.from(this.querySelectorAll(this.scope.collapseSelector)||[]);for(const e of this.collapseTargets.keys())t.find((t=>t===e))||this.disposeCollapseTarget(e);for(const e of t)this.collapseTargets.has(e)||(this.collapseTargets.set(e,new td(e,{toggle:!1})),e.addEventListener(td.Events.shown,this.onStateChange),e.addEventListener(td.Events.hidden,this.onStateChange));this.hide()}disposeCollapseTargets(){for(const t of this.collapseTargets.keys())this.disposeCollapseTarget(t)}disposeCollapseTarget(t){const e=this.collapseTargets.get(t);e&&e.dispose(),this.collapseTargets.delete(t),t.removeEventListener(td.Events.shown,this.onStateChange),t.removeEventListener(td.Events.hidden,this.onStateChange)}disconnectedCallback(){super.disconnectedCallback(),this.disposeCollapseTargets(),this.routerEvents&&this.routerEvents.off("newPageReady",this.onNewPageReady,this)}onStateChange(){this.scope.isCollapsed=this.collapseTargets.values().next().value?.isCollapsed(),this.scope.isCollapsed?(this.classList.add(td.CLASS_NAME_COLLAPSED),this.setAttribute("aria-expanded","false")):(this.classList.remove(td.CLASS_NAME_COLLAPSED),this.setAttribute("aria-expanded","true"))}onNewPageReady(){this.hide()}parsedAttributeChangedCallback(t,e,i,s){super.parsedAttributeChangedCallback(t,e,i,s),"collapseSelector"===t&&this.setCollapseElement()}template(){return null}}t(su,"tagName","bs5-navbar");class nu extends ve{static get observedAttributes(){return["icon-url","position-class","channel-name"]}constructor(){super(),t(this,"autobind",!0),t(this,"_debug",!1),t(this,"notificationDispatcher",void 0),t(this,"scope",{notifications:[],positionClass:"absolute-bottom absolute-center",channelName:"toast",onItemHide:this.onItemHide})}connectedCallback(){super.connectedCallback(),this.init(nu.observedAttributes)}onItemHide(t,e,i,s){i>-1?this.notifications.splice(i,1):console.warn("Notification not found",s)}onShowNotification(t){this.debug("Received notification container on "+this.scope.channelName,this.scope,t),this.scope.notifications.push(t)}async afterBind(){this.notificationDispatcher=new z(this.scope.channelName),this.notificationDispatcher.on("show-notification",this.onShowNotification,this),await super.afterBind()}disconnectedCallback(){super.disconnectedCallback(),this.notificationDispatcher.off("show-notification",this.onShowNotification,this)}requiredAttributes(){return[]}async template(){if(!C(this)){const{default:t}=await Hd((()=>i.import("./bs5-notification-container.component-legacy-ae608a67.bundle.js")));return t}return null}}t(nu,"tagName","bs5-notification-container");class ou extends Jd{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","offset","offset-bottom","scroll-offset"]}constructor(){super(),t(this,"autobind",!0),t(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,offset:0,offsetBottom:0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(ou.observedAttributes)}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}async template(){if(C(this))return null;{const{default:t}=await Hd((()=>i.import("./bs5-scrollspy.component-legacy-ba6886dc.bundle.js")));return t}}}t(ou,"tagName","bs5-scrollspy");class ru extends ve{static get observedAttributes(){return["type","title","text","url","media-url","filename","label","dropdown-direction","dropdown-alignment","label-facebook","label-twitter","label-pinterest","label-whatsapp","label-telegram","label-email","label-download","label-clipboard"]}constructor(){super(),t(this,"_debug",!1),t(this,"dropdown",void 0),t(this,"scope",void 0),this.scope=this.getScopeDefaults(),ru.count++,this.onExternalOpenEvent=this.onExternalOpenEvent.bind(this),this.onExternalCloseEvent=this.onExternalCloseEvent.bind(this)}getFilename(t){if(t.filename)return t.filename;return this.getMediaUrlForShare().split("/").pop()}getDefaultShareServices(){const t="%0A";return[{id:"facebook",label:this.scope.labelFacebook,urlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{url}}",mediaUrlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{media_url}}",type:"popup",url:"",availableFor:["page","image","video"]},{id:"twitter",label:this.scope.labelTwitter,urlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}",mediaUrlTemplate:`https://twitter.com/intent/tweet?text={{text}}&url={{media_url}}${t}({{url}})`,url:"",availableFor:["page","image","video"]},{id:"pinterest",label:this.scope.labelPinterest,urlTemplate:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{media_url}}&description={{text}}",type:"popup",url:"",availableFor:["image","video"]},{id:"whatsapp",label:this.scope.labelWhatsapp,urlTemplate:`https://api.whatsapp.com/send?text={{text}}${t}${t}{{url}}`,mediaUrlTemplate:`https://api.whatsapp.com/send?text={{text}}${t}${t}{{media_url}}${t}({{url}})`,type:"popup",url:"",availableFor:["page","image","video"]},{id:"telegram",label:this.scope.labelTelegram,urlTemplate:"https://telegram.me/share/url?url={{url}}&text={{text}}",mediaUrlTemplate:`https://telegram.me/share/url?url={{media_url}}&text={{text}}${t}({{url}})`,type:"popup",url:"",availableFor:["page","image","video"]},{id:"email",label:this.scope.labelEmail,urlTemplate:`mailto:?subject={{title}}&body={{text}}${t}${t}{{url}}`,mediaUrlTemplate:`mailto:?subject={{title}}&body={{text}}${t}${t}{{media_url}}${t}({{url}})`,type:"href",url:"",availableFor:["page","image","video"]},{id:"download",label:this.scope.labelDownload,urlTemplate:"{{raw_media_url}}",type:"download",url:"",availableFor:["image","video"],filename:this.scope.filename},{id:"clipboard",label:this.scope.labelClipboard,urlTemplate:"{{url}}",mediaUrlTemplate:"{{media_url}}",type:"clipboard",url:"",availableFor:["page","image","video"]}]}isIos(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)}isAndroid(){return null!==navigator.userAgent.match(/Android/i)}browserSupportsNativeShare(){return"function"==typeof navigator.share}getScopeDefaults(){const t={type:"page",title:document.title,text:"Look at this! ",url:void 0,label:"Share",labelTemplate:'<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-text="label"></div>\n',isAndroid:this.isAndroid(),isIos:this.isIos(),isDesktop:!1,isNative:this.browserSupportsNativeShare(),dropdownId:"dropdownShare"+ru.count,shareItems:[],dropdownDirection:"down",dropdownAlignment:"auto",labelFacebook:"Facebook",labelTwitter:"Twitter",labelPinterest:"Pinterest",labelWhatsapp:"Whatsapp",labelTelegram:"Telegram",labelEmail:"Email",labelDownload:"Download",labelClipboard:"Copy to clipboard",share:this.share,shareOnService:this.shareOnService,getFilename:this.getFilename};return t.isDesktop=!t.isIos&&!t.isAndroid,t}onExternalOpenEvent(){this.dropdown?.show()}onExternalCloseEvent(){this.dropdown?.hide()}connectedCallback(){super.connectedCallback(),this.init(ru.observedAttributes),this.addEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}addEventListeners(){this.addEventListener("open",this.onExternalOpenEvent),this.addEventListener("btn-close",this.onExternalCloseEvent)}removeEventListeners(){this.removeEventListener("open",this.onExternalOpenEvent),this.removeEventListener("btn-close",this.onExternalOpenEvent)}getURLForShare(){return"page"===this.scope.type&&this.scope.url?ut(this.scope.url):window.location.href}getMediaUrlForShare(){return"page"!==this.scope.type&&this.scope.url?ut(this.scope.url):""}getTextForShare(){return b(this.scope.text)}getTitleForShare(){return b(this.scope.title)}updateShareURLs(){for(const t of this.scope.shareItems){const e=this.getURLForShare(),i=this.getMediaUrlForShare(),s=this.getTextForShare(),n=this.getTitleForShare();let o=t.urlTemplate;"page"!==this.scope.type&&t.mediaUrlTemplate&&(o=t.mediaUrlTemplate);const r="clipboard"!==t.type,a=o.replace("{{url}}",r?encodeURIComponent(e):e).replace("{{media_url}}",r?encodeURIComponent(i):i).replace("{{raw_media_url}}",i).replace("{{text}}",r?encodeURIComponent(s):s).replace("{{title}}",r?encodeURIComponent(n):n);t.available=t.availableFor.includes(this.scope.type),t.url=a}}initDropdown(){const t=this.querySelector(".dropdown-toggle-share");t?this.dropdown=new ld(t):console.warn('Element with selector ".dropdown-toggle-share" not found!',this)}async shareOnService(t,e){return this.dropdown?.hide(),"clipboard"===t.type?(e.preventDefault(),e.stopPropagation(),await at(t.url),!1):"download"===t.type||(e.preventDefault(),e.stopPropagation(),window.open(t.url,"Share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),!1)}async share(t){if(this.debug("share",this.scope),t.preventDefault(),t.stopPropagation(),!this.scope.isNative||this.scope.isDesktop)return this.updateShareURLs(),this.dropdown?.toggle();try{await navigator.share({title:this.scope.title,text:`${this.scope.text}\r\n\r\n`,url:this.scope.url||window.location.href})}catch(e){if("AbortError"===e.name)return;console.error(`Error ${e.name}: ${e.message}`,e)}}async beforeBind(){await super.beforeBind()}async afterBind(){this.initDropdown(),this.debug("afterBind",this.scope),this.scope.shareItems=this.getDefaultShareServices(),await super.afterBind()}requiredAttributes(){return[]}template(){return this&&C(this)&&(this.scope.labelTemplate=this.innerHTML),'<div rv-add-class="\'drop\' | append dropdownDirection">\n  <button class="btn btn-icon dropdown-toggle dropdown-toggle-share d-flex align-items-center" rv-id="dropdownId"\n    rv-template="labelTemplate" aria-label="Toggle dropdown share menu"></button>\n  <div class="dropdown-menu" rv-aria-labelledby="dropdownId" rv-add-class="\'dropdown-menu-\' | append dropdownAlignment">\n\n    <div rv-each-item="shareItems">\n      <div rv-if="item.available" rv-on-click="shareOnService | args item">\n        <a rv-if="item.type | eq \'download\'" class="dropdown-item no-barba cursor-pointer" rv-type="item.type"\n          target="_blank" rv-download="getFilename | call item" rv-href="item.url" rv-html="item.label">\n        </a>\n        <div class="dropdown-item cursor-pointer" rv-unless="item.type | eq \'download\'" rv-type="item.type"\n          rv-html="item.label"></div>\n      </div>\n\n    </div>\n\n  </div>\n</div>'}}t(ru,"tagName","bs5-share"),t(ru,"count",0);class au extends ve{static get observedAttributes(){return["id","container-selector","position","mode","width","auto-show","auto-hide","force-hide-on-location-pathnames","force-show-on-location-pathnames","watch-new-page-ready-event","close-on-swipe"]}constructor(){super(),t(this,"computedStyle",void 0),t(this,"autobind",!0),t(this,"_debug",!1),t(this,"bs5",void 0),t(this,"touch",new zs(this)),t(this,"events",void 0),t(this,"routerEvents",new z("main")),t(this,"defaults",{containerSelector:void 0,state:"hidden",oldState:"hidden",id:void 0,width:"250px",position:"left",mode:"overlap",autoShow:!1,autoHide:!1,watchNewPageReadyEvent:!0,forceHideOnLocationPathnames:[],forceShowOnLocationPathnames:[],closeOnSwipe:!0,hide:this.hide,show:this.show,toggle:this.toggle}),t(this,"scope",{...this.defaults}),t(this,"onSwipe",this._onSwipe.bind(this)),t(this,"onEnvironmentChanges",tt(this._onEnvironmentChanges.bind(this))),this.bs5=Vn.getSingleton(),this.onEnvironmentChanges=this.onEnvironmentChanges.bind(this)}setState(t){this.scope.oldState=this.scope.state,this.scope.state=t,this.onStateChange()}getState(){return this.scope.state}getShowMode(){return`${this.scope.mode}-${this.scope.position}`}hide(){this.setState("hidden")}show(){const t=this.getShowMode();this.setState(t)}toggle(){this.debug("toggle state: "+this.scope.state),"hidden"===this.scope.state?this.show():this.hide(),this.debug("toggled state: "+this.scope.state)}connectedCallback(){super.connectedCallback(),this.init(au.observedAttributes),this.computedStyle=window.getComputedStyle(this),this.addEventListeners(),this.onEnvironmentChanges()}addEventListeners(){window.addEventListener("resize",this.onEnvironmentChanges,{passive:!0}),this.addEventListener("swipe",this.onSwipe)}removeEventListeners(){this.events?.off(jn.eventNames.init,this.triggerState,this),this.events?.off(jn.eventNames.toggle,this.toggle,this),this.routerEvents.off("newPageReady",this.onEnvironmentChanges,this),window.removeEventListener("resize",this.onEnvironmentChanges)}initToggleButtonEventDispatcher(){this.events&&(this.events.off(jn.eventNames.toggle,this.toggle,this),this.events.off(jn.eventNames.init,this.triggerState,this));const t=jn.nsPrefix+this.scope.id;this.debug(`Init event dispatcher for namespace  ${t}`),this.events=new z(t),this.events.on(jn.eventNames.toggle,this.toggle,this),this.events.on(jn.eventNames.init,this.triggerState,this)}initRouterEventDispatcher(){this.scope.watchNewPageReadyEvent&&this.routerEvents.on("newPageReady",this.onEnvironmentChanges,this)}_onSwipe(t){this.scope.closeOnSwipe&&"side-left"!==this.scope.state&&"side-right"!==this.scope.state&&("left"===this.scope.position&&"left"===t.detail.direction&&this.hide(),"right"===this.scope.position&&"right"===t.detail.direction&&this.hide())}onHidden(){const t="left"===this.scope.position?"-100%":"100%";this.style.transform=`translateX(${t})`,this.width=this.scope.width,this.setContainersStyle(this.scope.state)}onMove(t){this.style.transform="translateX(0)",this.style.width=this.scope.width,this.width=this.scope.width,this.setContainersStyle(t)}onSide(t){this.style.transform="translateX(0)",this.style.width=this.scope.width,this.width=this.scope.width,this.setContainersStyle(t)}onOverlap(t){this.style.transform="translateX(0)",this.width=this.scope.width,this.setContainersStyle(t)}triggerState(){this.events?.trigger("state",this.scope.state)}onStateChange(){switch(this.scope.state){case"side-left":case"side-right":this.onSide(this.scope.state);break;case"overlap-left":case"overlap-right":this.onOverlap(this.scope.state);break;case"move-left":case"move-right":this.onMove(this.scope.state);break;default:this.onHidden()}this.events&&this.events.trigger(jn.eventNames.toggled,this.scope.state),this.dispatchEvent(new CustomEvent(jn.eventNames.toggled,{detail:this.scope.state}))}get width(){return this.scope.width===this.defaults.width?this.offsetWidth+"px":this.scope.width}set width(t){this.scope.width=t,this.style.width=t}setStateByEnvironment(){return this.scope.forceHideOnLocationPathnames.includes(window.location.pathname)?this.hide():this.scope.forceShowOnLocationPathnames.includes(window.location.pathname)?this.show():this.scope.autoHide?this.hide():this.scope.autoShow?this.show():void 0}_onEnvironmentChanges(){this.setStateByEnvironment()}getContainers(){return this.scope.containerSelector?document.querySelectorAll(this.scope.containerSelector):void 0}initContainers(t){this.setContainersStyle(t)}setContainersStyle(t){const e=this.getContainers()||[];if(e)for(let i=0;i<e.length;i++){const s=e[i];this.setContainerStyle(s,t)}}setContainerStyle(t,e){const i=t.style;if(e){const s=this.width,n=window.getComputedStyle(t);if("move"===this.scope.mode&&e.startsWith("overlap-"))switch(n.position){case"fixed":case"absolute":i.left="0",i.right="0";break;default:i.marginLeft="0",i.marginRight="0"}switch(e){case"side-left":switch(n.position){case"fixed":case"absolute":i.left=s;break;default:i.marginLeft=s}break;case"side-right":switch(n.position){case"fixed":case"absolute":i.right=s;break;default:i.marginRight=s}break;case"move-left":switch(n.position){case"fixed":case"absolute":i.left=s,i.right=`-${s}`;break;default:i.marginLeft=s,i.marginRight=`-${s}`}break;case"move-right":switch(n.position){case"fixed":case"absolute":i.right=s,i.left=`-${s}`;break;default:i.marginRight=s,i.marginLeft=`-${s}`}break;case"hidden":switch(this.scope.oldState){case"side-left":switch(n.position){case"fixed":case"absolute":i.left="0";break;default:i.marginLeft="0"}break;case"side-right":switch(n.position){case"fixed":case"absolute":i.right="0";break;default:i.marginRight="0"}break;case"move-left":switch(n.position){case"fixed":case"absolute":i.left="0",i.right="0";break;default:i.marginRight="0",i.marginLeft="0"}break;case"move-right":switch(n.position){case"fixed":case"absolute":i.right="0",i.left="0";break;default:i.marginRight="0",i.marginLeft="0"}}}}t.style.transition=this.computedStyle?this.computedStyle.transition:""}async beforeBind(){return await super.beforeBind(),this.scope.oldState=this.getShowMode(),this.initRouterEventDispatcher(),this.onEnvironmentChanges()}async afterBind(){this.onEnvironmentChanges(),await super.afterBind()}requiredAttributes(){return["id"]}parsedAttributeChangedCallback(t,e,i,s){switch(super.parsedAttributeChangedCallback(t,e,i,s),"id"===t&&this.initToggleButtonEventDispatcher(),t){case"containerSelector":this.initContainers(this.scope.state);break;case"id":this.initToggleButtonEventDispatcher();break;case"width":this.width=i;case"mode":this.onStateChange(),this.initContainers(this.scope.state);break;case"autoHide":case"autoShow":this.setStateByEnvironment()}}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}template(){return C(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}t(au,"tagName","bs5-sidebar");const lu=".slideshow-row",hu=`${lu} .slide`;class cu extends we{get slideshowInner(){return this.querySelector(lu)}get slideElements(){return this.querySelectorAll(hu)}get controlsElements(){return this.querySelectorAll(".slideshow-control-prev, .slideshow-control-next")}get indicatorsElement(){return this.querySelector(".slideshow-indicators")}static get observedAttributes(){return["items","slides-to-scroll","controls","controls-position","drag","autoplay","autoplay-interval","autoplay-velocity","control-prev-icon-src","control-next-icon-src","indicator-inactive-icon-src","indicator-active-icon-src","angle","pause-on-hover","sticky","indicators","indicators-position","pause","infinite"]}constructor(){super(),t(this,"resizeObserver",void 0),t(this,"bs5",void 0),t(this,"defaultScope",{slidesToScroll:1,controls:!0,controlsPosition:"inside-middle",pauseOnHover:!0,sticky:!1,indicators:!0,indicatorsPosition:"inside-bottom",pause:!1,drag:!0,touchScroll:!0,autoplay:!1,autoplayInterval:0,autoplayVelocity:.8,controlPrevIconSrc:"",controlNextIconSrc:"",indicatorActiveIconSrc:"",indicatorInactiveIconSrc:"",angle:"horizontal",infinite:!0,next:this.next.bind(this),prev:this.prev.bind(this),goTo:this.goTo.bind(this),enableTouchScroll:this.enableTouchScroll.bind(this),disableTouchScroll:this.disableTouchScroll.bind(this),items:void 0,controlsPositionClass:"",indicatorsPositionClass:"",intervalCount:0,intervalProgress:0,nextIndex:-1,prevIndex:-1,activeIndex:0}),t(this,"templateAttributes",[{name:"class",required:!1},{name:"handle",required:!1},{name:"type",required:!0},{name:"active",type:"boolean",required:!1},{name:"index",type:"number",required:!1},{name:"src",type:"string",required:!1}]),t(this,"autobind",!0),t(this,"dragscrollService",void 0),t(this,"continuousAutoplayService",void 0),t(this,"scrollEventsService",void 0),t(this,"templateControls",'<button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-prev" rv-add-class="controlsPositionClass" role="button" data-slide="prev" rv-on-click="prev">\n  <bs5-icon rv-if="controlPrevIconSrc" rv-src="controlPrevIconSrc" direction="left" size="24"></bs5-icon>\n  <span rv-hide="controlPrevIconSrc" class="btn btn-link slideshow-control-fallback-prev-icon" aria-hidden="true"></span>\n  <span class="visually-hidden">Previous</span>\n</button>\n<button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-next" rv-add-class="controlsPositionClass" role="button" data-slide="next" rv-on-click="next">\n  <bs5-icon rv-if="controlNextIconSrc" rv-src="controlNextIconSrc" direction="right" size="24"></bs5-icon>\n  <span rv-hide="controlNextIconSrc" class="slideshow-control-fallback-next-icon" aria-hidden="true"></span>\n  <span class="visually-hidden">Next</span>\n</button>\n'),t(this,"templateIndicators",'<ol rv-if="indicators" class="slideshow-indicators" rv-add-class="indicatorsPositionClass">\n  <li rv-each-slide="items" rv-class-active="slide.active" rv-on-click="goTo | args slide.index">\n    <bs5-icon rv-hide="slide.active" rv-src="indicatorInactiveIconSrc" size="16"></bs5-icon>\n    <bs5-icon rv-show="slide.active" rv-src="indicatorActiveIconSrc" size="16"></bs5-icon>\n  </li>\n</ol>\n'),t(this,"autoplayIntervalIndex",null),t(this,"continuousAutoplayIntervalIndex",null),t(this,"resumeTimer",null),t(this,"routerEvents",new z("main")),t(this,"scope",{...this.defaultScope}),t(this,"onViewChanges",tt(this._onViewChanges.bind(this))),t(this,"onScroll",tt(this._onScroll.bind(this))),t(this,"onMouseUp",et(this._onMouseUp.bind(this))),t(this,"resume",et(this._resume.bind(this),500)),this.bs5=Vn.getSingleton(),this.onViewChanges=this.onViewChanges.bind(this),this.onVisibilityChanged=this.onVisibilityChanged.bind(this),this.onScroll=this.onScroll.bind(this),this.onScrollend=this.onScrollend.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this)}next(){this.scrollToNextSlide()}prev(){this.scrollToPrevSlide()}goTo(t){if(t<0||!this.scope.items?.[t]||!this.slideElements[t]||!this.slideshowInner)return this.throw(new Error(`Can't go to slide of index ${t}`)),console.error("items",this.scope.items),console.error("this.slideElements",this.slideElements),void console.error("this.slideshowInner",this.slideshowInner);this.setSlidePositions(),this.slideElements[t]?(k(this.slideElements[t],0,this.slideshowInner,this.scope.angle),this.setSlideActive(t)):this.throw(new Error(`Slide element with index "${t}" not found!`))}getNextIndex(t){let e=t+this.scope.slidesToScroll;if(e>=this.slideElements.length){if(!this.scope.infinite)return this.slideElements.length-1;e-=this.slideElements.length}return e}getPrevIndex(t){let e=t-this.scope.slidesToScroll;if(e<0){if(!this.scope.infinite)return 0;e=this.slideElements.length-1+(e+1)}return e}scrollToNearestSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex();return this.goTo(t)}scrollToNextSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex(),e=this.getNextIndex(t);return this.goTo(e)}scrollToPrevSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex(),e=this.getPrevIndex(t);return this.goTo(e)}initOptions(){this.setOptions()}setOptions(){this.scope.autoplay?this.enableAutoplay():this.disableAutoplay(),this.scope.drag?this.enableDesktopDragscroll():this.disableDesktopDragscroll(),this.scope.touchScroll?this.enableTouchScroll():this.disableTouchScroll(),this.setControlsOptions(),this.setIndicatorsOptions()}setControlsOptions(){const t=this.scope.controlsPosition?.split("-");this.scope.controls&&2===t.length?this.scope.controlsPositionClass=`control-${t[0]} control-${t[1]}`:this.scope.controlsPositionClass=""}setIndicatorsOptions(){const t=this.scope.indicatorsPosition?.split("-");this.scope.indicators&&2===t.length?this.scope.indicatorsPositionClass=`indicators-${t[0]} indicators-${t[1]}`:this.scope.indicatorsPositionClass=""}_onViewChanges(){if(this.debug("onViewChanges"),this.scope.items?.length&&this.slideElements?.length)try{this.setSlidePositions();const t=this.setCenteredSlideActive();this.scope.sticky&&this.goTo(t)}catch(t){this.throw(t)}}onVisibilityChanged(t){t.detail.visible&&(this.dragscrollService?.checkDraggable(),this.continuousAutoplayService?.update())}_onScroll(){}onScrollend(){if(this.scope.items?.length)try{this.setSlidePositions(),this.setCenteredSlideActive(),this.scope.sticky&&this.scrollToNearestSlide()}catch(t){this.throw(t)}}onMouseIn(){this.scope.pauseOnHover&&(this.scope.pause=!0)}onMouseOut(){this.resume()}_onMouseUp(){}_resume(){this.setSlidePositions(),this.scope.pause=!1}connectedCallback(){!this.scope.items?.length&&this.slideElements&&this.addItemsByChilds(),super.connectedCallback(),this.init(cu.observedAttributes),this.addEventListeners()}addEventListeners(){this.routerEvents.on("newPageReady",this.onViewChanges),window.ResizeObserver&&(this.resizeObserver=new window.ResizeObserver(this.onViewChanges),this.resizeObserver?.observe(this)),window.addEventListener("resize",this.onViewChanges,{passive:!0}),this.addEventListener("visibility-changed",this.onVisibilityChanged),this.slideshowInner?.addEventListener("scroll",this.onScroll,{passive:!0}),this.slideshowInner?.addEventListener("scrollended",this.onScrollend,{passive:!0}),this.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.addEventListener("scrollended",this.onMouseUp,{passive:!0})}removeEventListeners(){this.routerEvents.off("newPageReady",this.onViewChanges,this),window.removeEventListener("resize",this.onViewChanges),this.resizeObserver?.unobserve(this),this.bs5.events.off("breakpoint:changed",this.onViewChanges,this),this.removeEventListener("visibility-changed",this.onVisibilityChanged),this.slideshowInner?.removeEventListener("scroll",this.onScroll),this.slideshowInner?.removeEventListener("scrollended",this.onScrollend),this.removeEventListener("mouseenter",this.onMouseIn),this.removeEventListener("mouseover",this.onMouseIn),this.removeEventListener("focusin",this.onMouseIn),this.removeEventListener("touchstart",this.onMouseIn),this.removeEventListener("mouseleave",this.onMouseOut),this.removeEventListener("focusout",this.onMouseOut),this.removeEventListener("mouseup",this.onMouseUp),this.removeEventListener("touchend",this.onMouseUp),this.removeEventListener("scroll",this.onMouseUp),this.removeEventListener("scrollend",this.onMouseUp),this.removeEventListener("scrollended",this.onMouseUp)}initAll(){this.initSlideshowInner(),this.initOptions(),this.addEventListeners(),this.onViewChanges(),this.onScrollend()}async beforeBind(){await super.beforeBind(),this.validateItems()}async afterBind(){this.initAll(),await super.afterBind()}initSlideshowInner(){this.slideshowInner?this.scrollEventsService=new $s(this.slideshowInner):this.throw(new Error("Can't init slideshow inner!"))}enableDesktopDragscroll(){if(!this.dragscrollService){if(!this.slideshowInner)return;const t={detectGlobalMove:!0};this.dragscrollService=new Bs(this.slideshowInner,t)}}disableDesktopDragscroll(){this.dragscrollService&&(this.dragscrollService.destroy(),this.dragscrollService=void 0)}enableTouchScroll(){this.classList.remove("touchscroll-disabled")}disableTouchScroll(){this.classList.add("touchscroll-disabled")}enableContinuousAutoplay(){if(!this.continuousAutoplayService&&this.slideshowInner){const t={velocity:this.scope.autoplayVelocity,angle:this.scope.angle,pauseOnHover:this.scope.pauseOnHover};this.continuousAutoplayService=new Ps(this.slideshowInner,t)}if(null===this.continuousAutoplayIntervalIndex){const t=1e4*this.scope.autoplayVelocity;this.continuousAutoplayIntervalIndex=window.setInterval(this.onScrollend.bind(this),t)}}disableContinuousAutoplay(){this.continuousAutoplayService&&(this.continuousAutoplayService.pause(),this.continuousAutoplayService.destroy(),this.continuousAutoplayService=void 0),null!==this.continuousAutoplayIntervalIndex&&(window.clearInterval(this.continuousAutoplayIntervalIndex),this.continuousAutoplayIntervalIndex=null)}resetIntervalAutoplay(){this.scope.intervalCount=0,this.scope.intervalProgress=0}enableIntervalAutoplay(){null===this.autoplayIntervalIndex&&(this.autoplayIntervalIndex=window.setInterval((()=>{this.scope.pause||(this.scope.intervalCount+=100,this.scope.intervalProgress=this.scope.intervalCount/this.scope.autoplayInterval*100,this.scope.intervalProgress>=100&&this.next())}),100))}disableIntervalAutoplay(){this.resetIntervalAutoplay(),console.debug("disableIntervalAutoplay",this.autoplayIntervalIndex),null!==this.autoplayIntervalIndex&&(window.clearInterval(this.autoplayIntervalIndex),this.autoplayIntervalIndex=null)}disableAutoplay(){this.disableIntervalAutoplay(),this.disableContinuousAutoplay()}enableAutoplay(){this.disableAutoplay(),this.scope.autoplayInterval<=0?this.enableContinuousAutoplay():this.enableIntervalAutoplay()}transformTemplateAttributes(t,e){return(t=super.transformTemplateAttributes(t,e)).handle=t.handle||e.toString(),t.index=e,t.class=t.class||"",t.class+=" slide",t}validateItems(){if(this.scope.items)for(let t=0;t<this.scope.items.length;t++){const e=this.scope.items[t];e.index=e.index||t,e.active=e.active||!1,e.title=e.title||"",e.handle=e.handle||e.index.toString(),e.position=e.position||{centerX:0,centerY:0},e.class=e.class||"",e.class+=" slide",e.content=e.content||'<img lazyload="lazy" class="img-fluid w-100" rv-src="slide.src" rv-alt="slide.title">'}else this.throw(new Error("No items to validate!"))}addItemByTemplate(t,e){const i=this.getTemplateAttributes(t,e),s=t.innerHTML;i.type&&("slide"===i.type&&(this.scope.items||(this.scope.items=[]),this.scope.items.push({...i,content:s})),"controls"===i.type&&(this.templateControls=s),"indicators"===i.type&&(this.templateIndicators=s))}addItemsByChilds(){this.slideElements||this.throw(new Error("Can't not add items by child's because no slide child's are found!")),this.slideElements.forEach(((t,e)=>{const i=t.getAttribute("handle")||t.getAttribute("id")||e.toString();t.setAttribute("index",e.toString());const s={handle:i,active:!1,content:t.innerHTML,index:e,position:{...t.getBoundingClientRect(),centerY:0,centerX:0}};this.scope.items||(this.scope.items=[]),this.scope.items.push(s)}))}getScrollPosition(){if(!this.slideshowInner)return null;return Is(this.slideshowInner)}getCurrentClosestNumber(t,e,i){return Math.abs(e-t)<Math.abs(i-t)?e:i}getMostCenteredSlideIndex(){if(!this.scope.items?.length)return this.throw(new Error("No slide items found!")),-1;let t=Math.abs("vertical"===this.scope.angle?this.scope.items[0].position.centerY:this.scope.items[0].position.centerX),e=0;for(let i=1;i<this.scope.items.length;i++){const s=Math.abs("vertical"===this.scope.angle?this.scope.items[i].position.centerY:this.scope.items[i].position.centerX);t=this.getCurrentClosestNumber(0,s,t),t===s&&(e=i)}return e}setAllSlidesInactive(t=-1){if(this.slideElements&&this.scope.items?.length)for(let e=0;e<this.scope.items.length;e++)e!==t&&(this.scope.items[e]&&(this.scope.items[e].active=!1),this.slideElements[e]&&this.slideElements[e].classList&&this.slideElements[e].classList.remove("active"))}setSlideActive(t){if(-1!==t&&this.scope.items?.length||(console.warn(new Error("Most centered slide not found!")),t=0),this.scope.items?.[t]||(t=0),!this.scope.items?.[t])return this.throw(new Error("Slide item to set active not found!")),0;this.setAllSlidesInactive(t),this.scope.items[t].active=!0,this.scope.activeIndex=t,this.scope.nextIndex=this.getNextIndex(t),this.scope.prevIndex=this.getPrevIndex(t),this.resetIntervalAutoplay(),this.slideElements&&this.slideElements[t].classList&&this.slideElements[t].classList.add("active")}setCenteredSlideActive(){const t=this.getMostCenteredSlideIndex();return this.setSlideActive(t),t}isScrollableToIndex(t){const e=this.getScrollPosition();if(!this.scope.items?.[t]||!this.slideshowInner||!e)return!1;const i="vertical"===this.scope.angle?e.maxY:e.maxX,s="vertical"===this.scope.angle?this.slideshowInner.scrollTop+this.scope.items[t].position.centerY:this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX;return s<=i&&s>=0}setSlidePositions(){if(!this.bound)return;if(this.scope.items?.length!==this.slideElements?.length)return void console.warn(new Error(`The slide objects must be the same size as the slide elements! items (${this.scope.items?.length}) !== slideElements (${this.slideElements?.length})`),this.slideElements,this);if(!this.slideshowInner)return;const t=this.slideshowInner.getBoundingClientRect();for(let e=0;e<this.scope.items.length;e++){const i=this.slideElements[e],s=this.scope.items[e],n=i.getBoundingClientRect();n.x-=t.x,n.y-=t.y,s.position={...n,centerY:n.y+n.height/2-t.height/2,centerX:n.x+n.width/2-t.width/2}}}requiredAttributes(){return["items"]}parsedAttributeChangedCallback(t,e,i,s){super.parsedAttributeChangedCallback(t,e,i,s),"items"===t&&this.validateItems(),"autoplay"===t&&(this.scope.autoplay?this.enableAutoplay():this.disableAutoplay()),"drag"===t&&(this.scope.drag?this.enableDesktopDragscroll():this.disableDesktopDragscroll()),"touchScroll"===t&&(this.scope.touchScroll?this.enableTouchScroll():this.disableTouchScroll()),"controls"!==t&&"controlsPosition"!==t||this.setControlsOptions(),"indicators"!==t&&"indicatorsPosition"!==t||this.setIndicatorsOptions()}disconnectedCallback(){this.removeEventListeners()}template(){return!C(this)||this.hasOnlyTemplateChilds()?'<div class="row slideshow-row">\n  <div rv-each-slide="items" rv-class="slide.class" rv-class-active="slide.active" rv-id="\'slide-\' | append slide.handle" rv-index="slide.index" rv-template="slide.content"></div>\n</div>\n'+this.templateControls+this.templateIndicators:(this.controlsElements.length<=0&&(this.innerHTML+=this.templateControls),this.indicatorsElement||(this.innerHTML+=this.templateIndicators),null)}}t(cu,"tagName","bs5-slideshow");const du=mi.read;class uu extends we{static get observedAttributes(){return["option-tabs-auto-height","option-tabs-angle","tab-0-title","tab-0-content","tab-0-handle","tab-1-title","tab-1-content","tab-1-handle","tab-2-title","tab-2-content","tab-2-handle","tab-3-title","tab-3-content","tab-3-handle","tab-4-title","tab-4-content","tab-4-handle","tab-5-title","tab-5-content","tab-5-handle","tab-6-title","tab-6-content","tab-6-handle","tab-7-title","tab-7-content","tab-7-handle","tab-8-title","tab-8-content","tab-8-handle","tab-9-title","tab-9-content","tab-9-handle","tab-10-title","tab-10-content","tab-10-handle","tab-11-title","tab-11-content","tab-11-handle","tab-12-title","tab-12-content","tab-12-handle","tab-13-title","tab-13-content","tab-13-handle","tab-14-title","tab-14-content","tab-14-handle","tab-15-title","tab-15-content","tab-15-handle","tab-16-title","tab-16-content","tab-16-handle","tab-17-title","tab-17-content","tab-17-handle","tab-18-title","tab-18-content","tab-18-handle","tab-19-title","tab-19-content","tab-19-handle"]}constructor(){super(),t(this,"templateAttributes",[{name:"title",required:!0},{name:"handle",required:!1},{name:"type",required:!1},{name:"active",required:!1},{name:"index",required:!1}]),t(this,"scope",{items:new Array,activate:this.activate,deactivate:this.deactivate,deactivateAll:this.deactivateAll,optionTabsAutoHeight:!1,optionTabsAngle:"horizontal"}),t(this,"tabs",void 0),t(this,"tabPanes",void 0),t(this,"scrollable",void 0),t(this,"onResize",et(this._onResize.bind(this)))}_onResize(){this.setHeight()}setHeight(){if(this.scope.optionTabsAutoHeight)return;this.setElements();let t=0;this.tabPanes&&(this.tabPanes.forEach((e=>{if(!e.style)return;e.style.height="auto",e.style.display="block";const i=e.offsetHeight||0;i>t&&(t=i)})),this.tabPanes.forEach((e=>{e.style&&(e.style.display="",t>0&&(e.style.height=t+"px"))})))}deactivateAll(){for(let t=0;t<this.scope.items.length;t++){const e=this.scope.items[t];this.deactivate(e)}}deactivate(t){t.active=!1;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activate(t){this.deactivateAll(),t.active=!0;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activateFirstTab(){this.scope.items.length>0&&this.activate(this.scope.items[0])}getTabContentChildByIndex(t){return this.querySelector(`.tab-content .tab-pane:nth-child(${t+1}) > *`)||void 0}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.initTabs(),this.activateFirstTab(),this.init(uu.observedAttributes)}disconnectedCallback(){this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler)})),window.removeEventListener("resize",this.onResize)}setElements(){this.tabs=this.querySelectorAll('[role="tab"]'),this.tabPanes=this.querySelectorAll('[role="tabpanel"]'),this.scrollable=this.querySelector("[scrollable]")}resizeTabsArray(t){for(;t>this.scope.items.length;)this.scope.items.push({handle:"",title:"",content:"",active:!1,index:this.scope.items.length-1})}onTabShownEventHandler(t){const e=t.target||t.srcElement;if(e&&this.scrollable){const t=e.getBoundingClientRect(),i=this.scrollable.scrollLeft||0+t.left;this.scrollable.scrollLeft=i}}initTabs(){this.setElements(),this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler),t.addEventListener("shown.bs.tab",this.onTabShownEventHandler)})),this.scope.optionTabsAutoHeight&&(window.removeEventListener("resize",this.onResize),window.addEventListener("resize",this.onResize,{passive:!0}),this.setHeight())}addTabByAttribute(t,e){const i=Number(t.replace(/[^0-9]/g,""));i>=this.scope.items.length&&this.resizeTabsArray(i+1),this.scope.items[i].index=i,t.endsWith("Content")&&(this.scope.items[i].content=e),t.endsWith("Title")&&(this.scope.items[i].title=e,this.scope.items[i].handle=this.scope.items[i].handle||du(this.scope.items[i].title)),t.endsWith("Handle")&&(this.scope.items[i].handle=e),this.scope.items.length>0&&this.scope.items[0]&&this.scope.items[0].content.length>0&&this.scope.items[0].title.length>0&&this.scope.items[0].handle.length>0&&this.activateFirstTab()}transformTemplateAttributes(t,e){return!(t=super.transformTemplateAttributes(t,e)).handle&&t.title&&(t.handle=du(t.title)),t.active=t.active||!1,t}parsedAttributeChangedCallback(t,e,i,s){super.parsedAttributeChangedCallback(t,e,i,s),t.startsWith("tab")&&(this.addTabByAttribute(t,i),this.initTabs())}async afterBind(){setTimeout((()=>{this.scope.optionTabsAutoHeight&&this.setHeight()}),500),await super.afterBind()}template(){return!C(this)||this.hasOnlyTemplateChilds()?"horizontal"===this.scope.optionTabsAngle?'<ul rv-scrollbar-draggable rv-aria-orientation="optionTabsAngle" role="tablist" class="nav nav-tabs flex-scrollbar-x-auto scrollbar-y-hidden">\n  <li class="nav-item" rv-each-tab="items">\n    <button role="tab" class="btn btn-link nav-link" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button>\n  </li>\n</ul>\n<div class="tab-content">\n  <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div>\n</div>  \n':'<div class="row">\n  <div class="col-auto">\n    <div class="nav flex-column nav-pills" role="tablist" rv-aria-orientation="optionTabsAngle">\n      <div class="nav-item" rv-each-tab="items">\n        <button class="btn btn-link nav-link" role="tab" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button>\n      </div>\n    </div>\n  </div>\n  <div class="col-auto">\n    <div class="tab-content">\n      <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div>\n    </div>  \n  </div>\n</div>\n':null}}t(uu,"tagName","bs5-tabs");class pu extends ve{static get observedAttributes(){return["tags","options","debug"]}constructor(){super(),t(this,"autobind",!0),t(this,"_debug",!0),t(this,"image",void 0),t(this,"scope",{debug:!1,tags:[],options:{popoverOptions:{},multiPopover:!1,tagOptions:{}},fillPopoverOptions:t=>({...this.scope.options.popoverOptions,...this.scope.options.tagOptions.popoverOptions,...t}),triggerOnFocus:t=>this.scope.fillPopoverOptions(t).trigger?0:null,onClick:this.onClick.bind(this),onPopoverBound:this.onPopoverBound.bind(this),onPopoverShown:this.onPopoverShown.bind(this),onPopoverHidden:this.onPopoverHidden.bind(this),updateTagPositions:tt(this.updateTagPositions.bind(this))}),this.scope.options.popoverOptions.container=this}parsedAttributeChangedCallback(t,e,i){if("options"===t){this.bound?this.scope.options=i:this.scope.options=y({deep:!0},e,i);const t=this.scope.options.popoverOptions;t&&"string"==typeof t.container&&(t.container=document.querySelector(t.container)||void 0)}}template(){return C(this)&&this.parseChildTags(),'<img>\n<tag\n  rv-each-tag="tags"\n  rv-index="tag.index"\n  rv-style-left="tag.left"\n  rv-style-top="tag.top"\n  rv-shape="tag.shape"\n  rv-color="tag.color"\n  rv-style---tag-color="tag.color"\n  rv-style---tag-border-radius="tag.borderRadius"\n  rv-style---tag-full-size="tag.fullSize"\n  rv-style---tag-small-size="tag.smallSize"\n  rv-bs5-popover="fillPopoverOptions | call tag.popoverOptions"\n  rv-on-bound.bs.popover="onPopoverBound"\n  rv-on-shown.bs.popover="onPopoverShown"\n  rv-on-hidden.bs.popover="onPopoverHidden"\n  rv-tabindex="triggerOnFocus | call tag.popoverOptions"\n>\n</tag>\n'}async beforeBind(){await super.beforeBind(),this.image=this.querySelector("img"),this.addEventListeners(),this.initTags()}addEventListeners(){const t=this.image;t.addEventListener("load",this.scope.updateTagPositions),window.addEventListener("resize",this.scope.updateTagPositions),t.addEventListener("click",this.scope.onClick)}async afterBind(){this.passImageAttributes(),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(pu.observedAttributes)}disconnectedCallback(){this.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.updateTagPositions)}parseColor(t){return t.startsWith("--")?`var(${t})`:t.startsWith("bs-")?`var(--${t})`:t}parseChildTags(){this.debug("parseChildTags()");for(const e of Array.from(this.querySelectorAll("tag"))){const i=e.getAttribute("title")||"",s=e.innerHTML,n=(t=parseFloat(e.getAttribute("x")||""),isNaN(t)?Math.random():t),o=(t=>isNaN(t)?Math.random():t)(parseFloat(e.getAttribute("y")||"")),r=e.getAttribute("shape")||void 0;let a=e.getAttribute("color")||void 0;a&&(a=this.parseColor(a));const l=e.getAttribute("border-radius")||void 0,h=e.getAttribute("full-size")||void 0,c=e.getAttribute("small-size")||void 0,d={...this.scope.options.tagOptions,popoverOptions:this.scope.fillPopoverOptions({title:i,content:s,html:!0}),x:n,y:o,shape:r,color:a,borderRadius:l,fullSize:h,smallSize:c};this.scope.tags.push(d)}var t}initTags(){const t=this.scope.options.tagOptions;for(const[e,i]of this.scope.tags.entries())i.index=e,i.shape=i.shape||t.shape,i.borderRadius=i.borderRadius||t.borderRadius,i.smallSize=i.smallSize||t.smallSize,i.fullSize=i.fullSize||t.fullSize,i.color=i.color||t.color}passImageAttributes(){const t=this.image,e=this.attributes;for(let i=e.length-1;i>=0;i--)e[i].name.startsWith("img-")&&t.setAttribute(e[i].name.substr(4),e[i].value)}onClick(t){if(this.scope.debug){const e=this.image,{clientTop:i,clientLeft:s,width:n,height:o,naturalWidth:r,naturalHeight:a}=e,{clientX:l,clientY:h}=t;let c=l-s,d=h-i;const u=n/r,p=o/a;let m=n,f=o;u<p?(m=n*p/u,c+=(m-n)/2):p<u&&(f=o*u/p,d+=(f-o)/2),c*=100/m,d*=100/f,console.log({x:c,y:d})}}onPopoverBound(t){const e=t.target.getAttribute("index");if(null===e)throw new Error("popup bound on no index");const i=parseInt(e);if(isNaN(i))throw new Error(`boundIndex "${e}" is not a number!`);const s=this.scope.tags.find((t=>t.index===i));if(!s)throw new Error(`Tag with index (${i}, "${e}") not found`);s.el=t.target}onPopoverShown(t){for(const e of this.scope.tags)e.el===t.target?e.el.classList.add("active"):this.scope.options.multiPopover||(e.el?.classList.remove("active"),e.el?.dispatchEvent(new CustomEvent("trigger-hide")))}onPopoverHidden(t){const e=this.scope.tags.find((e=>e.el===t.target));e&&e.el?.classList.remove("active")}updateTagPositions(){const t=this.image,{width:e,height:i,naturalWidth:s,naturalHeight:n}=t,o=s/e,r=n/i,a=window.getComputedStyle(t).getPropertyValue("object-fit");if("cover"===a&&o>r||"contain"===a&&r>o)for(const l of this.scope.tags)l.top=100*l.y+"%",l.left=100*(o/r*(l.x-.5)+.5)+"%";else if("cover"===a||"contain"===a)for(const l of this.scope.tags)l.left=100*l.x+"%",l.top=100*(r/o*(l.y-.5)+.5)+"%";else for(const l of this.scope.tags)l.left=100*l.x+"%",l.top=100*l.y+"%"}}t(pu,"tagName","bs5-tagged-image");const mu=function(t){var e=Object.prototype.hasOwnProperty;function i(t,s){return Array.isArray(t)?function(t,e){for(var s,n="",o="",a=Array.isArray(e),l=0;l<t.length;l++)(s=i(t[l]))&&(a&&e[l]&&(s=r(s)),n=n+o+s,o=" ");return n}(t,s):t&&"object"==typeof t?function(t){var i="",s="";for(var n in t)n&&t[n]&&e.call(t,n)&&(i=i+s+n,s=" ");return i}(t):t||""}function s(t){if(!t)return"";if("object"==typeof t){var i="";for(var s in t)e.call(t,s)&&(i=i+s+":"+t[s]+";");return i}return t+""}function n(t,e,i,s){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(s?t:t+'="'+t+'"');var n=typeof e;return"object"!==n&&"function"!==n||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=r(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}t.merge=function t(e,i){if(1===arguments.length){for(var n=e[0],o=1;o<e.length;o++)n=t(n,e[o]);return n}for(var r in i)if("class"===r){var a=e[r]||[];e[r]=(Array.isArray(a)?a:[a]).concat(i[r]||[])}else if("style"===r){a=(a=s(e[r]))&&";"!==a[a.length-1]?a+";":a;var l=s(i[r]);l=l&&";"!==l[l.length-1]?l+";":l,e[r]=a+l}else e[r]=i[r];return e},t.classes=i,t.style=s,t.attr=n,t.attrs=function(t,o){var r="";for(var a in t)if(e.call(t,a)){var l=t[a];if("class"===a){r=n(a,l=i(l),!1,o)+r;continue}"style"===a&&(l=s(l)),r+=n(a,l,!1,o)}return r};var o=/["&<>]/;function r(t){var e=""+t,i=o.exec(e);if(!i)return t;var s,n,r,a="";for(s=i.index,n=0;s<e.length;s++){switch(e.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}n!==s&&(a+=e.substring(n,s)),n=s+1,a+=r}return n!==s?a+e.substring(n,s):a}return t.escape=r,t.rethrow=function t(e,i,s,n){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&i||n))throw e.message+=" on line "+s,e;try{n=n||require("fs").readFileSync(i,"utf8")}catch(h){t(e,null,s)}var o=3,r=n.split("\n"),a=Math.max(s-o,0),l=Math.min(r.length,s+o);o=r.slice(a,l).map((function(t,e){var i=e+a+1;return(i==s?"  > ":"    ")+i+"| "+t})).join("\n");throw e.path=i,e.message=(i||"Pug")+":"+s+"\n"+o+"\n\n"+e.message,e},t}({});class fu extends ve{static get observedAttributes(){return["mode","labels","light-icon-src","icon-size","dark-icon-src"]}constructor(){super(),t(this,"theme",void 0),t(this,"scope",{mode:"dropdown",labels:{"theme-os":"OS","theme-light":"Light","theme-dark":"Dark"},lightIconSrc:"/iconset/svg/icon_sun.svg",darkIconSrc:"/iconset/svg/icon_moon.svg",iconSize:32,setTheme:this.setTheme.bind(this),selectTheme:this.selectTheme.bind(this),toggleTheme:this.toggleTheme.bind(this),selected:void 0,choices:Pn}),this.theme=gd.getSingleton()}connectedCallback(){super.connectedCallback(),this.init(fu.observedAttributes),this.addEventListeners(),this.initTheme()}addEventListeners(){this.theme.onChange((t=>{this.onChange(t)}))}onChange(t){this.scope.selected=t.newValue.choice}async beforeBind(){this.initTheme()}initTheme(){const t=this.getElementsByTagName("select")?.item(0),e=this.theme.init();this.scope.selected=e.choice||void 0,t&&this.theme.select(this.scope.selected,t)}setTheme(t){this.theme.set(t)}selectTheme(){this.scope.selected&&this.theme.set(this.scope.selected)}toggleTheme(){const t=this.theme.get();t.isDark?t.supported&&t.systemIsLight?this.theme.set("theme-os"):this.theme.set("theme-light"):t.supported&&t.systemIsDark?this.theme.set("theme-os"):this.theme.set("theme-dark")}template(){return C(this)?null:function(t){var e,i="";try{var s={};i+='<select class="form-select form-select" id="theme" rv-if="mode | eq \'dropdown\'" rv-on-change="selectTheme" rv-value="selected" aria-label="Select a theme">',i+='<option rv-each-choice="choices" rv-value="choice" rv-html="labels | get choice"></option></select>',i+='<button class="btn btn-icon" rv-if="mode | eq \'icon\'" rv-on-click="toggleTheme" aria-label="Toggle light/dark theme">',i+='<bs5-icon class="d-td-none" rv-co-src="lightIconSrc" rv-co-size="iconSize"></bs5-icon>',i+='<bs5-icon class="d-tl-none" rv-co-src="darkIconSrc" rv-co-size="iconSize"></bs5-icon></button>'}catch(n){mu.rethrow(n,e,void 0,s[void 0])}return i}(this.scope)}}t(fu,"tagName","bs5-theme-button");class gu extends ve{static get observedAttributes(){return["toast","icon-url","index"]}requiredAttributes(){return["toast"]}constructor(){super(),t(this,"_debug",!1),t(this,"autobind",!0),t(this,"toastService",void 0),t(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this),toast:void 0})}connectedCallback(){super.connectedCallback(),this.init(gu.observedAttributes)}async afterBind(){this.initToast(),await super.afterBind()}initToast(){const t=this.scope.toast,e=this.firstElementChild;t&&e&&(this.toastService=new yd(e,{delay:void 0!==t.delay?t.delay:5e3,autohide:void 0===t.autoHide||t.autoHide,animation:void 0===t.animation||t.animation}),e.addEventListener(yd.EVENT_HIDDEN,this.scope.onHidden,{once:!0}),this.toastService.show())}dismiss(){this.toastService?.hide()}onHidden(t,e){e||(e=O(t));const i=this.scope.$parent?.$parent||null;"function"==typeof i?.onItemHide&&this.scope.toast&&e&&i.onItemHide(t,e,this.scope.index,this.scope.toast)}template(){return'<div class="toast my-1" rv-add-class="toast.contextualClass | prepend \'toast-\'" role="alert" aria-live="assertive" aria-atomic="true">\n  <div class="toast-header" rv-show="toast.title">\n    <bs5-icon rv-if="iconUrl" rv-src="iconUrl" size="16" rv-color="toast.contextualClass" class="me-2" alt="toast icon"></bs5-icon>\n    <strong class="me-auto" rv-template="toast.title"></strong>\n    <button type="button" class="ms-2 mb-1 btn-close" rv-on-click="dismiss" aria-label="Close"></button>\n  </div>\n  <div class="toast-body" rv-template="toast.message"></div>\n</div>'}}t(gu,"tagName","bs5-toast-item");class vu extends ve{static get observedAttributes(){return["target-id"]}requiredAttributes(){return["target-id"]}constructor(){super(),t(this,"autobind",!0),t(this,"_debug",!1),t(this,"eventDispatcher",void 0),t(this,"lifecycleEvents",z.getInstance("lifecycle")),t(this,"scope",{targetId:void 0,toggle:this.toggle,state:"undefined",isActive:!0,isClosed:!1}),this.lifecycleEvents.once("ComponentLifecycle:allBound",this.onAllComponentsReady,this)}toggle(){this.debug("toggle",this.eventDispatcher),this.eventDispatcher&&this.eventDispatcher.trigger(jn.eventNames.toggle,this.scope.targetId)}onAllComponentsReady(){this.debug("onAllComponentsReady"),this.eventDispatcher?.trigger(jn.eventNames.init,this.scope.targetId)}async afterBind(){await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(vu.observedAttributes)}onToggledEvent(t){this.scope.state=t,this.scope.isActive="hidden"!==t&&"removed"!==t,this.scope.isClosed=!this.scope.isActive}initEventDispatcher(t){this.eventDispatcher&&this.eventDispatcher.off(jn.eventNames.toggled,this.onToggledEvent,this);const e=jn.nsPrefix+t;this.debug(`Init event dispatcher for namespace  ${e}`),this.eventDispatcher=new z(e),this.eventDispatcher.on(jn.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher.on(jn.eventNames.state,this.onToggledEvent,this)}async attributeChangedCallback(t,e,i,s){super.attributeChangedCallback(t,e,i,s)}parsedAttributeChangedCallback(t,e,i,s){super.parsedAttributeChangedCallback(t,e,i,s),"targetId"===t&&i&&this.initEventDispatcher(i)}disconnectedCallback(){super.disconnectedCallback(),this.eventDispatcher&&this.eventDispatcher.off(jn.eventNames.toggled,this.onToggledEvent,this)}template(){return C(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}t(vu,"tagName","bs5-toggle-button");const bu=Object.freeze(Object.defineProperty({__proto__:null,Bs5AccordionComponent:jd,Bs5ButtonComponent:Ud,Bs5CarouselComponent:Wd,Bs5CollapseComponent:qd,Bs5ColorPickerComponent:Qd,Bs5ContentsComponent:Jd,Bs5DropdownComponent:ed,Bs5FormComponent:tu,Bs5IconComponent:eu,Bs5ModalItemComponent:iu,Bs5NavbarComponent:su,Bs5NotificationContainerComponent:nu,Bs5ScrollspyComponent:ou,Bs5ShareComponent:ru,Bs5SidebarComponent:au,Bs5SlideshowComponent:cu,Bs5TabsComponent:uu,Bs5TaggedImageComponent:pu,Bs5ThemeButtonComponent:fu,Bs5ToastItemComponent:gu,Bs5ToggleButtonComponent:vu},Symbol.toStringTag,{value:"Module"})),wu={binders:$d,services:_d,formatters:Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),components:bu,constants:qn,init(t={}){const e=y({deep:!0,keepValues:!0},t,zn);return Vn.setSingleton(e),this}};class yu{constructor(e,i){t(this,"_overlayUIUpdated",!1),t(this,"_controlsVisible",!0),t(this,"_fullscreenAPI",null),t(this,"_controls",void 0),t(this,"_captionContainer",void 0),t(this,"_fakeCaptionContainer",void 0),t(this,"_indexIndicator",void 0),t(this,"_shareButton",void 0),t(this,"_shareModal",void 0),t(this,"_shareModalHidden",!0),t(this,"_initialCloseOnScrollValue",void 0),t(this,"_isIdle",void 0),t(this,"_listen",void 0),t(this,"_galleryHasOneSlide",void 0),t(this,"_options",{}),t(this,"_defaultUIOptions",{barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},captionEl:!0,counterEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,indexIndicatorSep:" / ",fitControlsWidth:1200}),t(this,"_blockControlsTap",void 0),t(this,"_blockControlsTapTimeout",void 0),t(this,"_idleInterval",void 0),t(this,"_idleTimer",void 0),t(this,"_idleIncrement",0),t(this,"_uiElements",[{name:"caption",option:"captionEl",onInit:t=>{this._captionContainer=t}},{name:"counter",option:"counterEl",onInit:t=>{this._indexIndicator=t}}]),t(this,"updateFullscreen",this._updateFullscreen.bind(this)),this.pswp=e,this.framework=i,this.pswp=e,this.framework=i,this._listen=this.pswp.listen}_onControlsTap(t){if(this._blockControlsTap)return!0;t=t||window.event,this._options.timeToIdle&&this._options.mouseUsed&&!this._isIdle&&this._onIdleMouseMove();let e;const i=(t.target||t.srcElement)?.getAttribute("class")||"";let s;for(let n=0;n<this._uiElements.length;n++)e=this._uiElements[n],e.onTap&&i.indexOf("pswp__"+e.name)>-1&&(e.onTap(),s=!0);if(s){t.stopPropagation&&t.stopPropagation(),this._blockControlsTap=!0;const e=this.framework.features.isOldAndroid?600:30;this._blockControlsTapTimeout=window.setTimeout((()=>{this._blockControlsTap=!1}),e)}}_fitControlsInViewport(){return!this.pswp.likelyTouchDevice||this._options.mouseUsed||screen.width>(this._options.fitControlsWidth||0)}_togglePswpClass(t,e,i){this.framework[(i?"add":"remove")+"Class"](t,"pswp__"+e)}_countNumItems(){const t=!(!this._options.getNumItemsFn||1!==this._options.getNumItemsFn());t!==this._galleryHasOneSlide&&(this._controls?this._togglePswpClass(this._controls,"ui--one-slide",t):console.warn("_controls not found!"),this._galleryHasOneSlide=t)}_onIdleMouseMove(){this._idleTimer&&clearTimeout(this._idleTimer),this._idleIncrement=0,this._isIdle&&this.setIdle(!1)}_onMouseLeaveWindow(t){const e=(t=t||window.event)?.relatedTarget||t?.toElement;e&&"HTML"!==e.nodeName||(this._idleTimer&&clearTimeout(this._idleTimer),this._idleTimer=window.setTimeout((()=>{this.setIdle(!0)}),this._options.timeToIdleOutside))}_setupFullscreenAPI(){this.framework.features.isOldAndroid||(this._fullscreenAPI||(this._fullscreenAPI=this.getFullscreenAPI()),this._fullscreenAPI?(this.framework.bind(document,this._fullscreenAPI.eventK,this.updateFullscreen),this.updateFullscreen(),this.framework.addClass(this.pswp.template,"pswp--supports-fs")):this.framework.removeClass(this.pswp.template,"pswp--supports-fs"))}_applyNavBarGaps(t){const e=t.vGap;if(!e)throw new Error("gap is undefined");if(this._fitControlsInViewport()){const i=this._options.barsSize;if(this._options.captionEl&&i&&"auto"===i.bottom)if(this._fakeCaptionContainer||(this._fakeCaptionContainer=this.framework.createEl("pswp__caption pswp__caption--fake"),this._fakeCaptionContainer?(this._fakeCaptionContainer.appendChild(this.framework.createEl("pswp__caption__center")),this._controls?this._captionContainer?this._controls.insertBefore(this._fakeCaptionContainer,this._captionContainer):console.warn("_captionContainer not found!"):console.warn("_controls not found!")):console.warn("Can't create _fakeCaptionContainer"),this.framework.addClass(this._controls,"pswp__ui--fit")),this._options&&this._options.addCaptionHTMLFn&&this._fakeCaptionContainer&&this._options.addCaptionHTMLFn(t,this._fakeCaptionContainer,!0)){const t=this._fakeCaptionContainer.clientHeight;e.bottom=parseInt(t.toString(),10)||44}else e.bottom=i.top;else e.bottom="auto"===i?.bottom?0:i?.bottom;e.top=i?.top||0}else e.top=e.bottom=0}_setupIdle(){this._options.timeToIdle&&this._listen("mouseUsed",(()=>{this.framework.bind(document,"mousemove",this._onIdleMouseMove.bind(this)),this.framework.bind(document,"mouseout",this._onMouseLeaveWindow.bind(this)),this._idleInterval=window.setInterval((()=>{this._idleIncrement++,2===this._idleIncrement&&this.setIdle(!0)}),(this._options.timeToIdle||0)/2)}))}_setupHidingControlsDuringGestures(){let t;this._listen("onVerticalDrag",(t=>{this._controlsVisible&&t<.95?this.hideControls():!this._controlsVisible&&t>=.95&&this.showControls()})),this._listen("onPinchClose",(e=>{this._controlsVisible&&e<.9?(this.hideControls(),t=!0):t&&!this._controlsVisible&&e>.9&&this.showControls()})),this._listen("zoomGestureEnded",(()=>{t=!1,t&&!this._controlsVisible&&this.showControls()}))}_setupUIElements(){let t,e,i;const s=s=>{if(!s)return;const n=s.length;for(let o=0;o<n;o++)if(t=s.item(o),t){e=t.className;for(let s=0;s<this._uiElements.length;s++)i=this._uiElements[s],e.indexOf("pswp__"+i.name)>-1&&this._options[i.option]&&"function"==typeof i.onInit&&i.onInit(t)}};this._controls?.children?s(this._controls.children):console.warn("Can't loop through _controls!");const n=this.framework.getChildByClass(this._controls,"pswp__top-bar");n&&s(n.children)}init(){this.framework.extend(this.pswp.options,this._defaultUIOptions,!0),this._options=this.pswp.options,this._controls=this.framework.getChildByClass(this.pswp.scrollWrap,"pswp__ui"),this._listen=this.pswp.listen,this._setupHidingControlsDuringGestures(),this._listen("beforeChange",this.update.bind(this)),this._listen("doubleTap",(t=>{const e=this.pswp.currItem.initialZoomLevel||1;if(this.pswp.getZoomLevel()!==e)this.pswp.zoomTo(e,t,333);else{const e=this._options.getDoubleTapZoom?this._options.getDoubleTapZoom(!1,this.pswp.currItem):0;this.pswp.zoomTo(e,t,333)}})),this._listen("preventDragEvent",((t,e,i)=>{const s=t.target||t.srcElement;s&&s.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(s.classList.contains("__caption")||/(SMALL|STRONG|EM)/i.test(s.tagName))&&(i.prevent=!1)})),this._listen("bindEvents",(()=>{this.framework.bind(this._controls,"pswpTap click",this._onControlsTap.bind(this)),this.framework.bind(this.pswp.scrollWrap,"pswpTap",this.onGlobalTap.bind(this))})),this._listen("unbindEvents",(()=>{this._idleInterval&&clearInterval(this._idleInterval),this.framework.unbind(document,"mouseout",this._onMouseLeaveWindow),this.framework.unbind(document,"mousemove",this._onIdleMouseMove),this.framework.unbind(this._controls,"pswpTap click",this._onControlsTap),this.framework.unbind(this.pswp.scrollWrap,"pswpTap",this.onGlobalTap),this._fullscreenAPI&&(this.framework.unbind(document,this._fullscreenAPI.eventK,this.updateFullscreen),this._fullscreenAPI.isFullscreen()&&(this._options.hideAnimationDuration=0,this._fullscreenAPI.exit()),this._fullscreenAPI=null)})),this._listen("destroy",(()=>{this._options.captionEl&&(this._fakeCaptionContainer&&this._controls?.removeChild(this._fakeCaptionContainer),this.framework.removeClass(this._captionContainer,"pswp__caption--empty")),this._shareModal&&this._shareModal.children[0]&&(this._shareModal.children[0].onclick=null),this.framework.addClass(this._controls,"pswp__ui--hidden"),this.setIdle(!1)})),this._options.showAnimationDuration||this.framework.removeClass(this._controls,"pswp__ui--hidden"),this._listen("initialZoomIn",(()=>{this._options.showAnimationDuration&&this.framework.removeClass(this._controls,"pswp__ui--hidden")})),this._listen("initialZoomOut",(()=>{this.framework.addClass(this._controls,"pswp__ui--hidden")})),this._listen("parseVerticalMargin",this._applyNavBarGaps.bind(this)),this._setupUIElements(),this._countNumItems(),this._setupIdle(),this._setupFullscreenAPI()}setIdle(t){this._isIdle=t,this._controls&&this._togglePswpClass(this._controls,"ui--idle",t)}update(){this._controlsVisible&&this.pswp.currItem?(this.updateIndexIndicator(),this._options.captionEl&&this._options.addCaptionHTMLFn&&(this._captionContainer?(this._options.addCaptionHTMLFn(this.pswp.currItem,this._captionContainer),this._togglePswpClass(this._captionContainer,"caption--empty",!this.pswp.currItem.title)):console.warn("_captionContainer not found!")),this._overlayUIUpdated=!0):this._overlayUIUpdated=!1,this._countNumItems()}_updateFullscreen(t){t&&window.setTimeout((()=>{this.pswp.setScrollOffset(0,this.framework.getScrollY())}),50),this.framework[(this._fullscreenAPI?.isFullscreen()?"add":"remove")+"Class"](this.pswp.template,"pswp--fs")}updateIndexIndicator(){if(this._options.counterEl){let t=0;this._options.getNumItemsFn&&(t=this._options.getNumItemsFn()),this._indexIndicator?this._indexIndicator.innerHTML=this.pswp.getCurrentIndex()+1+(this._options.indexIndicatorSep||"/")+t:console.warn("_indexIndicator not found!")}}onGlobalTap(t){const e=(t=t||window.event)?.target||t?.srcElement||null;this._blockControlsTap||(t&&t.detail&&"mouse"===t.detail.pointerType&&e?this.framework.hasClass(e,"pswp__img")&&(1===this.pswp.getZoomLevel()&&this.pswp.getZoomLevel()<=(this.pswp.currItem.fitRatio||0)?this._options.clickToCloseNonZoomable&&this.pswp.close():this.pswp.toggleDesktopZoom(t.detail.releasePoint)):this._options.tapToToggleControls&&(this._controlsVisible?this.hideControls():this.showControls()))}hideControls(){this.framework.addClass(this._controls,"pswp__ui--hidden"),this._controlsVisible=!1}showControls(){this._controlsVisible=!0,this._overlayUIUpdated||this.update(),this.framework.removeClass(this._controls,"pswp__ui--hidden")}supportsFullscreen(){return Rs.supported()}getFullscreenAPI(){const t=Rs.getSingleton();return{enterK:t.enterK,exitK:t.exitK,elementK:t.elementK,eventK:t.eventK,enter:()=>(this._initialCloseOnScrollValue=this._options.closeOnScroll,this._options.closeOnScroll=!1,t.enter(this.pswp.template)),exit:()=>(this._options.closeOnScroll=this._initialCloseOnScrollValue,t.exit()),isFullscreen:t.isFullscreen,toggle:function(t){this.isFullscreen()?this.exit():this.enter(t)}}}}class _u{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of PhotoswipeService not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of PhotoswipeService already defined!");return this._options=t,this.instance=new this,this.instance}}t(_u,"_options",void 0),t(_u,"instance",void 0);const Eu=Object.freeze(Object.defineProperty({__proto__:null,PhotoSwipeUI:yu,PhotoswipeService:_u},Symbol.toStringTag,{value:"Module"})),Su=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Cu='\x3c!-- Root element of PhotoSwipe. Must have class pswp. --\x3e\n<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n\n    \x3c!-- Background of PhotoSwipe. \n        It\'s a separate element as animating opacity is faster than rgba(). --\x3e\n    <div class="pswp__bg"></div>\n\n    \x3c!-- Slides wrapper with overflow:hidden. --\x3e\n    <div class="pswp__scroll-wrap">\n\n        \x3c!-- Container that holds slides. \n            PhotoSwipe keeps only 3 of them in the DOM to save memory.\n            Don\'t modify these 3 pswp__item elements, data is added later on. --\x3e\n        <div class="pswp__container">\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n        </div>\n\n        \x3c!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --\x3e\n        <div class="pswp__ui pswp__ui--hidden">\n\n            <div class="pswp__top-bar">\n\n                <div class="pswp__bar-left">\n                    <div class="pswp__counter" rv-show="showCounter">\n                        {currItem.index | plus 1} / {items.length}\n                    </div>\n                </div>\n\n                <div class="pswp__bar-middle">\n                </div>\n\n\n                <div class="pswp__bar-right">\n\n                    <bs5-share rv-show="controlShareIconShow" rv-parent type="image"\n                        rv-co-title="currItem.title" rv-co-url="currItem.src" rv-co-media-url="currItem.src"\n                        rv-co-text="shareText" rv-co-label="shareLabel"\n                        rv-co-dropdown-direction="shareDropdownDirection" rv-co-label-facebook="shareLabelFacebook"\n                        rv-co-label-Twitter="shareLabelTwitter" rv-co-label-Pinterest="shareLabelPinterest"\n                        rv-co-label-whatsapp="shareLabelWhatsapp" rv-co-label-telegram="shareLabelTelegram"\n                        rv-co-label-email="shareLabelEmail" rv-co-label-download="shareLabelDownload"\n                        rv-co-label-clipboard="shareLabelClipboard">\n                        <div class="share-label" rv-on-click="share">\n                            <bs5-icon class="share-label m-2" rv-size="$parent.controlShareIconSize"\n                                rv-src="$parent.controlShareIconSrc"></bs5-icon>\n                        </div>\n                    </bs5-share>\n\n                    <bs5-icon rv-hide="isZoomed" rv-size="controlZoomInIconSize" size="32" rv-on-click="toggleZoom"\n                        class="btn btn-icon" rv-if="controlZoomInIconShow | and isZoomAllowed"\n                        rv-src="controlZoomInIconSrc" title="Zoom in"></bs5-icon>\n                    <bs5-icon rv-show="isZoomed" rv-size="controlZoomOutIconSize" rv-on-click="toggleZoom"\n                        class="btn btn-icon" rv-if="controlZoomOutIconShow | and isZoomAllowed"\n                        rv-src="controlZoomOutIconSrc" title="Zoom out"></bs5-icon>\n\n                    <bs5-icon rv-hide="isFullscreen" rv-size="controlFullscreenOnIconSize"\n                        rv-on-click="toggleFullscreen" class="btn btn-icon" rv-if="controlFullscreenOnIconShow"\n                        rv-src="controlFullscreenOnIconSrc" title="Go to fullscreen"></bs5-icon>\n                    <bs5-icon rv-show="isFullscreen" rv-size="controlFullscreenOffIconSize"\n                        rv-on-click="toggleFullscreen" class="btn btn-icon" rv-if="controlFullscreenOffIconShow"\n                        rv-src="controlFullscreenOffIconSrc" title="Leave fullscreen"></bs5-icon>\n\n                    <bs5-icon rv-on-click="close" rv-size="controlCloseIconSize" class="btn btn-icon"\n                        rv-if="controlCloseIconShow" rv-src="controlCloseIconSrc" title="Close (Esc)"></bs5-icon>\n                </div>\n\n            </div>\n\n            <div class="pswp__bottom-bar">\n                <div class="pswp__bottom-bar-left">\n\n                </div>\n                <div class="pswp__bottom-bar-middle" rv-show="showCaption">\n                    <div class="pswp__caption">\n                        <div class="pswp__caption__center" rv-html="currItem.title"></div>\n                    </div>\n                    \n                </div>\n                <div class="pswp__bottom-bar-right">\n                    \n                </div>\n            </div>\n\n            <bs5-icon rv-size="controlPrevIconSize" rv-on-click="prev" direction="left"\n                class="btn btn-icon pswp-control-prev" rv-if="controlPrevIconShow" rv-src="controlPrevIconSrc"\n                title="Previous (arrow left)"></bs5-icon>\n\n            <bs5-icon rv-size="controlPrevIconSize" rv-on-click="next" direction="right"\n                class="btn btn-icon pswp-control-next" rv-if="controlNextIconShow" rv-src="controlNextIconSrc"\n                title="Next (arrow right)"></bs5-icon>\n\n        </div>\n\n    </div>\n\n</div>';var xu={};
/*! PhotoSwipe - v4.1.3 - 2019-01-08
      * http://photoswipe.com
      * Copyright (c) 2019 Dmitry Semenov; */
!function(t,e){var i;t.exports=(i=function(t,e,i,s){var n={features:null,bind:function(t,e,i,s){var n=(s?"remove":"add")+"EventListener";e=e.split(" ");for(var o=0;o<e.length;o++)e[o]&&t[n](e[o],i,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var i=document.createElement(e||"div");return t&&(i.className=t),i},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,i){n.bind(t,e,i,!0)},removeClass:function(t,e){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){n.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var i=t.firstChild;i;){if(n.hasClass(i,e))return i;i=i.nextSibling}},arraySearch:function(t,e,i){for(var s=t.length;s--;)if(t[s][i]===e)return s;return-1},extend:function(t,e,i){for(var s in e)if(e.hasOwnProperty(s)){if(i&&t.hasOwnProperty(s))continue;t[s]=e[s]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(n.features)return n.features;var t=n.createEl().style,e="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!i.pointerEvent){var s=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10))>=1&&o<8&&(i.isOldIOSPhone=!0)}var r=s.match(/Android\s([0-9\.]*)/),a=r?r[1]:0;(a=parseFloat(a))>=1&&(a<4.4&&(i.isOldAndroid=!0),i.androidVersion=a),i.isMobileOpera=/opera mini|opera mobi/i.test(s)}for(var l,h,c=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],u=0;u<4;u++){e=d[u];for(var p=0;p<3;p++)l=c[p],h=e+(e?l.charAt(0).toUpperCase()+l.slice(1):l),!i[l]&&h in t&&(i[l]=h);e&&!i.raf&&(e=e.toLowerCase(),i.raf=window[e+"RequestAnimationFrame"],i.raf&&(i.caf=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]))}if(!i.raf){var m=0;i.raf=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-m)),s=window.setTimeout((function(){t(e+i)}),i);return m=e+i,s},i.caf=function(t){clearTimeout(t)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,n.features=i,i}};n.detectFeatures(),n.features.oldIE&&(n.bind=function(t,e,i,s){e=e.split(" ");for(var n,o=(s?"detach":"attach")+"Event",r=function(){i.handleEvent.call(i)},a=0;a<e.length;a++)if(n=e[a])if("object"==typeof i&&i.handleEvent){if(s){if(!i["oldIE"+n])return!1}else i["oldIE"+n]=r;t[o]("on"+n,i["oldIE"+n])}else t[o]("on"+n,i)});var o=this,r=25,a=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t||e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};n.extend(l,s);var h,c,d,u,p,m,f,g,v,b,w,y,_,E,S,C,x,T,k,A,L,I,O,N,D,P,B,M,R,F,$,H,z,j,U,W,q,V,Y,Z,G,K,X,Q,J,tt,et,it,st,nt,ot,rt,at,lt,ht,ct,dt=function(){return{x:0,y:0}},ut=dt(),pt=dt(),mt=dt(),ft={},gt=0,vt={},bt=dt(),wt=0,yt=!0,_t=[],Et={},St=!1,Ct=function(t,e){n.extend(o,e.publicMethods),_t.push(t)},xt=function(t){var e=Je();return t>e-1?t-e:t<0?e+t:t},Tt={},kt=function(t,e){return Tt[t]||(Tt[t]=[]),Tt[t].push(e)},At=function(t){var e=Tt[t];if(e){var i=Array.prototype.slice.call(arguments);i.shift();for(var s=0;s<e.length;s++)e[s].apply(o,i)}},Lt=function(){return(new Date).getTime()},It=function(t){lt=t,o.bg.style.opacity=t*l.bgOpacity},Ot=function(t,e,i,s,n){(!St||n&&n!==o.currItem)&&(s/=n?n.fitRatio:o.currItem.fitRatio),t[I]=y+e+"px, "+i+"px"+_+" scale("+s+")"},Nt=function(t){st&&(t&&(b>o.currItem.fitRatio?St||(ci(o.currItem,!1,!0),St=!0):St&&(ci(o.currItem),St=!1)),Ot(st,mt.x,mt.y,b))},Dt=function(t){t.container&&Ot(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Pt=function(t,e){e[I]=y+t+"px, 0px"+_},Bt=function(t,e){if(!l.loop&&e){var i=u+(bt.x*gt-t)/bt.x,s=Math.round(t-be.x);(i<0&&s>0||i>=Je()-1&&s<0)&&(t=be.x+s*l.mainScrollEndFriction)}be.x=t,Pt(t,p)},Mt=function(t,e){var i=we[t]-vt[t];return pt[t]+ut[t]+i-i*(e/w)},Rt=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Ft=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},$t=null,Ht=function(){$t&&(n.unbind(document,"mousemove",Ht),n.addClass(t,"pswp--has_mouse"),l.mouseUsed=!0,At("mouseUsed")),$t=setTimeout((function(){$t=null}),100)},zt=function(){n.bind(document,"keydown",o),$.transform&&n.bind(o.scrollWrap,"click",o),l.mouseUsed||n.bind(document,"mousemove",Ht),n.bind(window,"resize scroll orientationchange",o),At("bindEvents")},jt=function(){n.unbind(window,"resize scroll orientationchange",o),n.unbind(window,"scroll",v.scroll),n.unbind(document,"keydown",o),n.unbind(document,"mousemove",Ht),$.transform&&n.unbind(o.scrollWrap,"click",o),Y&&n.unbind(window,f,o),clearTimeout(H),At("unbindEvents")},Ut=function(t,e){var i=ri(o.currItem,ft,t);return e&&(it=i),i},Wt=function(t){return t||(t=o.currItem),t.initialZoomLevel},qt=function(t){return t||(t=o.currItem),t.w>0?l.maxSpreadZoom:1},Vt=function(t,e,i,s){return s===o.currItem.initialZoomLevel?(i[t]=o.currItem.initialPosition[t],!0):(i[t]=Mt(t,s),i[t]>e.min[t]?(i[t]=e.min[t],!0):i[t]<e.max[t]&&(i[t]=e.max[t],!0))},Yt=function(){if(I){var e=$.perspective&&!N;return y="translate"+(e?"3d(":"("),void(_=$.perspective?", 0px)":")")}I="left",n.addClass(t,"pswp--ie"),Pt=function(t,e){e.left=t+"px"},Dt=function(t){var e=t.fitRatio>1?1:t.fitRatio,i=t.container.style,s=e*t.w,n=e*t.h;i.width=s+"px",i.height=n+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},Nt=function(){if(st){var t=st,e=o.currItem,i=e.fitRatio>1?1:e.fitRatio,s=i*e.w,n=i*e.h;t.width=s+"px",t.height=n+"px",t.left=mt.x+"px",t.top=mt.y+"px"}}},Zt=function(t){var e="";l.escKey&&27===t.keyCode?e="close":l.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,o[e]()))},Gt=function(t){t&&(K||G||nt||q)&&(t.preventDefault(),t.stopPropagation())},Kt=function(){o.setScrollOffset(0,n.getScrollY())},Xt={},Qt=0,Jt=function(t){Xt[t]&&(Xt[t].raf&&P(Xt[t].raf),Qt--,delete Xt[t])},te=function(t){Xt[t]&&Jt(t),Xt[t]||(Qt++,Xt[t]={})},ee=function(){for(var t in Xt)Xt.hasOwnProperty(t)&&Jt(t)},ie=function(t,e,i,s,n,o,r){var a,l=Lt();te(t);var h=function(){if(Xt[t]){if((a=Lt()-l)>=s)return Jt(t),o(i),void(r&&r());o((i-e)*n(a/s)+e),Xt[t].raf=D(h)}};h()},se={shout:At,listen:kt,viewportSize:ft,options:l,isMainScrollAnimating:function(){return nt},getZoomLevel:function(){return b},getCurrentIndex:function(){return u},isDragging:function(){return Y},isZooming:function(){return tt},setScrollOffset:function(t,e){vt.x=t,F=vt.y=e,At("updateScrollOffset",vt)},applyZoomPan:function(t,e,i,s){mt.x=e,mt.y=i,b=t,Nt(s)},init:function(){if(!h&&!c){var i;o.framework=n,o.template=t,o.bg=n.getChildByClass(t,"pswp__bg"),B=t.className,h=!0,$=n.detectFeatures(),D=$.raf,P=$.caf,I=$.transform,R=$.oldIE,o.scrollWrap=n.getChildByClass(t,"pswp__scroll-wrap"),o.container=n.getChildByClass(o.scrollWrap,"pswp__container"),p=o.container.style,o.itemHolders=C=[{el:o.container.children[0],wrap:0,index:-1},{el:o.container.children[1],wrap:0,index:-1},{el:o.container.children[2],wrap:0,index:-1}],C[0].el.style.display=C[2].el.style.display="none",Yt(),v={resize:o.updateSize,orientationchange:function(){clearTimeout(H),H=setTimeout((function(){ft.x!==o.scrollWrap.clientWidth&&o.updateSize()}),500)},scroll:Kt,keydown:Zt,click:Gt};var s=$.isOldIOSPhone||$.isOldAndroid||$.isMobileOpera;for($.animationName&&$.transform&&!s||(l.showAnimationDuration=l.hideAnimationDuration=0),i=0;i<_t.length;i++)o["init"+_t[i]]();e&&(o.ui=new e(o,n)).init(),At("firstUpdate"),u=u||l.index||0,(isNaN(u)||u<0||u>=Je())&&(u=0),o.currItem=Qe(u),($.isOldIOSPhone||$.isOldAndroid)&&(yt=!1),t.setAttribute("aria-hidden","false"),l.modal&&(yt?t.style.position="fixed":(t.style.position="absolute",t.style.top=n.getScrollY()+"px")),void 0===F&&(At("initialLayout"),F=M=n.getScrollY());var r="pswp--open ";for(l.mainClass&&(r+=l.mainClass+" "),l.showHideOpacity&&(r+="pswp--animate_opacity "),r+=N?"pswp--touch":"pswp--notouch",r+=$.animationName?" pswp--css_animation":"",r+=$.svg?" pswp--svg":"",n.addClass(t,r),o.updateSize(),m=-1,wt=null,i=0;i<a;i++)Pt((i+m)*bt.x,C[i].el.style);R||n.bind(o.scrollWrap,g,o),kt("initialZoomInEnd",(function(){o.setContent(C[0],u-1),o.setContent(C[2],u+1),C[0].el.style.display=C[2].el.style.display="block",l.focus&&t.focus(),zt()})),o.setContent(C[1],u),o.updateCurrItem(),At("afterInit"),yt||(E=setInterval((function(){Qt||Y||tt||b!==o.currItem.initialZoomLevel||o.updateSize()}),1e3)),n.addClass(t,"pswp--visible")}},close:function(){h&&(h=!1,c=!0,At("close"),jt(),ti(o.currItem,null,!0,o.destroy))},destroy:function(){At("destroy"),Ze&&clearTimeout(Ze),t.setAttribute("aria-hidden","true"),t.className=B,E&&clearInterval(E),n.unbind(o.scrollWrap,g,o),n.unbind(window,"scroll",o),Ce(),ee(),Tt=null},panTo:function(t,e,i){i||(t>it.min.x?t=it.min.x:t<it.max.x&&(t=it.max.x),e>it.min.y?e=it.min.y:e<it.max.y&&(e=it.max.y)),mt.x=t,mt.y=e,Nt()},handleEvent:function(t){t=t||window.event,v[t.type]&&v[t.type](t)},goTo:function(t){var e=(t=xt(t))-u;wt=e,u=t,o.currItem=Qe(u),gt-=e,Bt(bt.x*gt),ee(),nt=!1,o.updateCurrItem()},next:function(){o.goTo(u+1)},prev:function(){o.goTo(u-1)},updateCurrZoomItem:function(t){if(t&&At("beforeChange",0),C[1].el.children.length){var e=C[1].el.children[0];st=n.hasClass(e,"pswp__zoom-wrap")?e.style:null}else st=null;it=o.currItem.bounds,w=b=o.currItem.initialZoomLevel,mt.x=it.center.x,mt.y=it.center.y,t&&At("afterChange")},invalidateCurrItems:function(){S=!0;for(var t=0;t<a;t++)C[t].item&&(C[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==wt){var e,i=Math.abs(wt);if(!(t&&i<2)){o.currItem=Qe(u),St=!1,At("beforeChange",wt),i>=a&&(m+=wt+(wt>0?-a:a),i=a);for(var s=0;s<i;s++)wt>0?(e=C.shift(),C[a-1]=e,m++,Pt((m+2)*bt.x,e.el.style),o.setContent(e,u-i+s+1+1)):(e=C.pop(),C.unshift(e),m--,Pt(m*bt.x,e.el.style),o.setContent(e,u+i-s-1-1));if(st&&1===Math.abs(wt)){var n=Qe(x);n.initialZoomLevel!==b&&(ri(n,ft),ci(n),Dt(n))}wt=0,o.updateCurrZoomItem(),x=u,At("afterChange")}}},updateSize:function(e){if(!yt&&l.modal){var i=n.getScrollY();if(F!==i&&(t.style.top=i+"px",F=i),!e&&Et.x===window.innerWidth&&Et.y===window.innerHeight)return;Et.x=window.innerWidth,Et.y=window.innerHeight,t.style.height=Et.y+"px"}if(ft.x=o.scrollWrap.clientWidth,ft.y=o.scrollWrap.clientHeight,Kt(),bt.x=ft.x+Math.round(ft.x*l.spacing),bt.y=ft.y,Bt(bt.x*gt),At("beforeResize"),void 0!==m){for(var s,r,h,c=0;c<a;c++)s=C[c],Pt((c+m)*bt.x,s.el.style),h=u+c-1,l.loop&&Je()>2&&(h=xt(h)),(r=Qe(h))&&(S||r.needsUpdate||!r.bounds)?(o.cleanSlide(r),o.setContent(s,h),1===c&&(o.currItem=r,o.updateCurrZoomItem(!0)),r.needsUpdate=!1):-1===s.index&&h>=0&&o.setContent(s,h),r&&r.container&&(ri(r,ft),ci(r),Dt(r));S=!1}w=b=o.currItem.initialZoomLevel,(it=o.currItem.bounds)&&(mt.x=it.center.x,mt.y=it.center.y,Nt(!0)),At("resize")},zoomTo:function(t,e,i,s,o){e&&(w=b,we.x=Math.abs(e.x)-mt.x,we.y=Math.abs(e.y)-mt.y,Rt(pt,mt));var r=Ut(t,!1),a={};Vt("x",r,a,t),Vt("y",r,a,t);var l=b,h={x:mt.x,y:mt.y};Ft(a);var c=function(e){1===e?(b=t,mt.x=a.x,mt.y=a.y):(b=(t-l)*e+l,mt.x=(a.x-h.x)*e+h.x,mt.y=(a.y-h.y)*e+h.y),o&&o(e),Nt(1===e)};i?ie("customZoomTo",0,1,i,s||n.easing.sine.inOut,c):c(1)}},ne=30,oe=10,re={},ae={},le={},he={},ce={},de=[],ue={},pe=[],me={},fe=0,ge=dt(),ve=0,be=dt(),we=dt(),ye=dt(),_e=function(t,e){return t.x===e.x&&t.y===e.y},Ee=function(t,e){return Math.abs(t.x-e.x)<r&&Math.abs(t.y-e.y)<r},Se=function(t,e){return me.x=Math.abs(t.x-e.x),me.y=Math.abs(t.y-e.y),Math.sqrt(me.x*me.x+me.y*me.y)},Ce=function(){X&&(P(X),X=null)},xe=function(){Y&&(X=D(xe),ze())},Te=function(){return!("fit"===l.scaleMode&&b===o.currItem.initialZoomLevel)},ke=function(t,e){return!(!t||t===document)&&!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(e(t)?t:ke(t.parentNode,e))},Ae={},Le=function(t,e){return Ae.prevent=!ke(t.target,l.isClickableElement),At("preventDragEvent",t,e,Ae),Ae.prevent},Ie=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},Oe=function(t,e,i){i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y)},Ne=function(t,e,i){if(t-j>50){var s=pe.length>2?pe.shift():{};s.x=e,s.y=i,pe.push(s),j=t}},De=function(){var t=mt.y-o.currItem.initialPosition.y;return 1-Math.abs(t/(ft.y/2))},Pe={},Be={},Me=[],Re=function(t){for(;Me.length>0;)Me.pop();return O?(ct=0,de.forEach((function(t){0===ct?Me[0]=t:1===ct&&(Me[1]=t),ct++}))):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(Me[0]=Ie(t.touches[0],Pe),t.touches.length>1&&(Me[1]=Ie(t.touches[1],Be))):(Pe.x=t.pageX,Pe.y=t.pageY,Pe.id="",Me[0]=Pe),Me},Fe=function(t,e){var i,s,n,r,a=mt[t]+e[t],h=e[t]>0,c=be.x+e.x,d=be.x-ue.x;if(i=a>it.min[t]||a<it.max[t]?l.panEndFriction:1,a=mt[t]+e[t]*i,(l.allowPanToNext||b===o.currItem.initialZoomLevel)&&(st?"h"!==ot||"x"!==t||G||(h?(a>it.min[t]&&(i=l.panEndFriction,it.min[t],s=it.min[t]-pt[t]),(s<=0||d<0)&&Je()>1?(r=c,d<0&&c>ue.x&&(r=ue.x)):it.min.x!==it.max.x&&(n=a)):(a<it.max[t]&&(i=l.panEndFriction,it.max[t],s=pt[t]-it.max[t]),(s<=0||d>0)&&Je()>1?(r=c,d>0&&c<ue.x&&(r=ue.x)):it.min.x!==it.max.x&&(n=a))):r=c,"x"===t))return void 0!==r&&(Bt(r,!0),Q=r!==ue.x),it.min.x!==it.max.x&&(void 0!==n?mt.x=n:Q||(mt.x+=e.x*i)),void 0!==r;nt||Q||b>o.currItem.fitRatio&&(mt[t]+=e[t]*i)},$e=function(t){if(!("mousedown"===t.type&&t.button>0))if(Xe)t.preventDefault();else if(!V||"mousedown"!==t.type){if(Le(t,!0)&&t.preventDefault(),At("pointerDown"),O){var e=n.arraySearch(de,t.pointerId,"id");e<0&&(e=de.length),de[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var i=Re(t),s=i.length;J=null,ee(),Y&&1!==s||(Y=rt=!0,n.bind(window,f,o),W=ht=at=q=Q=K=Z=G=!1,ot=null,At("firstTouchStart",i),Rt(pt,mt),ut.x=ut.y=0,Rt(he,i[0]),Rt(ce,he),ue.x=bt.x*gt,pe=[{x:he.x,y:he.y}],j=z=Lt(),Ut(b,!0),Ce(),xe()),!tt&&s>1&&!nt&&!Q&&(w=b,G=!1,tt=Z=!0,ut.y=ut.x=0,Rt(pt,mt),Rt(re,i[0]),Rt(ae,i[1]),Oe(re,ae,ye),we.x=Math.abs(ye.x)-mt.x,we.y=Math.abs(ye.y)-mt.y,et=Se(re,ae))}},He=function(t){if(t.preventDefault(),O){var e=n.arraySearch(de,t.pointerId,"id");if(e>-1){var i=de[e];i.x=t.pageX,i.y=t.pageY}}if(Y){var s=Re(t);if(ot||K||tt)J=s;else if(be.x!==bt.x*gt)ot="h";else{var o=Math.abs(s[0].x-he.x)-Math.abs(s[0].y-he.y);Math.abs(o)>=oe&&(ot=o>0?"h":"v",J=s)}}},ze=function(){if(J){var t=J.length;if(0!==t)if(Rt(re,J[0]),le.x=re.x-he.x,le.y=re.y-he.y,tt&&t>1){if(he.x=re.x,he.y=re.y,!le.x&&!le.y&&_e(J[1],ae))return;Rt(ae,J[1]),G||(G=!0,At("zoomGestureStarted"));var e=Se(re,ae),i=Ve(e);i>o.currItem.initialZoomLevel+o.currItem.initialZoomLevel/15&&(ht=!0);var s=1,n=Wt(),r=qt();if(i<n)if(l.pinchToClose&&!ht&&w<=o.currItem.initialZoomLevel){var a=1-(n-i)/(n/1.2);It(a),At("onPinchClose",a),at=!0}else(s=(n-i)/n)>1&&(s=1),i=n-s*(n/3);else i>r&&((s=(i-r)/(6*n))>1&&(s=1),i=r+s*n);s<0&&(s=0),Oe(re,ae,ge),ut.x+=ge.x-ye.x,ut.y+=ge.y-ye.y,Rt(ye,ge),mt.x=Mt("x",i),mt.y=Mt("y",i),W=i>b,b=i,Nt()}else{if(!ot)return;if(rt&&(rt=!1,Math.abs(le.x)>=oe&&(le.x-=J[0].x-ce.x),Math.abs(le.y)>=oe&&(le.y-=J[0].y-ce.y)),he.x=re.x,he.y=re.y,0===le.x&&0===le.y)return;if("v"===ot&&l.closeOnVerticalDrag&&!Te()){ut.y+=le.y,mt.y+=le.y;var h=De();return q=!0,At("onVerticalDrag",h),It(h),void Nt()}Ne(Lt(),re.x,re.y),K=!0,it=o.currItem.bounds,Fe("x",le)||(Fe("y",le),Ft(mt),Nt())}}},je=function(t){if($.isOldAndroid){if(V&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(V),V=setTimeout((function(){V=0}),600))}var e;if(At("pointerUp"),Le(t,!1)&&t.preventDefault(),O){var i=n.arraySearch(de,t.pointerId,"id");if(i>-1)if(e=de.splice(i,1)[0],navigator.msPointerEnabled){var s={4:"mouse",2:"touch",3:"pen"};e.type=s[t.pointerType],e.type||(e.type=t.pointerType||"mouse")}else e.type=t.pointerType||"mouse"}var r,a=Re(t),h=a.length;if("mouseup"===t.type&&(h=0),2===h)return J=null,!0;1===h&&Rt(ce,a[0]),0!==h||ot||nt||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),At("touchRelease",t,e));var c=-1;if(0===h&&(Y=!1,n.unbind(window,f,o),Ce(),tt?c=0:-1!==ve&&(c=Lt()-ve)),ve=1===h?Lt():-1,r=-1!==c&&c<150?"zoom":"swipe",tt&&h<2&&(tt=!1,1===h&&(r="zoomPointerUp"),At("zoomGestureEnded")),J=null,K||G||nt||q)if(ee(),U||(U=Ue()),U.calculateSwipeSpeed("x"),q)if(De()<l.verticalDragRange)o.close();else{var d=mt.y,u=lt;ie("verticalDrag",0,1,300,n.easing.cubic.out,(function(t){mt.y=(o.currItem.initialPosition.y-d)*t+d,It((1-u)*t+u),Nt()})),At("onVerticalDrag",1)}else{if((Q||nt)&&0===h){if(qe(r,U))return;r="zoomPointerUp"}nt||("swipe"===r?!Q&&b>o.currItem.fitRatio&&We(U):Ye())}},Ue=function(){var t,e,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(s){pe.length>1?(t=Lt()-j+50,e=pe[pe.length-2][s]):(t=Lt()-z,e=ce[s]),i.lastFlickOffset[s]=he[s]-e,i.lastFlickDist[s]=Math.abs(i.lastFlickOffset[s]),i.lastFlickDist[s]>20?i.lastFlickSpeed[s]=i.lastFlickOffset[s]/t:i.lastFlickSpeed[s]=0,Math.abs(i.lastFlickSpeed[s])<.1&&(i.lastFlickSpeed[s]=0),i.slowDownRatio[s]=.95,i.slowDownRatioReverse[s]=1-i.slowDownRatio[s],i.speedDecelerationRatio[s]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(mt[t]>it.min[t]?i.backAnimDestination[t]=it.min[t]:mt[t]<it.max[t]&&(i.backAnimDestination[t]=it.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,ie("bounceZoomPan"+t,mt[t],i.backAnimDestination[t],e||300,n.easing.sine.out,(function(e){mt[t]=e,Nt()})))))},calculateAnimOffset:function(t){i.backAnimStarted[t]||(i.speedDecelerationRatio[t]=i.speedDecelerationRatio[t]*(i.slowDownRatio[t]+i.slowDownRatioReverse[t]-i.slowDownRatioReverse[t]*i.timeDiff/10),i.speedDecelerationRatioAbs[t]=Math.abs(i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]),i.distanceOffset[t]=i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]*i.timeDiff,mt[t]+=i.distanceOffset[t])},panAnimLoop:function(){if(Xt.zoomPan&&(Xt.zoomPan.raf=D(i.panAnimLoop),i.now=Lt(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),Nt(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return mt.x=Math.round(mt.x),mt.y=Math.round(mt.y),Nt(),void Jt("zoomPan")}};return i},We=function(t){if(t.calculateSwipeSpeed("y"),it=o.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05)return t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0;te("zoomPan"),t.lastNow=Lt(),t.panAnimLoop()},qe=function(t,e){var i,s,r;if(nt||(fe=u),"swipe"===t){var a=he.x-ce.x,h=e.lastFlickDist.x<10;a>ne&&(h||e.lastFlickOffset.x>20)?s=-1:a<-ne&&(h||e.lastFlickOffset.x<-20)&&(s=1)}s&&((u+=s)<0?(u=l.loop?Je()-1:0,r=!0):u>=Je()&&(u=l.loop?0:Je()-1,r=!0),r&&!l.loop||(wt+=s,gt-=s,i=!0));var c,d=bt.x*gt,p=Math.abs(d-be.x);return i||d>be.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?p/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,fe===u&&(i=!1),nt=!0,At("mainScrollAnimStart"),ie("mainScroll",be.x,d,c,n.easing.cubic.out,Bt,(function(){ee(),nt=!1,fe=-1,(i||fe!==u)&&o.updateCurrItem(),At("mainScrollAnimComplete")})),i&&o.updateCurrItem(!0),i},Ve=function(t){return 1/et*t*w},Ye=function(){var t=b,e=Wt(),i=qt();b<e?t=e:b>i&&(t=i);var s,r=1,a=lt;return at&&!W&&!ht&&b<e?(o.close(),!0):(at&&(s=function(t){It((r-a)*t+a)}),o.zoomTo(t,0,200,n.easing.cubic.out,s),!0)};Ct("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,i,s,n){T=t+e,k=t+i,A=t+s,L=n?t+n:""};(O=$.pointerEvent)&&$.touch&&($.touch=!1),O?navigator.msPointerEnabled?t("MSPointer","Down","Move","Up","Cancel"):t("pointer","down","move","up","cancel"):$.touch?(t("touch","start","move","end","cancel"),N=!0):t("mouse","down","move","up"),f=k+" "+A+" "+L,g=T,O&&!N&&(N=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),o.likelyTouchDevice=N,v[T]=$e,v[k]=He,v[A]=je,L&&(v[L]=v[A]),$.touch&&(g+=" mousedown",f+=" mousemove mouseup",v.mousedown=v[T],v.mousemove=v[k],v.mouseup=v[A]),N||(l.allowPanToNext=!1)}}});var Ze,Ge,Ke,Xe,Qe,Je,ti=function(e,i,s,r){var a;Ze&&clearTimeout(Ze),Xe=!0,Ke=!0,e.initialLayout?(a=e.initialLayout,e.initialLayout=null):a=l.getThumbBoundsFn&&l.getThumbBoundsFn(u);var h,c,p=s?l.hideAnimationDuration:l.showAnimationDuration,m=function(){Jt("initialZoom"),s?(o.template.removeAttribute("style"),o.bg.removeAttribute("style")):(It(1),i&&(i.style.display="block"),n.addClass(t,"pswp--animated-in"),At("initialZoom"+(s?"OutEnd":"InEnd"))),r&&r(),Xe=!1};if(!p||!a||void 0===a.x)return At("initialZoom"+(s?"Out":"In")),b=e.initialZoomLevel,Rt(mt,e.initialPosition),Nt(),t.style.opacity=s?0:1,It(1),void(p?setTimeout((function(){m()}),p):m());h=d,c=!o.currItem.src||o.currItem.loadError||l.showHideOpacity,e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),s||(b=a.w/e.w,mt.x=a.x,mt.y=a.y-M,o[c?"template":"bg"].style.opacity=.001,Nt()),te("initialZoom"),s&&!h&&n.removeClass(t,"pswp--animated-in"),c&&(s?n[(h?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout((function(){n.addClass(t,"pswp--animate_opacity")}),30)),Ze=setTimeout((function(){if(At("initialZoom"+(s?"Out":"In")),s){var i=a.w/e.w,o={x:mt.x,y:mt.y},r=b,l=lt,d=function(e){1===e?(b=i,mt.x=a.x,mt.y=a.y-F):(b=(i-r)*e+r,mt.x=(a.x-o.x)*e+o.x,mt.y=(a.y-F-o.y)*e+o.y),Nt(),c?t.style.opacity=1-e:It(l-e*l)};h?ie("initialZoom",0,1,p,n.easing.cubic.out,d,m):(d(1),Ze=setTimeout(m,p+20))}else b=e.initialZoomLevel,Rt(mt,e.initialPosition),Nt(),It(1),c?t.style.opacity=1:It(1),Ze=setTimeout(m,p+20)}),s?25:90)},ei={},ii=[],si={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ge.length}},ni=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},oi=function(t,e,i){var s=t.bounds;s.center.x=Math.round((ei.x-e)/2),s.center.y=Math.round((ei.y-i)/2)+t.vGap.top,s.max.x=e>ei.x?Math.round(ei.x-e):s.center.x,s.max.y=i>ei.y?Math.round(ei.y-i)+t.vGap.top:s.center.y,s.min.x=e>ei.x?0:s.center.x,s.min.y=i>ei.y?t.vGap.top:s.center.y},ri=function(t,e,i){if(t.src&&!t.loadError){var s=!i;if(s&&(t.vGap||(t.vGap={top:0,bottom:0}),At("parseVerticalMargin",t)),ei.x=e.x,ei.y=e.y-t.vGap.top-t.vGap.bottom,s){var n=ei.x/t.w,o=ei.y/t.h;t.fitRatio=n<o?n:o;var r=l.scaleMode;"orig"===r?i=1:"fit"===r&&(i=t.fitRatio),i>1&&(i=1),t.initialZoomLevel=i,t.bounds||(t.bounds=ni())}if(!i)return;return oi(t,t.w*i,t.h*i),s&&i===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=ni(),t.initialPosition=t.bounds.center,t.bounds},ai=function(t,e,i,s,n,r){e.loadError||s&&(e.imageAppended=!0,ci(e,s,e===o.currItem&&St),i.appendChild(s),r&&setTimeout((function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)}),500))},li=function(t){t.loading=!0,t.loaded=!1;var e=t.img=n.createEl("pswp__img","img"),i=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=i,e.onerror=function(){t.loadError=!0,i()},e.src=t.src,e},hi=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=""),t.container.innerHTML=l.errorMsg.replace("%url%",t.src),!0},ci=function(t,e,i){if(t.src){e||(e=t.container.lastChild);var s=i?t.w:Math.round(t.w*t.fitRatio),n=i?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=s+"px",t.placeholder.style.height=n+"px"),e.style.width=s+"px",e.style.height=n+"px"}},di=function(){if(ii.length){for(var t,e=0;e<ii.length;e++)(t=ii[e]).holder.index===t.index&&ai(t.index,t.item,t.baseDiv,t.img,!1,t.clearPlaceholder);ii=[]}};Ct("Controller",{publicMethods:{lazyLoadItem:function(t){t=xt(t);var e=Qe(t);e&&(!e.loaded&&!e.loading||S)&&(At("gettingData",t,e),e.src&&li(e))},initController:function(){n.extend(l,si,!0),o.items=Ge=i,Qe=o.getItemAt,Je=l.getNumItemsFn,l.loop,Je()<3&&(l.loop=!1),kt("beforeChange",(function(t){var e,i=l.preload,s=null===t||t>=0,n=Math.min(i[0],Je()),r=Math.min(i[1],Je());for(e=1;e<=(s?r:n);e++)o.lazyLoadItem(u+e);for(e=1;e<=(s?n:r);e++)o.lazyLoadItem(u-e)})),kt("initialLayout",(function(){o.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(u)})),kt("mainScrollAnimComplete",di),kt("initialZoomInEnd",di),kt("destroy",(function(){for(var t,e=0;e<Ge.length;e++)(t=Ge[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);ii=null}))},getItemAt:function(t){return t>=0&&void 0!==Ge[t]&&Ge[t]},allowProgressiveImg:function(){return l.forceProgressiveLoading||!N||l.mouseUsed||screen.width>1200},setContent:function(t,e){l.loop&&(e=xt(e));var i=o.getItemAt(t.index);i&&(i.container=null);var s,r=o.getItemAt(e);if(r){At("gettingData",e,r),t.index=e,t.item=r;var a=r.container=n.createEl("pswp__zoom-wrap");if(!r.src&&r.html&&(r.html.tagName?a.appendChild(r.html):a.innerHTML=r.html),hi(r),ri(r,ft),!r.src||r.loadError||r.loaded)r.src&&!r.loadError&&((s=n.createEl("pswp__img","img")).style.opacity=1,s.src=r.src,ci(r,s),ai(e,r,a,s));else{if(r.loadComplete=function(i){if(h){if(t&&t.index===e){if(hi(i,!0))return i.loadComplete=i.img=null,ri(i,ft),Dt(i),void(t.index===u&&o.updateCurrZoomItem());i.imageAppended?!Xe&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):$.transform&&(nt||Xe)?ii.push({item:i,baseDiv:a,img:i.img,index:e,holder:t,clearPlaceholder:!0}):ai(e,i,a,i.img,nt||Xe,!0)}i.loadComplete=null,i.img=null,At("imageLoadComplete",e,i)}},n.features.transform){var c="pswp__img pswp__img--placeholder";c+=r.msrc?"":" pswp__img--placeholder--blank";var d=n.createEl(c,r.msrc?"img":"");r.msrc&&(d.src=r.msrc),ci(r,d),a.appendChild(d),r.placeholder=d}r.loading||li(r),o.allowProgressiveImg()&&(!Ke&&$.transform?ii.push({item:r,baseDiv:a,img:r.img,index:e,holder:t}):ai(e,r,a,r.img,!0,!0))}Ke||e!==u?Dt(r):(st=a.style,ti(r,s||r.img)),t.el.innerHTML="",t.el.appendChild(a)}else t.el.innerHTML=""},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var ui,pi,mi={},fi=function(t,e,i){var s=document.createEvent("CustomEvent"),n={origEvent:t,target:t.target,releasePoint:e,pointerType:i||"touch"};s.initCustomEvent("pswpTap",!0,!0,n),t.target.dispatchEvent(s)};Ct("Tap",{publicMethods:{initTap:function(){kt("firstTouchStart",o.onTapStart),kt("touchRelease",o.onTapRelease),kt("destroy",(function(){mi={},ui=null}))},onTapStart:function(t){t.length>1&&(clearTimeout(ui),ui=null)},onTapRelease:function(t,e){if(e&&!K&&!Z&&!Qt){var i=e;if(ui&&(clearTimeout(ui),ui=null,Ee(i,mi)))return void At("doubleTap",i);if("mouse"===e.type)return void fi(t,e,"mouse");if("BUTTON"===t.target.tagName.toUpperCase()||n.hasClass(t.target,"pswp__single-tap"))return void fi(t,e);Rt(mi,i),ui=setTimeout((function(){fi(t,e),ui=null}),300)}}}}),Ct("DesktopZoom",{publicMethods:{initDesktopZoom:function(){R||(N?kt("mouseUsed",(function(){o.setupDesktopZoom()})):o.setupDesktopZoom(!0))},setupDesktopZoom:function(e){pi={};var i="wheel mousewheel DOMMouseScroll";kt("bindEvents",(function(){n.bind(t,i,o.handleMouseWheel)})),kt("unbindEvents",(function(){pi&&n.unbind(t,i,o.handleMouseWheel)})),o.mouseZoomedIn=!1;var s,r=function(){o.mouseZoomedIn&&(n.removeClass(t,"pswp--zoomed-in"),o.mouseZoomedIn=!1),b<1?n.addClass(t,"pswp--zoom-allowed"):n.removeClass(t,"pswp--zoom-allowed"),a()},a=function(){s&&(n.removeClass(t,"pswp--dragging"),s=!1)};kt("resize",r),kt("afterChange",r),kt("pointerDown",(function(){o.mouseZoomedIn&&(s=!0,n.addClass(t,"pswp--dragging"))})),kt("pointerUp",a),e||r()},handleMouseWheel:function(t){if(b<=o.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Qt||Y?t.preventDefault():I&&Math.abs(t.deltaY)>2&&(d=!0,o.close())),!0;if(t.stopPropagation(),pi.x=0,"deltaX"in t)1===t.deltaMode?(pi.x=18*t.deltaX,pi.y=18*t.deltaY):(pi.x=t.deltaX,pi.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(pi.x=-.16*t.wheelDeltaX),t.wheelDeltaY?pi.y=-.16*t.wheelDeltaY:pi.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;pi.y=t.detail}Ut(b,!0);var e=mt.x-pi.x,i=mt.y-pi.y;(l.modal||e<=it.min.x&&e>=it.max.x&&i<=it.min.y&&i>=it.max.y)&&t.preventDefault(),o.panTo(e,i)},toggleDesktopZoom:function(e){e=e||{x:ft.x/2+vt.x,y:ft.y/2+vt.y};var i=l.getDoubleTapZoom(!0,o.currItem),s=b===i;o.mouseZoomedIn=!s,o.zoomTo(s?o.currItem.initialZoomLevel:i,e,333),n[(s?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var gi,vi,bi,wi,yi,_i,Ei,Si,Ci,xi,Ti,ki,Ai={history:!0,galleryUID:1},Li=function(){return Ti.hash.substring(1)},Ii=function(){gi&&clearTimeout(gi),bi&&clearTimeout(bi)},Oi=function(){var t=Li(),e={};if(t.length<5)return e;var i,s=t.split("&");for(i=0;i<s.length;i++)if(s[i]){var n=s[i].split("=");n.length<2||(e[n[0]]=n[1])}if(l.galleryPIDs){var o=e.pid;for(e.pid=0,i=0;i<Ge.length;i++)if(Ge[i].pid===o){e.pid=i;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Ni=function(){if(bi&&clearTimeout(bi),Qt||Y)bi=setTimeout(Ni,500);else{wi?clearTimeout(vi):wi=!0;var t=u+1,e=Qe(u);e.hasOwnProperty("pid")&&(t=e.pid);var i=Ei+"&gid="+l.galleryUID+"&pid="+t;Si||-1===Ti.hash.indexOf(i)&&(xi=!0);var s=Ti.href.split("#")[0]+"#"+i;ki?"#"+i!==window.location.hash&&history[Si?"replaceState":"pushState"]("",document.title,s):Si?Ti.replace(s):Ti.hash=i,Si=!0,vi=setTimeout((function(){wi=!1}),60)}};Ct("History",{publicMethods:{initHistory:function(){if(n.extend(l,Ai,!0),l.history){Ti=window.location,xi=!1,Ci=!1,Si=!1,Ei=Li(),ki="pushState"in history,Ei.indexOf("gid=")>-1&&(Ei=(Ei=Ei.split("&gid=")[0]).split("?gid=")[0]),kt("afterChange",o.updateURL),kt("unbindEvents",(function(){n.unbind(window,"hashchange",o.onHashChange)}));var t=function(){_i=!0,Ci||(xi?history.back():Ei?Ti.hash=Ei:ki?history.pushState("",document.title,Ti.pathname+Ti.search):Ti.hash=""),Ii()};kt("unbindEvents",(function(){d&&t()})),kt("destroy",(function(){_i||t()})),kt("firstUpdate",(function(){u=Oi().pid}));var e=Ei.indexOf("pid=");e>-1&&"&"===(Ei=Ei.substring(0,e)).slice(-1)&&(Ei=Ei.slice(0,-1)),setTimeout((function(){h&&n.bind(window,"hashchange",o.onHashChange)}),40)}},onHashChange:function(){if(Li()===Ei)return Ci=!0,void o.close();wi||(yi=!0,o.goTo(Oi().pid),yi=!1)},updateURL:function(){Ii(),yi||(Si?gi=setTimeout(Ni,800):Ni())}}}),n.extend(o,se)},i)}({get exports(){return xu},set exports(t){xu=t}});class Tu extends ve{static get observedAttributes(){return["open-image-on-click","fullscreen-container-selector","items-selector","show-counter","show-caption","control-next-icon-show","control-prev-icon-show","control-close-icon-show","control-zoom-in-icon-show","control-zoom-out-icon-show","control-fullscreen-on-icon-show","control-fullscreen-off-icon-show","control-share-icon-show","control-next-icon-src","control-prev-icon-src","control-close-icon-src","control-zoom-in-icon-src","control-zoom-out-icon-src","control-fullscreen-on-icon-src","control-fullscreen-off-icon-src","control-share-icon-src","control-next-icon-size","control-prev-icon-size","control-close-icon-size","control-zoom-in-icon-size","control-zoom-out-icon-size","control-fullscreen-on-icon-size","control-fullscreen-off-icon-size","control-share-icon-size","share-text","share-url","share-media-url","share-label","share-dropdown-direction","share-label-facebook","share-label-twitter","share-label-pinterest","share-label-whatsapp","share-label-telegram","share-label-email","share-label-download","share-label-clipboard"]}constructor(){super(),t(this,"autobind",!0),t(this,"_debug",!1),t(this,"routerEvents",new z("main")),t(this,"pswp",void 0),t(this,"pswpElement",null),t(this,"images",[]),t(this,"options",{getThumbBoundsFn:this.getThumbBoundsFn.bind(this),captionEl:!1,counterEl:!1,preloaderEl:!0,closeElClasses:[]}),t(this,"scope",{items:[],isFullscreen:!1,isZoomed:!1,isZoomAllowed:!1,zoomLevel:0,showCounter:!1,showCaption:!0,open:this.open,openByIndex:this.openByIndex,close:this.close,next:this.next,prev:this.prev,toggleZoom:this.toggleZoom,toggleFullscreen:this.toggleFullscreen,openImageOnClick:!1,fullscreenContainerSelector:".pswp",itemsSelector:"img",controlNextIconShow:!0,controlPrevIconShow:!0,controlCloseIconShow:!0,controlZoomInIconShow:!0,controlZoomOutIconShow:!0,controlFullscreenOnIconShow:!0,controlFullscreenOffIconShow:!0,controlShareIconShow:!1,controlNextIconSrc:"",controlPrevIconSrc:"",controlCloseIconSrc:"",controlZoomInIconSrc:"",controlZoomOutIconSrc:"",controlFullscreenOnIconSrc:"",controlFullscreenOffIconSrc:"",controlShareIconSrc:"",controlNextIconSize:32,controlPrevIconSize:32,controlCloseIconSize:32,controlZoomInIconSize:32,controlZoomOutIconSize:32,controlFullscreenOnIconSize:32,controlFullscreenOffIconSize:32,controlShareIconSize:16,shareText:void 0,shareLabel:void 0,shareDropdownDirection:void 0,shareLabelFacebook:"Facebook",shareLabelTwitter:"Twitter",shareLabelPinterest:"Pinterest",shareLabelWhatsapp:"Whatsapp",shareLabelTelegram:"Telegram",shareLabelEmail:"Email",shareLabelDownload:"Download",shareLabelClipboard:"Copy to clipboard"})}connectedCallback(){super.connectedCallback(),this.init(Tu.observedAttributes),this.addEventListeners()}async init(t){return super.init(t)}getThumbBoundsFn(t){if(!this.images)return{x:0,y:0,w:0};const e=this.images[t],i=window.pageYOffset||document.documentElement.scrollTop,s=e.getBoundingClientRect();return{x:s.left,y:s.top+i,w:s.width}}async beforeBind(){return await super.beforeBind()}closeShare(){this.querySelector("bs5-share")?.dispatchEvent(new CustomEvent("close"))}openShare(){this.querySelector("bs5-share")?.dispatchEvent(new CustomEvent("open"))}onBeforeChange(){this.closeShare()}onAfterChange(){this.scope.currItem=this.pswp?.currItem,setTimeout((()=>{this.scope.isZoomAllowed=this.isZoomAllowed()}),0)}onImageLoadComplete(){}onResize(){this.scope.isZoomAllowed=this.isZoomAllowed()}onGettingData(){}onMouseUsed(){}onInitialZoomIn(){}onInitialZoomInEnd(){}onInitialZoomOut(){}onInitialZoomOutEnd(){}onParseVerticalMargin(){}onUnbindEvents(){this.closeShare()}onClose(){this.pswp?.ui?.getFullscreenAPI()?.exit(),this.closeShare(),this.scope.isZoomAllowed=!1}onDestroy(){this.debug("onDestroy"),this.closeShare()}onUpdateScrollOffset(){}onPreventDragEvent(t,e,i){i.prevent=!0}openByIndex(t){return this.open(this.scope.items[t])}close(){this.pswp?.close()}next(){this.pswp?.next()}prev(){this.pswp?.prev()}toggleZoom(){this.pswp?.toggleDesktopZoom(),this.scope.zoomLevel=this.pswp?.getZoomLevel()||1,this.scope.isZoomed=this.scope.zoomLevel<1}toggleFullscreen(){const t=this.pswp?.ui?.getFullscreenAPI();t?(t.isFullscreen()?(t.exit(),this.scope.isFullscreen=!1):(t.enter(),this.scope.isFullscreen=!0),this.pswp?.ui.updateFullscreen()):console.error("fullscreenAPI not found")}openWithoutAnimation(t){const e=this.options.showAnimationDuration;this.options.showAnimationDuration=0,this.open(t),e?this.options.showAnimationDuration=e:delete this.options.showAnimationDuration}open(t){if(this.debug("open",t,this.scope.items),!this.pswpElement)return void console.error(`Element with selector "${this.scope.fullscreenContainerSelector}" not found`);const e=this.scope.items.indexOf(t);e>=0?(this.options.index=e,this.scope.isFullscreen=!1,this.scope.isZoomed=!1,t.element?.currentSrc&&(this.scope.items[e].msrc=t.element.currentSrc),this.pswp=new xu(this.pswpElement,yu,this.scope.items,this.options),this.addPswpEventListeners(),this.pswp.init(),this.scope.isZoomAllowed=this.isZoomAllowed(),this.scope.currItem=this.pswp?.currItem,this.debug("isZoomAllowed",this.scope.isZoomAllowed)):console.error("[bs5-photoswipe] failed to get index of item ",t)}addPswpEventListeners(){this.pswp?.listen("beforeChange",this.onBeforeChange.bind(this)),this.pswp?.listen("afterChange",this.onAfterChange.bind(this)),this.pswp?.listen("imageLoadComplete",this.onImageLoadComplete.bind(this)),this.pswp?.listen("resize",this.onResize.bind(this)),this.pswp?.listen("gettingData",this.onGettingData.bind(this)),this.pswp?.listen("mouseUsed",this.onMouseUsed.bind(this)),this.pswp?.listen("mouseUsed",this.onMouseUsed.bind(this)),this.pswp?.listen("initialZoomIn",this.onInitialZoomIn.bind(this)),this.pswp?.listen("initialZoomInEnd",this.onInitialZoomInEnd.bind(this)),this.pswp?.listen("initialZoomOut",this.onInitialZoomOut.bind(this)),this.pswp?.listen("initialZoomOutEnd",this.onInitialZoomOutEnd.bind(this)),this.pswp?.listen("parseVerticalMargin",this.onParseVerticalMargin.bind(this)),this.pswp?.listen("onUnbindEvents",this.onUnbindEvents.bind(this)),this.pswp?.listen("close",this.onClose.bind(this)),this.pswp?.listen("destroy",this.onDestroy.bind(this)),this.pswp?.listen("updateScrollOffset",this.onUpdateScrollOffset.bind(this))}isZoomAllowed(){return!!this.pswpElement?.classList.contains("pswp--zoom-allowed")}removeEventListeners(){if(this.scope.openImageOnClick)for(let t=0;t<this.images.length;t++)this.images[t].removeEventListener("click",this.images[t]._rv_click_listener)}onPageChanges(){this.checkHash()}addEventListeners(){if(this.scope.openImageOnClick)for(let t=0;t<this.images.length;t++)this.images[t].addEventListener("click",this.images[t]._rv_click_listener);this.routerEvents.on("newPageReady",this.onPageChanges,this)}setItems(){this.images=Array.from(this.querySelectorAll(this.scope.itemsSelector));for(let t=0;t<this.images.length;t++){this.scope.openImageOnClick&&(this.images[t]._rv_click_listener=this.openByIndex.bind(this,t));const e=this.images[t].dataset.fsSrc||this.images[t].currentSrc||this.images[t].src,i=this.images[t].dataset.fsWidth||this.images[t].width||this.images[t].naturalWidth,s=this.images[t].dataset.fsHeight||this.images[t].height||this.images[t].naturalHeight,n=this.images[t].dataset.title;e&&i&&s?this.scope.items.push({src:e,msrc:this.images[t].currentSrc||this.images[t].src||e,w:Number(i),h:Number(s),title:n,element:this.images[t],index:t}):console.warn("[bs5-photoswipe] image element found without src, width or height. Ignoring..")}}initFullscreenTemplate(){this.pswpElement=this.querySelector(this.scope.fullscreenContainerSelector)}checkHash(){const t=this.parseHash();t.pid&&t.gid&&this.openWithoutAnimation(this.scope.items[t.pid-1])}async afterBind(){await super.afterBind(),this.setItems(),this.addEventListeners(),this.initFullscreenTemplate(),this.checkHash()}parseHash(){const t=window.location.hash.substring(1),e={};if(t.length<5)return e;const i=t.split("&");for(let s=0;s<i.length;s++){if(!i[s])continue;const t=i[s].split("=");t.length<2||(e[t[0]]=parseInt(t[1],10))}return e}requiredAttributes(){return[]}disconnectedCallback(){this.debug("disconnectedCallback"),super.disconnectedCallback(),this.removeEventListeners()}async template(){if(C(this))return this.innerHTML+Cu;{const{default:t}=await Hd((()=>i.import("./bs5-photoswipe.component-legacy-1d2f1c7d.bundle.js")));return t+Cu}}}t(Tu,"tagName","bs5-photoswipe");const ku=Object.freeze(Object.defineProperty({__proto__:null,PhotoswipeComponent:Tu},Symbol.toStringTag,{value:"Module"})),Au={formatters:Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),binders:Su,services:Eu,components:ku,init(t={}){return _u.setSingleton(t),this}},Lu=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Iu={name:"strapi-image",read(t,e="thumbnail"){let i=t?.formats?.thumbnail;switch(e){case"original":return t;case"large":i=t?.formats?.large||t?.formats?.medium||t?.formats?.small||t?.formats?.thumbnail;break;case"medium":i=t?.formats?.medium||t?.formats?.small||t?.formats?.thumbnail;break;case"small":i=t?.formats?.small||t?.formats?.thumbnail;break;case"thumbnail":i=t?.formats?.thumbnail;break;default:throw new Error("Unknown image format: "+e+" !")}return i}},Ou={name:"strapi",read(t){if(!t)return"";if("string"!=typeof t)return console.warn(`Strapi formatter works only with strings, but got "${typeof t}"`),t;if(t.startsWith("http"))return t;let e=window?.env?.STRAPI_REMOTE_URL||window?.ssr?.env?.STRAPI_REMOTE_URL||window?.env?.STRAPI_LOCAL_URL||window?.ssr?.env?.STRAPI_LOCAL_URL||"";if(!e)throw new Error("[strapiFormatter] Host not found, please make sure that window.env.STRAPI_REMOTE_URL or window.ssr.env.STRAPI_LOCAL_URL is set!");return e.endsWith("/")&&(e=e.substring(0,e.length-1)),t.startsWith("/")&&(t=t.substring(1)),`${e}/${t}`}},Nu={name:"strapi-image-url",read(t,e="thumbnail"){const i=Iu.read(t,e);return Ou.read(i?.url)}},Du=Object.freeze(Object.defineProperty({__proto__:null,strapiFormatter:Ou,strapiImageFormatter:Iu,strapiImageUrlFormatter:Nu},Symbol.toStringTag,{value:"Module"})),Pu={binders:Lu,services:Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),formatters:Du,components:Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),init(t={}){return this}};class Bu extends ve{static get observedAttributes(){return[]}constructor(){super(),t(this,"_debug",!1),t(this,"autobind",!0),t(this,"scope",{})}setStyles(){if(!this.scope.colHamburgerEl)return;const t=this.scope.colToolsEl?.clientWidth||0;this.scope.colHamburgerEl.style.minWidth=`${t}px`}initEventListeners(){this.setStyles=tt(this.setStyles.bind(this))}connectedCallback(){super.connectedCallback(),this.init(Bu.observedAttributes),this.initEventListeners()}requiredAttributes(){return[]}async afterAllBind(){super.afterAllBind(),this.setStyles()}template(){return null}}t(Bu,"tagName","mm-navbar");class Mu extends ve{static get observedAttributes(){return[]}constructor(){super(),t(this,"_debug",!1),t(this,"autobind",!0),t(this,"scope",{})}connectedCallback(){super.connectedCallback(),this.init(Mu.observedAttributes)}requiredAttributes(){return[]}template(){return null}}t(Mu,"tagName","mm-header");class Ru extends ve{static get observedAttributes(){return[]}constructor(){super(),t(this,"_debug",!1),t(this,"autobind",!0),t(this,"scope",{})}connectedCallback(){super.connectedCallback(),this.init(Ru.observedAttributes)}requiredAttributes(){return[]}template(){return null}}t(Ru,"tagName","mm-logo");class Fu extends ve{static get observedAttributes(){return[]}constructor(){super(),t(this,"_debug",!1),t(this,"autobind",!0),t(this,"routerEvents",void 0),t(this,"scope",{center:this.center})}center(){this.scope.scrollWrapperEl&&I(this.scope.scrollWrapperEl,"center","both","auto")}connectedCallback(){super.connectedCallback(),this.init(Fu.observedAttributes),this.initEventListeners()}initEventListeners(){this.routerEvents=new z("main"),this.center=tt(this.center.bind(this)),window.addEventListener("resize",this.center,{passive:!0}),this.routerEvents.on("newPageReady",this.center,this)}removeEventListeners(){window.removeEventListener("resize",this.center),this.routerEvents?.off("newPageReady",this.center,this)}requiredAttributes(){return[]}async beforeBind(){super.beforeBind(),this.center()}async afterBind(){super.afterBind(),this.center()}template(){return null}}t(Fu,"tagName","mm-map");const $u=Object.freeze(Object.defineProperty({__proto__:null,MMHeaderComponent:Mu,MMLogoComponent:Ru,MMMapComponent:Fu,MMNavbarComponent:Bu},Symbol.toStringTag,{value:"Module"}));class Hu extends ve{static get observedAttributes(){return[]}constructor(){super(),t(this,"_debug",!1),t(this,"autobind",!0),t(this,"scope",{})}connectedCallback(){super.connectedCallback(),this.init(Hu.observedAttributes)}requiredAttributes(){return[]}template(){return null}}t(Hu,"tagName","home-page");const zu=Object.freeze(Object.defineProperty({__proto__:null,HomePageComponent:Hu},Symbol.toStringTag,{value:"Module"})),ju=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Uu=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class Wu{constructor(){t(this,"view",void 0),t(this,"riba",new de),t(this,"model",{}),this.riba.configure({prefix:["rv","csr-rv"]}),this.riba.module.component.registerAll({...$u,...zu}),this.riba.module.binder.registerAll({...ju}),this.riba.module.formatter.registerAll({...Uu}),this.riba.module.register(qi.init()),this.riba.module.register(Ls.init({defaultTransition:new Gi})),this.riba.module.register(sn.init({})),this.riba.module.register(Dn.init({})),this.riba.module.register(wu.init({allowStoreDataInBrowser:!1})),this.riba.module.register(Au.init({})),this.riba.module.register(Pu.init({})),this.view=this.riba.bind(document.body,this.model),this.view.registerComponents(),this.riba.lifecycle.events.on("ComponentLifecycle:error",(t=>{console.error(t)}))}}(t=>{if(!t||"function"!=typeof t)return new Error("The callback is required!");const e=i=>{i?.fake||"loading"!==document.readyState&&(t(),document.attachEvent&&document.detachEvent("onreadystatechange",e),document.removeEventListener("DOMContentLoaded",e))};document.attachEvent&&document.attachEvent("onreadystatechange",e),document.addEventListener&&document.addEventListener("DOMContentLoaded",e),e()})((()=>{new Wu}))}}}))}();
