var Sf=Object.defineProperty;var Tf=(i,e,t)=>e in i?Sf(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var o=(i,e,t)=>(Tf(i,typeof e!="symbol"?e+"":e,t),t);function o_(){import.meta.url,import("_").catch(()=>1);async function*i(){}}const ar="base64:",No=0,Do=1,Af=/^'.*'$|^".*"$/,kr=(i,e=2,t=!0)=>{const s=JSON.stringify(i,null,e);return t&&s?s.replace(/'/g,"&#39;"):s},Lr=i=>{let e=null;if(!i||!oa(i))return e;if(sh(i))e=JSON.parse(i)||null;else try{e=JSON.parse(i.replace(/'/g,'"'))||null}catch(t){console.warn(`Can't parse json string of "${i}" `,t)}return e},oa=i=>!i||typeof i!="string"?!1:(i=i.trim(),i.charAt(0)==="{"&&i.charAt(i.length-1)==="}"||i.charAt(0)==="["&&i.charAt(i.length-1)==="]"),Cf=i=>!i||typeof i!="string"?!1:i.startsWith(ar),kf=i=>{let e;return lt(i)?e=JSON.stringify(i,null,0):e=i.toString(),ar+btoa(encodeURIComponent(e))},Lf=i=>{if(typeof i!="string")return"Not a base64 string!";i.startsWith(ar)&&(i=i.substring(ar.length));const e=atob(i);let t;try{t=decodeURIComponent(e)}catch(s){t=e}return We(t,!1).value},sh=i=>{if(!i||!oa(i))return!1;try{const e=JSON.parse(i);return!!(Array.isArray(e)||typeof e=="object")}catch(e){return!1}},We=(i,e=!1)=>{let t=No,s=i;if(i===void 0)return{type:t,value:void 0};if(i===null)return{type:t,value:null};if(Af.test(i))s=We(i.slice(1,-1),e).value;else if(i==="true")s=!0;else if(i==="false")s=!1;else if(i==="null")s=null;else if(i==="undefined")s=void 0;else if(i==="")e?s=!0:s="";else if(!isNaN(Number(i)))s=Number(i),s>=Number.MAX_SAFE_INTEGER&&(s=i);else if(Cf(s))s=Lf(s);else if(oa(s)){const n=Lr(s);s=n||s}else t=Do;return{type:t,value:s}},ih=i=>typeof i>"u",ms=i=>!ih(i),lt=i=>ms(i)&&typeof i=="object"&&i!==null,Ae=i=>i!=null&&i.toString?i.toString():void 0,If=i=>i?parseFloat(i):void 0,ke=i=>!isNaN(parseFloat(i))&&!isNaN(i-0),zs=i=>typeof i=="boolean",Ve=i=>typeof i=="string",Po=i=>{if(typeof i=="number")return i;const e=i.replace(/[^-\d.]/g,"");return ke(e)?Number(e):0},xf=i=>i.replace(/[&<>'"]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]),Of=i=>(i=i.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,""),i),Nf=i=>(i=i.replace(/ä/g,"ae").replace(/ö/g,"oe").replace(/ü/g,"ue").replace(/ß/g,"ss").replace(/Ä/g,"Ae").replace(/Ö/g,"Oe").replace(/Ü/g,"Üe"),i),Df=i=>(i=i.replace(/\s\s+/g," "),i),Pf=i=>(i=i.trim(),i=i.toLowerCase(),i=Df(i),i=Of(i),i=Nf(i),i=i.replace(/ /g,"-"),i),lr=i=>{const e=document.createElement("DIV");return e.innerHTML=i,e.textContent||e.innerText||""},ce=i=>i.replace(/-([a-z0-9])/g,e=>e[1].toUpperCase()),Rf=i=>i.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),Mf=i=>typeof i!="string"?"":i.charAt(0).toUpperCase()+i.slice(1),Ts=(i={},e={},...t)=>{const s=n=>{for(const r in n)Object.hasOwnProperty.bind(n)(r)&&(i.deep&&Object.prototype.toString.call(n[r])==="[object Object]"?e[r]=Ts(i,e[r],n[r]):i.keepValues?typeof e[r]>"u"&&(e[r]=n[r]):i.onlyDefined?typeof n[r]<"u"&&(e[r]=n[r]):i.mergeArrays&&Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=[...e[r],...n[r]]:e[r]=n[r])};for(let n=0;n<t.length;n++)s(t[n]);return e},nh=(i,e)=>Array.isArray(e)?i?e.map(t=>nh(!0,t)):e.slice():lt(e)?Ts({deep:i},{},e):e,$f=1e3,rh=(i,e,t)=>{if(!e)throw new Error("Can't set attribute of "+e);const s=i.getAttribute(e);let n,r=!1;switch(typeof t){case"string":case"number":case"boolean":n=String(t);break;case"undefined":n=void 0;case"object":t===null?n=null:n=kr(t,0);break;default:n=String(t);break}return n==null?(i.removeAttribute(e),r=!0):s!==n&&(i.setAttribute(e,n),r=!0),{name:e,newValue:n,oldValue:s,changed:r}},Nl=i=>{const e=nh(!1,i.dataset);for(const t in e)e[t]&&(e[t]=We(e[t],!0).value);return e},vt=i=>{var t;if(!i.hasChildNodes())return!1;const e=i.childNodes;return!(e.length===1&&e[0].nodeType===3&&(!e[0].nodeValue||((t=e[0].nodeValue)==null?void 0:t.trim())===""))},Yi=i=>{const e=[];if(i.type==="checkbox")return i.checked;if(i.type==="select-multiple"){const t=i.options;for(const s in t)if(t[s]){const n=t[s];n.selected&&e.push(n.value)}return e}else return i.hasAttribute&&i.hasAttribute("contenteditable")?i.innerHTML:i.value},oh=async i=>new Promise(e=>{let t;const s=()=>{t!==void 0&&clearTimeout(t),t=setTimeout(()=>{e()},100)};i.removeEventListener("scroll",s),i.addEventListener("scroll",s,{passive:!0}),s()}),Qi=async(i,e=0,t=window,s="vertical",n="smooth")=>{t||(t=window);const r=oh(t);let a=0,l=0;if(t.document)if(s==="vertical"){const c=t.scrollY||t.pageYOffset;a=Math.round(i.getBoundingClientRect().top+c-e)}else{const c=t.scrollX||t.pageXOffset;l=Math.round(i.getBoundingClientRect().left+c-e)}else if(s==="vertical"){const c=Po(window.getComputedStyle(t).marginTop);a=Math.round(i.offsetTop-e-c)}else{const c=Po(window.getComputedStyle(t).marginLeft);l=Math.round(i.offsetLeft-e-c)}return t.scroll({behavior:n,left:l,top:a}),r},Dl=i=>{if(i.document){const e=i,t=e.document;return e.scrollMaxY||Math.max(t.body.scrollHeight,t.body.offsetHeight,t.documentElement.clientHeight,t.documentElement.scrollHeight,t.documentElement.offsetHeight,0)}return i.scrollHeight},Pl=i=>{if(i.document){const e=i,t=e.document;return e.scrollMaxX||Math.max(t.body.scrollWidth,t.body.offsetWidth,t.documentElement.clientWidth,t.documentElement.scrollWidth,t.documentElement.offsetWidth)}return i.scrollWidth},Js=async(i,e,t="vertical",s="smooth")=>{var l,c;let n,r;if(!i)return;const a=oh(i);if(t==="vertical"||t==="both")switch(e){case"start":n=0;break;case"end":n=Dl(i);break;case"center":n=Dl(i),n&&(n/=2,i.document?n-=(((l=i.visualViewport)==null?void 0:l.height)||0)/2:n-=i.clientHeight/2);break;default:n=e;break}if(t==="horizontal"||t==="both")switch(e){case"start":r=0;break;case"end":r=Pl(i);break;case"center":r=Pl(i),r&&(r/=2,i.document?r-=(((c=i.visualViewport)==null?void 0:c.width)||0)/2:r-=i.clientWidth/2);break;default:r=e;break}return i.scroll({behavior:s,top:n,left:r}),a},Ir=i=>i.target||i.currentTarget||i.relatedTarget||i.delegateTarget||i.fromElement,aa=()=>{const i=Math.max(document.documentElement?document.documentElement.clientWidth:0,window.innerWidth||0);return{h:Math.max(document.documentElement?document.documentElement.clientHeight:0,window.innerHeight||0),w:i}},Bf=(i,e={})=>{if(!i)return!1;const t=i.getBoundingClientRect(),s=aa();e.top||(e.top=0),e.left||(e.left=0),e.bottom||(e.bottom=0),e.right||(e.right=0),e.top+=s.h-t.height,e.left+=s.w-t.width;const n=t.top+t.height>=e.bottom&&t.bottom-t.height<=e.top,r=t.left+t.width>=e.right&&t.right-t.width<=e.left;return n&&r},Hf=i=>{if(!i||typeof i!="function")return new Error("The callback is required!");const e=t=>{t!=null&&t.fake||document.readyState!=="loading"&&(i(),document.attachEvent&&document.detachEvent("onreadystatechange",e),document.removeEventListener("DOMContentLoaded",e))};document.attachEvent&&document.attachEvent("onreadystatechange",e),document.addEventListener&&document.addEventListener("DOMContentLoaded",e),e()},Ff=async(i,e,t=!0,s=!0)=>await new Promise((r,a)=>{let l=document.getElementById(e);if(l){if(console.warn("script already loaded, do nothing."),l.hasAttribute("loaded"))return r(l)}else l=document.createElement("script"),l.type="text/javascript",l.id=e,l.src=i,t&&(l.async=!0),s&&(l.defer=!0),(document.head||document.getElementsByTagName("head")[0]).appendChild(l);l.readyState&&(l.onreadystatechange=function(){(l.readyState==="loaded"||l.readyState==="complete")&&(l.onreadystatechange=null,l==null||l.setAttribute("loaded","true"),r(l))}),l.addEventListener("load",()=>{l==null||l.setAttribute("loaded","true"),r(l)}),l.addEventListener("error",(...c)=>{const f=new Error("Error on load script "+(l==null?void 0:l.src));console.error(f),console.error(...c),a(f)})}),ah=i=>{do i+=~~(Math.random()*$f);while(document.getElementById(i));return i},Ue=(i,e=!1,t=!1)=>{const s=typeof i=="string"?i:i.localName,n=s.includes("-");if(n&&e&&customElements){const r=customElements.get(s);return r?t?r===i.constructor:!0:!1}return n},Ro=async i=>(await customElements.whenDefined(i.localName),i),Rl=i=>{if(!i)return-1;let e=0;do e++,i=i.previousElementSibling;while(i);return e};class xr{constructor(e){o(this,"elements");this.elements=e}registerAll(e){if(!lt(e))throw new Error("Elements to register must be an object of elements");for(const t in e)if(e[t]&&t!=="__esModule"){const s=e[t];this.register(s,t)}return this.elements}}const q=class{constructor(e,t,s){o(this,"keypath");o(this,"callback");o(this,"objectPath");o(this,"obj");o(this,"target");o(this,"key");o(this,"tokens");this.keypath=t,this.callback=s,this.objectPath=[];const n=this.parse();this.key=n.key,this.tokens=n.tokens,this.obj=this.getRootObject(e),this.target=this.realize(),lt(this.target)&&q.set(!0,this.key,this.target,this.callback)}static updateOptions(e){if(!e.adapters)throw new Error("adapters are required!");if(e.adapters&&(q.adapters={...q.adapters,...e.adapters},q.interfaces=Object.keys(q.adapters)),q.rootInterface=e.rootInterface||q.interfaces[0],!q.rootInterface)throw new Error("rootInterface is required!")}static tokenize(e,t){const s=[];let n={i:t,path:""},r,a;for(r=0;r<e.length;r++)a=e.charAt(r),~q.interfaces.indexOf(a)?(s.push(n),n={i:a,path:""}):n.path+=a;return s.push(n),s}static get(e,t){return q.adapters[e.i].get(t,e.path)}static set(e,t,s,n){e?q.adapters[t.i].observe(s,t.path,n):q.adapters[t.i].unobserve(s,t.path,n)}parse(){let e,t;if(!q.interfaces||!q.interfaces.length)throw new Error(`[Observer] Must define at least one adapter interface. interfaces: "${JSON.stringify(q.interfaces)}" adapters: "${JSON.stringify(q.adapters)}"`);if(~q.interfaces.indexOf(this.keypath[0])?(t=this.keypath[0],e=this.keypath.substr(1)):(t=q.rootInterface,e=this.keypath),this.tokens=q.tokenize(e,t),!this.tokens.length)throw new Error("[Observer] No tokens");return this.key=this.tokens.pop(),{key:this.key,tokens:this.tokens}}realize(){let e=this.obj,t=-1,s,n;for(let r=0;r<this.tokens.length;r++)n=this.tokens[r],lt(e)?(typeof this.objectPath[r]<"u"?(s=this.objectPath[r],e!==s&&(q.set(!1,n,s,this),q.set(!0,n,e,this),this.objectPath[r]=e)):(q.set(!0,n,e,this),this.objectPath[r]=e),e=q.get(n,e)):(t===-1&&(t=r),s=this.objectPath[r],s&&q.set(!1,n,s,this));return t!==-1&&this.objectPath.splice(t),e}sync(){let e,t;const s=this.realize();s!==this.target?(lt(this.target)&&q.set(!1,this.key,this.target,this.callback),lt(s)&&q.set(!0,this.key,s,this.callback),e=this.value(),this.target=s,t=this.value(),(t!==e||Array.isArray(t))&&this.callback.sync()):Array.isArray(s)&&this.callback.sync()}value(){if(lt(this.target))return q.get(this.key,this.target)}setValue(e){lt(this.target)&&q.adapters[this.key.i].set(this.target,this.key.path,e)}unobserve(){let e,t;for(let s=0;s<this.tokens.length;s++)t=this.tokens[s],e=this.objectPath[s],e&&q.set(!1,t,e,this);lt(this.target)&&q.set(!1,this.key,this.target,this.callback)}getRootObject(e){let t,s;if(!e.$parent)return e;for(this.tokens.length?t=this.tokens[0].path:t=this.key.path,s=e;s.$parent&&s[t]===void 0;)s=s.$parent;return s}};let _e=q;o(_e,"adapters"),o(_e,"interfaces",[]),o(_e,"rootInterface");class lh extends xr{constructor(t){super(t);o(this,"type","adapter")}register(t,s,n=!1){const r=n?s||t.name:t.name||s;if(!r)throw new Error("Adapter name not found!");this.elements[r]=t;const a={adapters:this.elements};return _e.updateOptions(a),this.elements}}class ch extends xr{constructor(t){super(t);o(this,"type","binder")}register(t,s,n=!1){if(!t)throw new Error("No Binder passed to register!");const r=n?s||t.key:t.key||s;if(!r)throw new Error("Binder name not found!");return this.elements[r]=t,this.elements}}const Ee=class{constructor(e){o(this,"events",{});o(this,"eventsOnce",{});o(this,"_namespace","anonymous");if(e)return Ee.instances[e]||(this._namespace=e,Ee.instances[e]=this),Ee.instances[e]}static getNamespaces(){return Object.keys(this.instances)}static getInstance(e="main"){const t=Ee.instances[e];return t||new this(e)}static getAllInstances(){return Ee.instances}static clearInstance(e="main"){const t=Ee.instances[e];return t.events={},t.eventsOnce={},t}static deleteInstance(e="main"){this.clearInstance(e),delete this.instances[e]}static clearAllInstances(){const e=this.getNamespaces();for(const t of e)this.clearInstance(t)}static deleteAllInstances(){this.clearAllInstances(),this.instances={}}get namespace(){return this._namespace}once(e,t,s){return this.eventsOnce[e]=this.eventsOnce[e]||[],typeof s<"u"?this.eventsOnce[e].push({cb:t.bind(s),orgCb:t,thisContext:s}):this.eventsOnce[e].push(t),this}on(e,t,s){return this.events[e]=this.events[e]||[],typeof s<"u"?this.events[e].push({cb:t.bind(s),orgCb:t,thisContext:s}):this.events[e].push(t),this}off(e,t,s){if(e===void 0)return this.events={},this.eventsOnce={},this;if(t!==void 0)if(s!==void 0){if(e in this.events)for(const[n,r]of this.events[e].entries()){const a=r;a.orgCb===t&&a.thisContext===s&&this.events[e].splice(n,1)}if(e in this.eventsOnce)for(const[n,r]of this.eventsOnce[e].entries()){const a=r;a.orgCb===t&&a.thisContext===s&&this.eventsOnce[e].splice(n,1)}}else{if(e in this.events)for(const[n,r]of this.events[e].entries())r===t&&this.events[e].splice(n,1);if(e in this.eventsOnce)for(const[n,r]of this.eventsOnce[e].entries())r===t&&this.eventsOnce[e].splice(n,1)}else this.events[e]=[],this.eventsOnce[e]=[];return this}trigger(e,...t){if(e in this.events)for(const s of this.events[e])s!=null&&s.cb?s.cb(...t):s(...t);if(e in this.eventsOnce)for(const[s,n]of this.eventsOnce[e].entries())n!=null&&n.cb?(n.cb(...t),this.eventsOnce[e].splice(s,1)):(n(...t),this.eventsOnce[e].splice(s,1));return this}};let Y=Ee;o(Y,"instances",{});class Ki{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of CoreService not defined, please call setSingleton first!")}static setSingleton(e={}){if(this.instance)throw new Error("Singleton of CoreService already defined!");return this._options=e,this.instance=new this,this.instance}static hasInstance(){return!!this.instance}}o(Ki,"_options",{}),o(Ki,"instance");const He=class{constructor(){o(this,"events",Y.getInstance("lifecycle"));o(this,"debug",!1);o(this,"routerEvents",Y.getInstance());o(this,"timeout",null);o(this,"allBound",!1);o(this,"components",{});this.addEventListeners(),this.reset(),He.instance=this}static getInstance(){return He.instance||(He.instance=new He),He.instance}getEmpty(){return{components:[]}}addEventListeners(){this.events.on("Component:connected",e=>{e.options.ignore||(this.resetTimeout(),this.components[e.tagName]=this.components[e.tagName]||this.getEmpty(),this.components[e.tagName].components.push(e.component))}),this.events.on("Component:disconnected",e=>{e.options.ignore||(this.resetTimeout(),this.checkStates())}),this.events.on("Component:afterBind",e=>{e.options.ignore||(this.resetTimeout(),this.checkStates())}),this.events.on("Component:error",(e,t)=>{this.onError(e,t)}),this.routerEvents.on("newPageReady",(e,t,s,n,r,a,l)=>{this.debug&&console.debug("newPageReady",e,t,s,"firstPageLoad",l),l||this.reset()})}getState(e){let t=0,s=0;for(const n of this.components[e].components)n.connected&&(t++,n.bound&&s++);return{connected:t,bound:s}}getStates(){const e={};for(const t in this.components){const s=this.getState(t);e[t]={state:s,components:this.components[t].components}}return e}checkStates(){let e=!0;const t=this.getStates();for(const s in t){const n=t[s].state;if(n.connected!==n.bound){e=!1;break}}return e&&!this.allBound&&this.onAllBound(),this.allBound=e,{states:t,allBound:e}}onAllBound(){this.clearTimeout(),this.events.trigger("ComponentLifecycle:allBound",this.components),this.debug&&console.debug("[ComponentLifecycle] All components bound!")}onError(e,t){this.clearTimeout(),console.error(`The component "${t.tagName}" has caused an error:`,e),this.events.trigger("ComponentLifecycle:error",e,t)}onTimeout(){this.clearTimeout();const e=this.getStates();let t=`[ComponentLifecycle] Timeout! {count} component(s) takes too long!
Unfinished components:
`,s=0;for(const n in e){const r=e[n].state;r.connected!==r.bound&&(s++,t+=`${n}: connected: ${e[n].state.connected}, bound: ${e[n].state.bound}
`)}if(s<=0){console.warn("No component found"),this.events.trigger("ComponentLifecycle:noComponents");return}t=t.replace("{count}",s.toString()),this.events.trigger("ComponentLifecycle:error",new Error(t),{})}clearTimeout(){this.timeout&&window.clearTimeout(this.timeout)}resetTimeout(){var e;return this.debug&&console.debug("[ComponentLifecycle] reset timeout.."),this.clearTimeout(),this.timeout=window.setTimeout(this.onTimeout.bind(this),((e=Ki.options.lifecycle)==null?void 0:e.timeout)||5e3),this.timeout}reset(){this.debug&&console.debug("[ComponentLifecycle] reset!"),this.allBound=!1,this.components={},this.resetTimeout()}};let Gs=He;o(Gs,"instance");class hh extends xr{constructor(t){super(t);o(this,"type","components")}register(t,s,n=!1){const r=n?s||t.tagName:t.tagName||s;return r?(this.elements[r]=t,this.elements):(console.warn(new Error("Component name not found!"),t),this.elements)}}class dh extends xr{constructor(t){super(t);o(this,"type","formatter")}register(t,s,n=!1){const r=n?s||t.name:t.name||s;if(!r)throw new Error("Formatter name not found!");return this.elements[r]=t,this.elements}}class Ji{static setRequestHeaderEachRequest(e,t){this._requestHeadersEachRequest.push({name:e,value:t})}static async getJSON(e,t,s={},n={}){return this.fetch(e,"GET",t,"json",s,n)}static async post(e,t,s,n={},r={}){return this.fetch(e,"POST",t,s,n,r)}static async delete(e,t,s,n={},r={}){return this.fetch(e,"DELETE",t,s,n,r)}static async put(e,t,s,n={},r={}){return this.fetch(e,"PUT",t,s,n,r)}static async get(e,t,s,n={},r={}){return this.fetch(e,"GET",t,s,n,r)}static parseDataType(e){const t={};let s="application/x-www-form-urlencoded",n="*/*";switch(e){case"script":s="application/javascript";break;case"json":s="application/json",n="application/json, text/javascript";break;case"xml":s="application/xml",n="application/xml, text/xml";break;case"text":s="text/plain",n="text/plain";break;case"html":s="text/html",n="text/html";break;case"form":s="application/x-www-form-urlencoded";break}return s&&(t["Content-Type"]=s,t.Accept=n),t}static async fetch(e,t="GET",s={},n,r={},a={}){if(!fetch)throw new Error("Your browser does not support the fetch API, use xhr instead or install a polyfill.");let l;for(const v of this._requestHeadersEachRequest)r[v.name]=v.value;n&&(r=Ts({deep:!1},r,this.parseDataType(n))),!a.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");const c=a.cache?a.cache:"default";if(t==="GET"&&s){if(new URLSearchParams(s).toString()){const b=e.includes("?")?"&":"?";e=e+b+new URLSearchParams(s).toString()}}else s&&(n==="form"?l=new URLSearchParams(s):l=JSON.stringify(s));const f=await fetch(e,{credentials:"same-origin",cache:c,method:t,body:l,headers:r,mode:a.mode||"cors"});let g=await f.text();if(typeof g=="string"&&sh(g)&&(g=JSON.parse(g)),typeof g=="string")switch(g){case"null":g=null;break;case"true":g=!0;break;case"false":g=!1;break;case"undefined":g=void 0;break}return{status:f.status,headers:f.headers,ok:f.ok,redirected:f.redirected,statusText:f.statusText,type:f.type,url:f.url,arrayBuffer:f.arrayBuffer,blob:f.blob,bodyUsed:f.bodyUsed,clone:f.clone,formData:f.formData,text:f.text,body:g}}}o(Ji,"_requestHeadersEachRequest",[]);const zf=Object.freeze(Object.defineProperty({__proto__:null,AdapterService:lh,BindersService:ch,ComponentService:hh,CoreService:Ki,FormatterService:dh,HttpService:Ji,LifecycleService:Gs},Symbol.toStringTag,{value:"Module"})),Da=class{constructor(){o(this,"name",".");o(this,"counter",0);o(this,"weakmap",{})}weakReference(e){if(!Object.hasOwnProperty.bind(e)("__rv")){const t=this.counter++;Object.defineProperty(e,"__rv",{value:t})}return this.weakmap[e.__rv]||(this.weakmap[e.__rv]={callbacks:{}}),this.weakmap[e.__rv]}cleanupWeakReference(e,t){Object.keys(e.callbacks).length||e.pointers&&Object.keys(e.pointers).length||delete this.weakmap[t]}stubFunction(e,t){const s=e[t],n=this.weakReference(e),r=this.weakmap;e[t]=(...a)=>{const l=s.apply(e,a);return Object.keys(n.pointers).forEach(c=>{const f=n.pointers[c];r[c]&&Array.isArray(r[c].callbacks[f])&&r[c].callbacks[f].forEach(g=>{g.sync()})}),l}}observeMutations(e,t,s){if(Array.isArray(e)){const n=this.weakReference(e);n.pointers||(n.pointers={},Da.ARRAY_METHODS.forEach(r=>{this.stubFunction(e,r)})),n.pointers[t]||(n.pointers[t]=[]),n.pointers[t].indexOf(s)===-1&&n.pointers[t].push(s)}}unobserveMutations(e,t,s){if(Array.isArray(e)&&e.__rv!=null){const n=this.weakmap[e.__rv];if(n){const r=n.pointers[t];if(r){const a=r.indexOf(s);a>-1&&r.splice(a,1),r.length||delete n.pointers[t],this.cleanupWeakReference(n,e.__rv)}}}}observe(e,t,s){let n;const r=this.weakReference(e).callbacks;if(!r[t]){r[t]=[];const a=Object.getOwnPropertyDescriptor(e,t);(!a||!(a.get||a.set||!a.configurable))&&(n=e[t],Object.defineProperty(e,t,{enumerable:!0,get:()=>n,set:l=>{if(l!==n){this.unobserveMutations(n,e.__rv,t),n=l;const c=this.weakmap[e.__rv];if(c){const f=c.callbacks[t];f&&f.forEach(g=>{g.sync()}),this.observeMutations(l,e.__rv,t)}}}}))}r[t].indexOf(s)===-1&&r[t].push(s),this.observeMutations(e[t],e.__rv,t)}unobserve(e,t,s){const n=this.weakmap[e.__rv];if(n){const r=n.callbacks[t];if(r){const a=r.indexOf(s);a>-1&&(r.splice(a,1),r.length||(delete n.callbacks[t],this.unobserveMutations(e[t],e.__rv,t))),this.cleanupWeakReference(n,e.__rv)}}}get(e,t){return e[t]}set(e,t,s){e[t]=s}};let In=Da;o(In,"ARRAY_METHODS",["push","pop","shift","unshift","sort","reverse","splice"]);const Uf=new In,Wf=Object.freeze(Object.defineProperty({__proto__:null,dotAdapter:Uf},Symbol.toStringTag,{value:"Module"})),Ml=()=>{const i="0123456789ABCDEF";let e="#";for(let t=0;t<6;t++)e+=i[Math.floor(Math.random()*16)];return e},Vf=(i,...e)=>{const t=[];i.color?(i.namespace?t.push(`%c[${i.namespace}] ${i.mode.toUpperCase()}: `):t.push(`%c${i.mode.toUpperCase()}: `),t.push(`color: ${i.color}`)):i.namespace?t.push(`[${i.namespace}] ${i.mode.toUpperCase()}: `):t.push(`${i.mode.toUpperCase()}: `),t.push(...e),console[i.mode](...t)},jf=(i,e)=>{for(let t=0;t<i;t++)e()},bo=()=>{const i={},e=new Promise((t,s)=>{i.resolve=t,i.reject=s});return i.promise=e,i},qf=(i,e=100)=>{let t;return(...s)=>{clearTimeout(t),t=setTimeout(()=>i(...s),e)}},Yf=(i,e=100)=>{let t,s;const n=new Promise((a,l)=>{t=a,s=l});let r;return(...a)=>(r||(r=qf(()=>{try{t(i(...a)),r=void 0}catch(l){s(l)}},e)),r(...a),n)},Kf=i=>{let e=null,t,s,n=new Promise((r,a)=>{t=r,s=a});return(...r)=>(e&&cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{try{t(i(...r))}catch(a){s(a)}e=null,n=new Promise((a,l)=>{t=a,s=l})}),n)},jt=(i,e)=>typeof e=="number"?Yf(i,e):Kf(i),je=(i,e=100)=>{let t=null,s,n,r=new Promise((a,l)=>{s=a,n=l});return(...a)=>{if(t===null){t=window.setTimeout(()=>{t=null,r=new Promise((l,c)=>{s=l,n=c})},e);try{s(i(...a))}catch(l){n(l)}}return r}},Gf=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;!Gf&&typeof WorkerGlobalScope<"u"&&typeof importScripts=="function"&&navigator instanceof WorkerNavigator;typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));typeof Deno<"u"&&typeof Deno.core<"u";const uh={};let yo=!1;const $l="setImmediate$"+Math.random()+"$",Zf=function(i){i.source===window&&typeof i.data=="string"&&i.data.indexOf($l)===0&&fh(+i.data.slice($l.length))};window&&window.addEventListener("message",Zf,!1);function Xf(i){delete uh[i]}function Qf(i){const e=i.callback,t=i.args;e(...t)}function fh(i){if(yo)setTimeout(fh,0,i);else{const e=uh[i];if(e){yo=!0;try{Qf(e)}finally{Xf(i),yo=!1}}}}const Jf=i=>{const e=document.createElement("textarea");e.value=i,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{const s=document.execCommand("copy")?"successful":"unsuccessful";console.log(`Fallback: Copying text command was ${s}: ${i}`)}catch(t){console.error("Fallback: Oops, unable to copy",t)}document.body.removeChild(e)},tp=async i=>{if(!navigator.clipboard){Jf(i);return}try{await navigator.clipboard.writeText(i),console.log("Copying to clipboard was successful: "+i)}catch(e){console.error("Could not copy text: ",e)}},ph=()=>{const i=navigator.userAgent,e=window.navigator.platform,t={windows7:/Windows NT 6.1/,windows8:/Windows NT 6.2/,windows81:/Windows NT 6.3/,windows10:/Windows NT 10.0/,windows:/windows/i,windowsPhone:/trident/i,android:/android/i,ios:/(ipad|iphone|ipod)/i,linux:/(linux)/i,unix:/(openbsd|freebsd|netbsd)/i,osxCatalina:/macintosh.+10(_|\.)15/i,osxBigSur:/macintosh.+((10(_|\.)16)|(11(_|\.)))/i,osx:/macintosh/i,mac:/mac/i},s={linux:/Linux/i,unix:/(FreeBSD|OpenBSD|X11|SunOS)/i,webOS:/webOS/i,playstation3:/playstation 3/i,playstation4:/playstation 4/i,PlaystationPortable:/psp/i,newNintendo3Ds:/new nintendo 3ds/i,nintendoDsi:/nintendo dsi/i,nintendo3Ds:/nintendo 3ds/i,nintendoWii:/nintendo wii/i,nintendoWiiU:/nintendo wiiu/i,palmos:/palmos/i,symbian:/(nokia_series_40|s60|symbian)/i};for(const n of Object.keys(t))if(t[n].test(i))return n==="mac"&&"ontouchend"in document?"ios":n;for(const n of Object.keys(s))if(s[n].test(e))return n;return"Unknown"},mh=()=>{const i=ph();let e=!1,t=!1,s=!1;switch(i){case"windows":case"windows10":case"windows7":case"windows8":case"windows81":case"osxBigSur":case"osxCatalina":case"osx":case"mac":case"linux":case"unix":t=!0;break;case"ios":case"android":case"windowsPhone":case"symbian":e=!0;break}return(i.includes("playstation")||i.includes("nintendo"))&&(s=!0),{isMobile:e,isDesktop:t,isGameConsole:s}},ep=()=>mh().isMobile,sp=()=>mh().isDesktop,de=i=>{if(!i)return window.location;const e=document.createElement("a");return e.href=i,e},le=i=>{const e=de(i),t=de().hostname;return e.hostname===t?{url:e.pathname+e.search+e.hash,location:e}:{url:cr(i),location:e}},cr=i=>{const e=de(i);return e.protocol+"//"+e.host+e.pathname+e.search+e.hash},Or=(i,e=!1)=>{if(i){const t=de(),s=de(i);return e&&t.search!==s.search?!1:t.hostname===s.hostname&&t.pathname===s.pathname}return!1},ip=i=>{if(i){const e=de(),t=e.pathname,s=e.hostname,n=de(i),r=n.pathname,a=n.hostname;return s===a&&t.startsWith(r)}return!1},wo=i=>i.replace(/#.*/,""),Bl=(i,e)=>{const t=de(e),s=typeof i<"u"?i:t.port,n=t.protocol;if(s!=="")return Number(s);if(n==="http:")return 80;if(n==="https:")return 443},np=i=>i?new RegExp("^(?:[a-z]+:)?//","i").test(i)||i.startsWith("mailto:")||i.startsWith("tel:")||i.startsWith("fax:"):!1,rp=i=>{if(np(i)){const e=de(),t=e.protocol+"//"+e.hostname;let s=!0;return i.startsWith(t)&&(s=!1),s}return!1},op=/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g,ap=/\s+/;class x{constructor(e,t,s,n,r,a,l){o(this,"name");o(this,"publishes",!1);o(this,"priority",0);o(this,"value");o(this,"observer");o(this,"view");o(this,"el");o(this,"type");o(this,"formatters");o(this,"formatterObservers",{});o(this,"keypath");o(this,"args");o(this,"model");o(this,"marker");this.view=e,this.el=t,this.type=s,this.name=n,this.keypath=r,this.formatters=a,this.model=void 0,l&&s?this.args=this.getStarArguments(l,s):this.args=new Array}observe(e,t,s){return new _e(e,t,s)}parseTarget(){if(this.keypath){const e=We(this.keypath,!0);if(e.type===No)this.value=e.value;else if(e.type===Do)this.observer=this.observe(this.view.models,this.keypath,this),this.model=this.observer.target;else throw new Error(`[${this.name}] Unknown type in token`)}else this.value=void 0}getIterationAlias(e){return"%"+e+"%"}parseFormatterArguments(e,t){return e.map(s=>We(s,!0)).map(({type:s,value:n},r)=>{if(s===No)return n;if(s===Do){const a=n;this.formatterObservers[t]||(this.formatterObservers[t]={});let l=this.formatterObservers[t][r];return l||(l=this.observe(this.view.models,a,this),this.formatterObservers[t][r]=l),l.value()}else throw new Error(`[${this.name}] Unknown argument type`)})}formattedValue(e,t=0){if(this.formatters===null)throw new Error(`[${this.name} formatters is null`);let s=!1;const n=t?this.formatters.slice(t):this.formatters;return n.reduce((r,a,l)=>{if(s)return r;const c=a.match(op);if(c===null)return console.warn(new Error(`[${this.name}] No args matched with regex "FORMATTER_ARGS"!
value: ${JSON.stringify(e)}
result: ${JSON.stringify(r)}
declaration: ${JSON.stringify(a)}
index: ${l}
`)),r;const f=c.shift();if(!f)throw new Error(`[${this.name}] No formatter id found in args!`);if(!this.view.options.formatters)throw new Error(`[${this.name}] No formatters are defined!`);const g=this.view.options.formatters[f];if(!g)throw new Error(`[${this.name}] No formatters with id "${f}" found!`);const u=this.parseFormatterArguments(c,l);return g&&typeof g.read=="function"&&(r=g.read.apply(this.model,[r,...u])),l<n.length-1&&r&&typeof r.then=="function"&&typeof r.catch=="function"?(s=!0,r.then(v=>this.formattedValue(v,l+1))):r},e)}eventHandler(e,t){const s=this.view.options.handler;return n=>{if(!s)throw new Error("No handler defined in binding.view.options.handler");s.call(e,this,n,this,t)}}set(e){try{e=this.formattedValue(e)}catch(t){return console.error(t),e}typeof this.routine=="function"&&(e&&typeof e.then=="function"&&typeof e.catch=="function"?e.then(t=>{this.routine(this.el,t)}).catch(t=>{console.error(t)}):this.routine(this.el,e))}sync(){this.observer?(this.model=this.observer.target,this.set(this.observer.value())):this.set(this.value)}publish(){if(this.observer){if(this.formatters===null)throw new Error("formatters is null");const e=this.formatters.reduceRight((t,s,n)=>{const r=s.split(ap),a=r.shift();if(!a)throw new Error("id not defined");if(!this.view.options.formatters)return;const l=this.view.options.formatters[a],c=this.parseFormatterArguments(r,n);return l&&typeof l.publish=="function"&&(t=l.publish(t,...c)),t},this._getValue(this.el));this.observer.setValue(e)}}_bind(){if(this.parseTarget(),this.bind){if(typeof this.bind!="function")throw new Error("the method bind is not a function");this.bind(this.el)}this.view.options.preloadData&&this.sync()}_unbind(){this.unbind&&this.unbind(this.el),this.observer&&this.observer.unobserve(),Object.keys(this.formatterObservers).forEach(e=>{const t=this.formatterObservers[e];Object.keys(t).forEach(s=>{t[s].unobserve()})}),this.formatterObservers={}}_update(e={}){this.observer&&(this.model=this.observer.target),typeof this.update=="function"&&this.update(e)}_getValue(e){return typeof this.getValue=="function"?this.getValue(e):Yi(e)}getStarArguments(e,t){var r;const s=this.view.binderRegex(e);return((r=t.match(s))==null?void 0:r.slice(1))||[]}}o(x,"key",""),o(x,"block",!1);class gh extends x{constructor(){super(...arguments);o(this,"function",!0);o(this,"priority",1e3)}bind(t){const s=this.args[0];t.classList.add(s)}routine(t,s){const n=this.args[0];s?(t.classList.add(n+"-start"),t.classList.remove(n+"-done")):(t.classList.remove(n+"-start"),t.classList.add(n+"-done"))}}o(gh,"key","animate-*");class vh extends x{constructor(){super(...arguments);o(this,"function",!0);o(this,"priority",1e3);o(this,"staticClasses")}bind(t){const s=t.getAttribute("class")||"";this.staticClasses=s.split(" ")}unbind(){delete this.staticClasses}routine(t,s){var r;s?((r=this.staticClasses)==null?void 0:r.indexOf(s))===-1&&t.setAttribute("class",this.staticClasses.join(" ")+" "+s):this.staticClasses&&t.setAttribute("class",this.staticClasses.join(" "));const n=t.getAttribute("class");n&&t.setAttribute("class",n.trim())}}o(vh,"key","add-class");class bh extends x{routine(e,t){const s=ce(this.args[0].trim());this.view.models[s]=t}}o(bh,"key","assign-*");class yh extends x{routine(e,t){if(typeof t=="object")return Ts({deep:!1},this.view.models,t);console.warn("Value must be an object or propertyName is required")}}o(yh,"key","assign");class Nr extends x{routine(e,t){var a;if(!this.type)throw new Error("Can't set attribute of "+this.type);const{newValue:s,oldValue:n,changed:r}=rh(e,this.type,t);this.type==="src"&&e.tagName.toUpperCase()==="SOURCE"&&((a=e.parentElement)==null?void 0:a.tagName.toUpperCase())==="VIDEO"&&e.parentElement.load(),r&&e.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:s,oldValue:n}}))}}o(Nr,"key","attr-*");class Mo extends x{routine(){}}o(Mo,"key","block"),o(Mo,"block",!0);class wh extends x{constructor(){super(...arguments);o(this,"publishes",!0);o(this,"priority",2e3);o(this,"onChange",this.publish.bind(this))}bind(t){t.addEventListener("change",this.onChange)}unbind(t){t.removeEventListener("change",this.onChange)}routine(t,s){let n;this._getValue?n=this._getValue(t):(console.warn("this._getValue is not a function, this: ",this),n=Yi(t)),t.type==="radio"?t.checked=Ae(n)===Ae(s):n!==s&&(t.checked=!!s)}getValue(t){return Yi(t)}}o(wh,"key","checked");class Eh extends x{routine(e,t){if(this.args===null)throw new Error("args is null");const s=e.getAttribute("class")||"",n=s.split(" ").filter(l=>l!==""),r=this.args[0].trim(),a=n.indexOf(r);a===-1?t&&e.setAttribute("class",`${s} ${r}`):t||e.setAttribute("class",n.filter((l,c)=>c!==a).join(" "))}}o(Eh,"key","class-*");const wn='[componentAttributeBinder] You can only use the "rv-co-*" binder on Riba components, but "{tagName}" is not registered.';class hr extends x{constructor(){super(...arguments);o(this,"publishes",!0);o(this,"componentAttributeObserver");o(this,"attributeName")}__routine(t,s){const n=this.args[0].trim();t.setBinderAttribute?t.setBinderAttribute(n,s):console.warn(wn.replace("{tagName}",t.tagName),t)}async routine(t,s){Ue(t,!0,!0)?this.__routine(t,s):Ue(t,!0)?(await Ro(t),this.__routine(t,s)):console.warn(wn.replace("{tagName}",t.tagName),t)}__bind(t){if(this.attributeName=this.args[0].toString().trim(),typeof t.observeAttribute!="function"){console.warn(wn.replace("{tagName}",t.tagName),t);return}this.componentAttributeObserver=t.observeAttribute(this.attributeName,{sync:()=>{this.publish()}})}async bind(t){Ue(t,!0,!0)?this.__bind(t):Ue(t,!0)?(await Ro(t),this.__bind(t)):console.warn(wn.replace("{tagName}",t.tagName),t)}unbind(){var t;(t=this.componentAttributeObserver)==null||t.unobserve()}getValue(t){const s=this.args[0].trim();return t.getBinderAttribute(s)}}o(hr,"key","co-*");class _h extends x{routine(e,t){e.disabled=!!t}}o(_h,"key","disabled");class Sh extends x{constructor(){super(...arguments);o(this,"enable",!1);o(this,"onDrag",this._onDrag.bind(this))}_onDrag(t){this.enable||t.preventDefault()}routine(t,s){this.enable=s,t.setAttribute("draggable",s?"true":"false")}bind(t){t.addEventListener("dragstart",this.onDrag,!0)}unbind(t){t.removeAttribute("draggable"),t.removeEventListener("dragstart",this.onDrag,!0)}}o(Sh,"key","draggable");class Th extends x{routine(e,t){e.data=t!=null?t:""}}o(Th,"key","mustache-text");const En=0,Ah=1,lp=/((?:'[^']*')*(?:(?:[^|']*(?:'[^']*')+[^|']*)+|[^|]+))|^$/g;function Ch(i,e){let t=null;const s=i.length;let n=0,r=0;const a=e[0],l=e[1];for(;r<s;)if(n=i.indexOf(a,r),n<0){t&&t.push({type:En,value:i.slice(r)});break}else{if(t=t||[],n>0&&r<n&&t.push({type:En,value:i.slice(r,n)}),r=n+a.length,n=i.indexOf(l,r),n<0){const f=i.slice(r-a.length),g=t[t.length-1];g&&g.type===En?g.value+=f:t.push({type:En,value:f});break}const c=i.slice(r,n).trim();t.push({type:Ah,value:c}),r=n+l.length}return t}function kh(i,e,t){let s=!1;if(e=e,e.nodeType===Node.TEXT_NODE){let n=null;if(e.data&&(n=Ch(e.data,t)),n&&n.length){for(let r=0;r<n.length;r++){const a=n[r],l=document.createTextNode(a.value);e.parentNode&&l&&e&&e.parentNode.insertBefore(l,e),a.type===Ah&&i.buildBinding(l,null,a.value,Th,null)}e.parentNode&&e.parentNode.removeChild(e)}s=!0}else e.nodeType===Node.ELEMENT_NODE&&(s=i.traverse(e));if(!s&&e.childNodes&&e.childNodes.length>0)for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];r&&kh(i,r,t)}}function cp(i){const e=i.match(lp);if(e===null)throw new Error("[View] No matches");const t=e.map(n=>n.trim());return{keypath:t.shift()||void 0,pipes:t}}const js=class{constructor(e,t,s){o(this,"els");o(this,"models");o(this,"options");o(this,"bindings",[]);o(this,"webComponents",[]);if(Array.isArray(e)?this.els=e:this.els=[e],this.models=t,this.models.$root)for(const n of Object.keys(this.models.$root))js.$rootScope[n]=this.models.$root[n];this.models.$root=js.$rootScope,this.options=s,this.build()}static create(e,t,s){var a;const n=e.el.cloneNode(!0),r=new js(n,t,e.view.options);return r.bind(),(a=e==null?void 0:e.marker)!=null&&a.parentNode?e.marker.parentNode.insertBefore(n,s):console.warn("[View]: No parent node for binding!"),r}bind(){this.bindings.forEach(e=>{e._bind()})}unbind(){Array.isArray(this.bindings)&&this.bindings.forEach(e=>{e._unbind(),typeof e.el&&this.options.removeBinderAttributes}),Array.isArray(this.webComponents)&&this.webComponents.forEach(e=>{typeof e.unbind=="function"&&e.unbind()})}sync(){this.bindings.forEach(e=>{e.sync&&e.sync()})}publish(){this.bindings.forEach(e=>{e.publishes&&e.publish&&e.publish()})}update(e={}){Object.keys(e).forEach(t=>{this.models[t]=e[t]});for(const t of this.bindings)t._update&&t._update(e)}build(){if(this.bindings=[],!this.options.templateDelimiters)throw new Error("templateDelimiters required");const e=this.els;for(let t=0;t<e.length;t++){const s=e[t];s&&kh(this,s,this.options.templateDelimiters)}this.bindings.sort(js.bindingComparator)}startsWithPrefix(e){const t=this.options.fullPrefix;if(!t)throw new Error("prefix is required");for(const s of t)if(e.startsWith(s))return s}binderRegex(e){var n;const t=((n=e.match(/\*/g))==null?void 0:n.length)||0;let s;return t>1?s=new RegExp(`^${e.replace("*","([^-]*)").replaceAll("-*","-(.+)")}$`):s=new RegExp(`^${e.replaceAll("*","(.+)")}$`),s}bindBinders(e,t,s=this.options.attributeBinders){let n=!1;if(!this.options.binders)return n;const r=[];for(let a=0,l=e.length;a<l;a++){let c="",f=null;const g=e[a],u=this.startsWithPrefix(g.name);if(u){let v="";if(c=g.name.slice(u.length),this.options.binders[c]&&(f=this.options.binders[c]),f===null){for(let b=0;b<s.length;b++)if(v=s[b],this.binderRegex(v).test(c)){f=this.options.binders[v];break}}if(f===null&&(this.options.binders["*"]?(f=this.options.binders["*"],v="*"):f=Nr),f.block)return this.buildBinding(t,c,g.value,f,v),t.removeAttribute&&this.options.removeBinderAttributes&&t.removeAttribute(g.name),n=!0,n;r.push({attr:g,Binder:f,nodeName:c,identifier:v})}}for(let a=0;a<r.length;a++){const l=r[a];this.buildBinding(t,l.nodeName,l.attr.value,l.Binder,l.identifier),t.removeAttribute&&this.options.removeBinderAttributes&&t.removeAttribute(l.attr.name)}return n}bindComponent(e){let t=!1;if(!this.options.components)return t;const s=e.nodeName.toLowerCase(),n=this.options.components[s];return n?(this.registerComponent(n,s),t=!0):this.options.blockUnknownCustomElements&&Ue(e)&&!s.endsWith("-page")&&(t=!0),t}traverse(e){let t=this.options.blockNodeNames.includes(e.nodeName);if(t)return t;const s=e.attributes;return s&&this.options.binders&&(t=this.bindBinders(s,e),t)||!t&&!e._bound&&this.options.components&&(t=this.bindComponent(e)),t}buildBinding(e,t,s,n,r){const a=cp(s),l=a.keypath,c=a.pipes;this.bindings.push(new n(this,e,t,n.key,l,c,r))}registerComponents(){for(const e in this.options.components)if(this.options.components[e]&&!customElements.get(e)){const t=this.options.components[e];this.registerComponent(t,e)}}registerComponent(e,t){if(!customElements)throw console.error("customElements not supported by your browser!"),new Error("customElements not supported by your browser!");const s=t||e.tagName;customElements.get(s)||customElements.define(e.tagName,e)}};let Wt=js;o(Wt,"$rootScope",{}),o(Wt,"bindingComparator",(e,t)=>{const s=e.priority||0;return(t.priority||0)-s});class $o extends x{constructor(){super(...arguments);o(this,"priority",4e3);o(this,"iterated",[])}bind(t){var s,n;this.marker?this.iterated.forEach(r=>{r.bind()}):(this.marker=(s=window==null?void 0:window.document)==null?void 0:s.createComment(` riba: ${this.type} `),!((n=t.parentNode)!=null&&n.insertBefore)||!this.marker||(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))}unbind(){this.iterated&&this.iterated.forEach(t=>{t.unbind()})}routine(t,s){if(this.args===null)throw new Error("args is null");let n=!1;const r=ce(this.args[0].toString());if(s=s||[],!Array.isArray(s)&&typeof s=="object"&&s!==null&&(s=Object.entries(s).map(([l,c])=>({key:l,value:c})),n=!0),!Array.isArray(s))throw new Error(`each-${this.args[0]} needs an array or object to iterate over, but it is ${typeof s}`);const a=t.getAttribute("index-property")||this.getIterationAlias(r);s.forEach((l,c)=>{var u;const f={$parent:this.view.models};n?(f[a]=l.key,f[r]=l.value):(f[a]=c,f[r]=l);let g=this.iterated[c];if(g)if(g.models[r]!==l){let v,b=this.iterated[c];for(let _=c+1;_<this.iterated.length;_++)if(b=this.iterated[_],b.models[r]===l){v=_;break}if(v!==void 0){if(this.iterated.splice(v,1),!this.marker||!((u=this.marker.parentNode)!=null&&u.insertBefore))throw new Error("Marker has no parent node");b&&b.els[0]&&g.els[0]&&this.marker.parentNode.insertBefore(b.els[0],g.els[0]),b.models[a]=c}else b=Wt.create(this,f,g.els[0]);this.iterated.splice(c,0,b)}else g.models[a]=c;else{let v;if(this.iterated.length?v=this.iterated[this.iterated.length-1].els[0]:this.marker&&(v=this.marker),!v)return;g=Wt.create(this,f,v.nextSibling),this.iterated.push(g)}}),this.iterated.length>s.length&&jf(this.iterated.length-s.length,()=>{const l=this.iterated.pop();if(!l)throw new Error("view is undefined!");if(l.unbind(),!this.marker||!this.marker.parentNode)throw new Error("Marker has no parent node");this.marker.parentNode.removeChild(l.els[0])}),t.nodeName==="OPTION"&&this.view.bindings&&this.view.bindings.forEach(l=>{this.marker&&l.el===this.marker.parentNode&&l.type==="value"&&l.sync&&l.sync()})}update(t){const s={};Object.keys(t).forEach(n=>{if(this.args===null)throw new Error("args is null");n!==this.args[0]&&(s[n]=t[n])}),this.iterated.forEach(n=>{n.update(s)})}}o($o,"key","each-*"),o($o,"block",!0);class Lh extends x{constructor(){super(...arguments);o(this,"publishes",!0)}bind(){this.publish()}routine(){}getValue(t){return t}}o(Lh,"key","element");class Ih extends x{routine(e,t){e.disabled=!t}}o(Ih,"key","enabled");class xh extends x{constructor(){super(...arguments);o(this,"priority",9e4)}routine(t,s){const n=Array.from(t.children);n.sort((r,a)=>!r.dataset.sortBy||!a.dataset.sortBy?0:r.dataset.sortBy<a.dataset.sortBy?s?1:-1:r.dataset.sortBy>a.dataset.sortBy?s?-1:1:0);for(let r=0;r<n.length;r++){const a=n[r];a.style.order=r.toString()}}}o(xh,"key","flex-sort-childs");class Oh extends x{routine(e,t){e.style.display=t?"none":"",t?e.setAttribute("hidden","true"):e.removeAttribute("hidden")}}o(Oh,"key","hide");class Nh extends x{routine(e,t){typeof t!="string"&&(t==null?t="":typeof(t==null?void 0:t.toString)=="function"?t=t.toString():(console.warn("[HtmlBinder] Value is not a string",t),t=JSON.stringify(t))),e.innerHTML=t||""}}o(Nh,"key","html");class dr extends x{constructor(){super(...arguments);o(this,"priority",4e3);o(this,"attached",!1);o(this,"nested")}bind(t){var s,n;this.marker?this.nested&&this.nested.bind():(this.marker=(s=window==null?void 0:window.document)==null?void 0:s.createComment(" riba: "+this.type+" "+this.keypath+" "),this.attached=!1,(n=t.parentNode)!=null&&n.insertBefore&&(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))}unbind(){this.nested&&this.nested.unbind()}routine(t,s){s=!!s,s!==this.attached&&(s?(this.nested||(this.nested=new Wt(t,this.view.models,this.view.options),this.nested.bind()),!this.marker||!this.marker.parentNode||this.marker.parentNode.insertBefore(t,this.marker.nextSibling),this.attached=!0):(t.parentNode&&t.parentNode.removeChild(t),this.attached=!1))}update(t){this.nested&&this.nested.update(t)}}o(dr,"key","if"),o(dr,"block",!0);class Dh extends x{routine(e,t){typeof t=="number"?(e.setAttribute("maxlength",t.toString()),e.maxLength=t):e.removeAttribute("maxlength")}}o(Dh,"key","maxlength");class Ph extends x{constructor(){super(...arguments);o(this,"function",!0);o(this,"priority",1e3);o(this,"handler")}unbind(t){if(this.handler){if(this.args===null)throw new Error("args is null");const s=this.args[0];t.removeEventListener(s,this.handler)}}routine(t,s){if(this.args===null)throw new Error("args is null");const n=this.args[0],r={passive:this.el.dataset.passive==="true"};this.handler&&t.removeEventListener(n,this.handler,r),this.handler=this.eventHandler(s,t).bind(this),t.addEventListener(n,this.handler,r)}}o(Ph,"key","on-*");class Rh extends x{routine(){}bindIntern(e){e.setBinderAttribute?e.setBinderAttribute("$parent",this.view.models):console.warn("[parentBinder] You can only use this binder on Riba components",e.localName,customElements.get(e.localName))}async bind(e){Ue(e,!0,!0)?this.bindIntern(e):Ue(e,!0)?(console.info(`[parentBinder] CustomElement ${e.localName} has been defined, but is not yet upgraded. Waiting for upgrade..`,e),await Ro(e),this.bindIntern(e)):console.warn("[parentBinder] You can only use this binder on Riba components",e.localName)}}o(Rh,"key","parent");class Mh extends x{routine(e,t){t=!!t,e.readOnly=t,t?e.setAttribute("readonly",""):e.removeAttribute("readonly")}}o(Mh,"key","readonly");class $h extends x{constructor(){super(...arguments);o(this,"staticClassesString")}bind(t){this.staticClassesString=t.className}routine(t,s){const n=new RegExp(`\\b${s}\\b`,"g");if(!this.staticClassesString)throw new Error("staticClassesString is undefined!");t.className=this.staticClassesString.replace(n,"").trim()}}o($h,"key","remove-class");class Bh extends x{routine(e,t){e.style.display=t?"":"none",t?e.removeAttribute("hidden"):e.setAttribute("hidden","true")}}o(Bh,"key","show");class Hh extends x{routine(e,t){const s=this.args[0];let n=e.getAttribute("srcset");if(typeof n!="string"&&(n=""),typeof t=="string"&&t.length>0){const r=n.length>0?", ":"";n+=`${r}${t} ${s}`}else{let r=n.split(",");r=r.map(a=>a.trim()),r=r.filter(a=>!a.includes(s)),n=r.join(", ")||""}e.setAttribute("srcset",n)}}o(Hh,"key","srcset-*");class Fh extends x{routine(e,t){const s="background-image";t==null||t===""?e.style.removeProperty(s):e.style.setProperty(s,`url(${t})`)}}o(Fh,"key","style-background-image");class zh extends x{routine(e,t){const s=this.args[0];t==null||t===""?e.style.removeProperty(s.toString()):e.style.setProperty(s.toString(),t)}}o(zh,"key","style-*");class Uh extends x{routine(e,t){if(t)if(typeof t=="string")e.setAttribute("style",t);else for(const s of Object.keys(t))e.style.setProperty(Rf(s),t[s]||null);else for(const s of Object.keys(e.style))e.style.removeProperty(s)}}o(Uh,"key","style");class Wh extends x{constructor(){super(...arguments);o(this,"priority",-1e3);o(this,"originalTag")}bind(t){this.originalTag=t.tagName.toLowerCase()}routine(t,s){if(this.args===null)throw new Error("args is null");const n=this.el.tagName.toLowerCase();let r;if(s)r=this.args[0].trim().toLowerCase();else if(this.originalTag)r=this.originalTag.toLowerCase();else throw new Error("Tag name not found!");if(n!==r){const a=document.createElement(r);for(;t.childNodes.length>0;)t.firstChild&&a.appendChild(t.firstChild);const l=Array.prototype.slice.call(t.attributes);for(const c of l)a.setAttribute(c.name,c.value);t.parentNode?t.parentNode.replaceChild(a,t):console.warn("No parent"),this.el=a}}}o(Wh,"key","tag-*");class Vh extends x{constructor(){super(...arguments);o(this,"nested")}bind(t){this.nested=new Wt(t,this.view.models,this.view.options)}routine(t,s){var n,r;(n=this.nested)==null||n.unbind(),t.innerHTML=s||"",this.nested=new Wt(t,this.view.models,this.view.options),(r=this.nested)==null||r.bind()}unbind(){var t;(t=this.nested)==null||t.unbind()}update(t){var s;(s=this.nested)==null||s.update(t)}}o(Vh,"key","template");class jh extends x{routine(e,t){typeof t!="string"&&typeof(t==null?void 0:t.toString)=="function"&&(t=t.toString()),e.textContent=t||""}}o(jh,"key","text");class qh extends x{constructor(){super(...arguments);o(this,"propertyKey")}toggle(){this.propertyKey&&(this.view.models[this.propertyKey]=!this.view.models[this.propertyKey])}bind(t){const s=this.args[0],n=this.el.dataset.passive==="true";t.addEventListener(s,this.toggle,{passive:n})}unbind(t){if(this.args===null)throw new Error("args is null");const s=this.args[0];t.removeEventListener(s,this.toggle)}routine(t,s){if(this.args===null)throw new Error("args is null");this.propertyKey=s}}o(qh,"key","toggle-on-*");class Yh extends x{constructor(){super(...arguments);o(this,"publishes",!0);o(this,"priority",2e3);o(this,"onChange",this.publish.bind(this))}bind(t){t.addEventListener("change",this.onChange)}unbind(t){t.removeEventListener("change",this.onChange)}routine(t,s){t.type==="radio"?t.checked=Ae(t.value)!==Ae(s):t.checked=!s}getValue(t){return Yi(t)}}o(Yh,"key","unchecked");class Kh extends dr{routine(e,t){return super.routine(e,!t)}}o(Kh,"key","unless");const hp="change input paste blur focus";class Gh extends x{constructor(){super(...arguments);o(this,"publishes",!0);o(this,"priority",3e3);o(this,"event");o(this,"onChange",this.publish.bind(this))}getData(t){const s={type:t.type,tagName:t.tagName,contenteditable:!!t.getAttribute("contenteditable"),isRadio:!1,isOption:!1};return s.isRadio=s.tagName==="INPUT"&&s.type==="radio",s.isOption=s.tagName==="OPTION",s}bind(t){if(t.tagName==="OPTION")return;if(!this.getData(t).isRadio){this.event=t.getAttribute("event-name")||hp;const n=this.event.split(" ");for(const r of n)t.addEventListener(r.trim(),this.onChange,!1)}}unbind(t){if(this.event){const s=this.event.split(" ");for(const n in s)t.removeEventListener(n.trim(),this.onChange)}}routine(t,s){let n=this.getValue(t);if(Array.isArray(s)||(s!=null?s=Ae(s):s=""),Array.isArray(n)||(n!=null?n=Ae(n):n=""),n===s)return;const r=this.getData(t);if(r.isRadio||r.isOption)return rh(t,"value",s);if(t.type==="select-multiple"){if(Array.isArray(s))for(let a=0;a<t.options.length;a++){const l=t.options[a];l.selected=s.indexOf(l.value)>-1}}else t.getAttribute("contenteditable")?t.innerHTML=s:t.value=s}getValue(t){return Yi(t)}}o(Gh,"key","value");const dp=Object.freeze(Object.defineProperty({__proto__:null,AddClassBinder:vh,AnimateStarBinder:gh,AssignBinder:yh,AssignPropertyBinder:bh,AttributeBinder:Nr,BlockBinder:Mo,CheckedBinder:wh,ClassStarBinder:Eh,ComponentAttributeBinder:hr,DisabledBinder:_h,EachStarBinder:$o,ElementBinder:Lh,EnabledBinder:Ih,FlexSortChildsBinder:xh,HideBinder:Oh,HtmlBinder:Nh,IfBinder:dr,MaxlengthBinder:Dh,NoDragBinder:Sh,OnEventBinder:Ph,ParentBinder:Rh,ReadonlyBinder:Mh,RemoveClassBinder:$h,ShowBinder:Bh,SrcsetSizeBinder:Hh,StyleBackgroundImageBinder:Fh,StyleBinder:Uh,StyleStarBinder:zh,TagStarBinder:Wh,TemplateBinder:Vh,TextBinder:jh,ToggleOnEventBinder:qh,UncheckedBinder:Yh,UnlessBinder:Kh,ValueBinder:Gh},Symbol.toStringTag,{value:"Module"}));class up{constructor(e,t,s,n){o(this,"binder");o(this,"component");o(this,"formatter");o(this,"adapter");this.binder=new ch(e),this.component=new hh(t),this.formatter=new dh(s),this.adapter=new lh(n)}register(e){if(!e)throw console.error(e),new Error("The Riba module is falsy!");e.binders&&this.binder.registerAll(e.binders),e.components&&this.component.registerAll(e.components),e.formatters&&this.formatter.registerAll(e.formatters),e.adapters&&this.adapter.registerAll(e.adapters)}}const qs=class{constructor(){o(this,"module");o(this,"lifecycle",Gs.getInstance());o(this,"binders",{});o(this,"components",{});o(this,"formatters",{});o(this,"adapters",{});o(this,"parseTemplate",Ch);o(this,"parseType",We);o(this,"templateDelimiters",["{","}"]);o(this,"rootInterface",".");o(this,"preloadData",!0);o(this,"removeBinderAttributes",!0);o(this,"blockNodeNames",["SCRIPT","STYLE","TEMPLATE","CODE"]);o(this,"blockUnknownCustomElements",!0);o(this,"_prefix",["rv"]);o(this,"_fullPrefix",["rv-"]);if(this.module=new up(this.binders,this.components,this.formatters,this.adapters),qs.instance)return qs.instance;qs.instance=this}static handler(e,t,s,n){if(!this||!this.call){const r=new Error(`[rv-${s.type}="${s.keypath}"] Event handler "${s.keypath}" not found!"`);throw console.error(r,s,n,s.view.models),r}this.call(e,t,s.view.models,n)}set prefix(e){if(Array.isArray(e)){this._prefix=[],this._fullPrefix=[];for(const t of e)this._prefix.push(t),this._fullPrefix.push(t+"-")}}get prefix(){return this._prefix}get fullPrefix(){return this._fullPrefix}configure(e){if(e)for(const[t,s]of Object.entries(e))switch(t){case"binders":this.binders={...this.binders,...s};break;case"formatters":this.formatters={...this.formatters,...s};break;case"components":this.components={...this.components,...s};break;case"adapters":this.adapters={...this.adapters,...s};break;case"prefix":this.prefix=s;break;case"parseTemplate":this.parseTemplate=s;break;case"parseType":this.parseType=s;break;case"templateDelimiters":this.templateDelimiters=s;break;case"rootInterface":this.rootInterface=s;break;case"preloadData":this.preloadData=s;break;case"blockNodeNames":this.blockNodeNames=s;break;case"blockUnknownCustomElements":this.blockUnknownCustomElements=Boolean(s);break;default:console.warn("Option not supported",t,s);break}}getViewOptions(e){const t={adapters:{},binders:{},components:{},formatters:{},attributeBinders:[],rootInterface:{}};if(e&&(t.binders={...t.binders,...e.binders},t.formatters={...t.formatters,...e.formatters},t.components={...t.components,...e.components},t.adapters={...t.adapters,...e.adapters}),e!=null&&e.prefix&&Array.isArray(e==null?void 0:e.prefix)){t.prefix=[],t.fullPrefix=[];for(const s of e.prefix)t.prefix.push(s),t.fullPrefix.push(s+"-")}else t.prefix=this.prefix,t.fullPrefix=this.fullPrefix;if(t.templateDelimiters=(e==null?void 0:e.templateDelimiters)||this.templateDelimiters,t.rootInterface=(e==null?void 0:e.rootInterface)||this.rootInterface,t.removeBinderAttributes=typeof(e==null?void 0:e.removeBinderAttributes)=="boolean"?e.removeBinderAttributes:this.removeBinderAttributes,t.blockNodeNames=(e==null?void 0:e.blockNodeNames)||this.blockNodeNames,t.preloadData=typeof(e==null?void 0:e.preloadData)=="boolean"?e.preloadData:this.preloadData,t.handler=(e==null?void 0:e.handler)||qs.handler,t.binders={...this.binders,...t.binders},t.formatters={...this.formatters,...t.formatters},t.components={...this.components,...t.components},t.adapters={...this.adapters,...t.adapters},t.attributeBinders||(t.attributeBinders=[]),t.binders){const s=Object.keys(t.binders).filter(n=>n.indexOf("*")>=1);t.attributeBinders.push(...s)}return t}bind(e,t={},s){const n=this.getViewOptions(s);_e.updateOptions(n);const r=new Wt(e,t,n);return r.bind(),r}};let Zs=qs;o(Zs,"instance");window.Riba=Zs;const xn=Symbol();function fp(i){return null}const pp=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function mp(i,e,...t){return{tag:i,props:e,children:t}}function Bo(i){if(!i)return"";const{tag:e,props:t,children:s}=i;if(typeof e=="function")return e===fp?String(t.html):Bo(e(Object.assign({children:s},t)));const n=[];if(e!==xn){n.push("<",e);for(const[l,c]of Object.entries(t!=null?t:{}))c!=null&&(typeof c=="boolean"&&!Ue(e)?c&&n.push(" ",l):n.push(" ",l,"=",kr(c)))}let r=!1;return s.length&&(r=!0,e!==xn&&n.push(">"),a(s)),e!==xn&&(r?n.push("</",e,">"):pp.has(e)?n.push("/>"):n.push("></",e,">")),n.join("");function a(l){for(const c of l)c&&(Array.isArray(c)?a(c):typeof c=="string"||typeof c=="number"?n.push(xf(c.toString())):n.push(Bo(c)))}}globalThis.jsxCreateElement=mp;globalThis.jsxFragment=xn;class la extends HTMLElement{constructor(){super();o(this,"_debug",!1);o(this,"_color");o(this,"templateLoaded",!1);o(this,"observedAttributesToCheck",{});o(this,"observedAttributes",[]);this._debug&&(this._color=Ml())}remove(){this&&this.parentElement&&this.parentElement.removeChild(this)}_log(t,...s){const n=this.constructor.name||this.tagName;this._color||(this._color=Ml()),Vf({namespace:n,color:this._color,mode:t},...s)}info(...t){return this._log("info",...t)}debug(...t){if(this._debug)return this._log("debug",...t)}error(...t){console.error(...t)}requiredAttributes(){return[]}async init(t){this.loadAttributes(t),this.getPassedObservedAttributes(t)}ready(){return this.allPassedObservedAttributesAreInitialized()&&this.checkRequiredAttributes()}attributeIsPassed(t){return this.hasAttribute(t)}getPassedObservedAttributes(t){const s=this.observedAttributesToCheck;for(const n of t)s[n]?s[n].passed||(s[n].passed=this.attributeIsPassed(n)):s[n]={passed:!1,initialized:!1}}allPassedObservedAttributesAreInitialized(){return Object.keys(this.observedAttributesToCheck).every(t=>{var s,n;return!((s=this.observedAttributesToCheck[t])!=null&&s.passed)||((n=this.observedAttributesToCheck[t])==null?void 0:n.initialized)})}checkRequiredAttributes(){return this.requiredAttributes().every(t=>(t=ce(t),this.scope.hasOwnProperty(t)&&typeof this.scope[t]<"u"))}parseAttribute(t){let s=t;if(typeof t!="string")return t;if(t==="true")s=!0;else if(t==="false")s=!1;else if(t==="null")s=null;else if(t==="undefined")s=void 0;else if(t==="")s=void 0;else if(!isNaN(Number(t)))s=Number(t),s>=Number.MAX_SAFE_INTEGER&&(s=t);else{const n=Lr(s);s=n||s}return s}eventHandler(t){return function(s,n,r,a){if(!this||!this.call){const l=new Error(`[rv-${r.type}="${r.keypath}"] Event handler "${r.keypath}" not found!"`);throw console.error(r,a),l}this.call(t,n,r.view.models,a)}}connectedCallback(){}disconnectedCallback(){}async attributeChangedCallback(t,s,n,r){this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),n=this.parseAttribute(n);const a=ce(t);this.scope&&this.scope[a]&&(s=this.scope[a]),this.scope[a]=n,this.parsedAttributeChangedCallback(a,s,n,r)}parsedAttributeChangedCallback(t,s,n,r){this.debug("parsedAttributeChangedCallback called",t,s,n,r)}adoptedCallback(t,s){this.debug("adoptedCallback called",t,s)}async loadTemplate(){if(this.templateLoaded===!0)return null;if(!this.checkRequiredAttributes())return this.debug("Not all required attributes are set to load the template"),null;this.templateLoaded=!0;const t=await this.template();try{return t&&(t instanceof HTMLElement?(this.innerHTML="",this.appendChild(t)):typeof t=="string"?this.innerHTML=t:t.tag&&(this.innerHTML=Bo(t))),t}catch(s){throw this.templateLoaded=!1,s}}async beforeTemplate(){}async afterTemplate(t){this.debug("afterTemplate",t)}async onReady(){}observe(t,s){return new _e(this.scope,t,s)}observeAttribute(t,s){const n=ce(t);return this.observe(n,s)}setBinderAttribute(t,s,n=null){const r=ce(t),a=this.scope[r];this.attributeChangedCallback(t,a,s,n)}getBinderAttribute(t){const s=ce(t);return this.scope[s]}loadAttributes(t){const s=this.attributes;for(const n in s){const r=s[n],a=r.nodeName;if(t.indexOf(a)!==-1){const l=r.nodeValue;this.attributeChangedCallback(a,void 0,l,null)}}}}o(la,"tagName");class J extends la{constructor(){super();o(this,"view",null);o(this,"riba");o(this,"_binds",!1);o(this,"_bound",!1);o(this,"_connected",!1);o(this,"_disconnected",!1);o(this,"lifecycleEvents",Y.getInstance("lifecycle"));o(this,"lifecycleOptions",{});o(this,"autobind",!0);this.lifecycleEvents.trigger("Component:constructor",this.getLifecycleEventData()),this.lifecycleEvents.on("ComponentLifecycle:allBound",this.afterAllBind,this)}get binds(){return this._binds}get bound(){return this._bound}get connected(){return this._connected}get disconnected(){return this._disconnected}async init(t){try{return await super.init(t),this.lifecycleEvents.trigger("Component:init",this.getLifecycleEventData()),await this.bindIfReady()}catch(s){this.throw(s)}}throw(t){t.message&&console.error(`[${this.tagName}] ${t.message}`),this.lifecycleEvents.trigger("Component:error",t,this.getLifecycleEventData()),this.error(t)}async bindIfReady(){if(this.ready()){await this.beforeTemplate();const t=await this.loadTemplate();await this.afterTemplate(t),this.autobind&&await this.bind(),await this.onReady();return}this.debug("Not all required or passed attributes are set to load and bind the template",this.observedAttributesToCheck,this.scope)}async _beforeBind(){this._binds=!0,this.debug("Start to bind Riba"),this.lifecycleEvents.trigger("Component:beforeBind",this.getLifecycleEventData())}async beforeBind(){}async _afterBind(){this._binds=!1,this._bound=!0,this.lifecycleEvents.trigger("Component:afterBind",this.getLifecycleEventData())}async afterBind(){}async afterAllBind(){}getLifecycleEventData(){return{tagName:this.tagName.toLowerCase(),component:this,options:this.lifecycleOptions}}disconnectedCallback(){try{this._disconnected=!0,this._connected=!1,super.disconnectedCallback(),this.lifecycleEvents.trigger("Component:disconnected",this.getLifecycleEventData()),this.lifecycleEvents.off("ComponentLifecycle:allBound",this.afterAllBind,this),this.lifecycleEvents.off("ComponentLifecycle:error",this.afterAllBind,this)}catch(t){this.throw(t)}}connectedCallback(){try{this._disconnected=!1,this._connected=!0,super.connectedCallback(),this.lifecycleEvents.trigger("Component:connected",this.getLifecycleEventData())}catch(t){this.throw(t)}}async attributeChangedCallback(t,s,n,r){try{super.attributeChangedCallback(t,s,n,r),await this.bindIfReady()}catch(a){this.throw(a)}}callFormatterHandler(t){return{name:"call",read:(s,...n)=>{if(!s)throw new Error(`[${t.tagName}] Can not use "call" formatter: fn is undefined!`);return s.apply(t,n)}}}argsFormatterHandler(t){return{name:"args",read:(s,...n)=>(r,a,l,c)=>{if(!s)throw new Error(`[${t.tagName}] Can not use "args" formatter: fn is undefined!`);return n.push(r),n.push(a),n.push(l),n.push(c),s.apply(t,n)}}}async bind(){if(this.binds||this.bound)return this.view;if(!this.checkRequiredAttributes()){this.debug("Not all required attributes are set for bind");return}try{await this._beforeBind(),await this.beforeBind(),this.riba=new Zs,this.view=this.getView(),this.view&&(this.scope=this.view.models,this.view.bind()),await this._afterBind(),await this.afterBind()}catch(t){this._binds=!1,this._bound=!1,this.throw(t)}return this.view}getView(){var t;try{const s=(t=this.riba)==null?void 0:t.getViewOptions({handler:this.eventHandler(this),formatters:{call:this.callFormatterHandler(this),args:this.argsFormatterHandler(this)}});return s?new Wt(Array.prototype.slice.call(this.childNodes),this.scope,s):null}catch(s){this.throw(s)}}async unbind(){try{this.view&&(this._binds=!1,this._bound=!1,this.view.unbind(),this.view=null)}catch(t){this.throw(t)}}async build(){try{this.view&&this.view.build()}catch(t){this.throw(t)}}}const gp=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class ca extends J{constructor(){super(...arguments);o(this,"templateAttributes",[]);o(this,"templateReady",!1)}connectedCallback(){this.addItemsByTemplate(),super.connectedCallback(),this.removeTemplates(),this.bindIfReady()}ready(){return super.ready()&&this.templateReady}transformTemplateAttribute(t,s,n){switch(n){case"number":return Number(s);case"boolean":return s==="true";case"string":if(typeof s=="string")return s;if(typeof(s==null?void 0:s.toString)=="function")return s.toString();case"object":return Lr(s)}return We(s).value}transformTemplateAttributes(t,s){return t.index=t.index||s,t}getTemplateAttributes(t,s){const n={};for(const r of this.templateAttributes)typeof t.getAttribute(r.name)!="string"&&r.required?console.error(new Error(`template "${r.name}" attribute is required!`)):n[ce(r.name)]=this.transformTemplateAttribute(r.name,t.getAttribute(r.name));return this.transformTemplateAttributes(n,s)}addItemByTemplate(t,s){const n=this.getTemplateAttributes(t,s),r=t.innerHTML;this.scope.items||(this.scope.items=[]),this.scope.items.push({...n,content:r})}addItemsByTemplate(){const t=this.querySelectorAll("template, .template");for(let s=0;s<t.length;s++){const n=t[s];this.addItemByTemplate(n,s)}this.templateReady=!0}removeTemplates(){const t=this.querySelectorAll("template, .template");for(let s=0;s<t.length;s++){const n=t[s];this.removeChild(n)}}hasOnlyTemplateChilds(){return!Array.from(this.children).some(t=>{var s;return t.nodeName!=="TEMPLATE"&&!((s=t.classList)!=null&&s.contains("template"))&&t.nodeName!=="#text"})}}const vp={name:"contains",read(i,e,t){if(Ve(i))return i.indexOf(e)>-1;if(Array.isArray(i)){if(ke(e)||console.warn("[containsFormatter] The second parameter must be of type number for arrays but is "+typeof e),e=Number(e),ms(e))return ms(t)?i[e]===t:i.includes(e)}else if(lt(i)&&ms(e))return ms(t)?i[e]===t:(Ve(e)||console.warn("[containsFormatter] The second parameter must be of type string for objects"+typeof e),Object.keys(i).includes(String(e)));return!1}},Zh={name:"size",read(i){return i&&i.length?i.length:0}},Xh={name:"empty",read(i){return Zh.read(i)<=0}},ha={name:"get",read(i,e){return lt(i)||Array.isArray(i)?i[e]:Ve(i)&&ke(e)?i.charAt(e):null}},bp={name:"first",read(i){return ha.read(i,0)}},yp={name:"isLast",read(i,e){return i.length===e+1}},wp={name:"last",read(i){return ha.read(i,i.length-1)}},Ep={name:"random",read(i,e=0){if(Array.isArray(i))return i[Math.floor(Math.random()*i.length)];if(ke(i)){const t=i;return Math.floor(Math.random()*(t-e+1)+e)}return null}},_p={name:"range",read(i,e,t){return e=Number(ke(e)?e:0),t=Number(ke(t)?t:i.length-1),t>i.length-1&&(t=i.length-1),e>t?[]:i.slice(Number(e||0),1+t)}},Sp={name:"set",read(i,e,t){return t||(t=e),lt(i)||Array.isArray(i)?i[e]=t:i=t,i}},Tp={name:"overlaps",read(i,e){for(const t of i)for(const s of e)if(t.equals&&t.equals(s)||t===s)return!0;return!1}},Ap={name:"join",read(i,e){return i.join(e)}},Cp={name:"and",read(i,e){return i&&e}},kp={name:"between",read(i,...e){return i>=e[0]&&i<=e[1]}},Lp={name:"egt",read(i,e){return i>=e}},Ip={name:"eq",read(i,e){return i===e}},xp={name:"gt",read(i,e){return i>e}},Op={name:"ne",read(i,e){return i!==e}},Np={name:"lt",read(i,e){return i<e}},Dp={name:"elt",read(i,e){return i<=e}},Pp={name:"or",read(i,e){return i||e}},Rp={name:"not",read(i){return!i}},Mp={name:"plus",read(i,e){return Number(i)+Number(e)}},$p={name:"minus",read(i,e){return Number(i)-Number(e)}},Bp={name:"times",read(i,e){return Number(i)*Number(e)}},Hp={name:"dividedBy",read(i,e){return Number(i)/Number(e)}},Fp={name:"modulo",read(i,e){return Number(i)%Number(e)}},Qh=(i,e)=>e===0?i:Qh(e,i%e),zp={name:"gcd",read:Qh},Up={name:"even",read(i){return i%2===0}},Wp={name:"uneven",read(i){return i%2!==0}},Vp={name:"digits",read(i){return ke(i)?i:Po(i)}},jp={name:"args",read(i,...e){return(t,s,n,r)=>(e.push(t),e.push(s),e.push(n),e.push(r),i.apply(this,e))}},qp={name:"debug",read(i,e="debug"){return console[e](i),i}},Yp={name:"default",read(i,e){return ms(i)?Ve(i)?i.length>0?i:e:i===null?e:i:e}},Kp={name:"is-desktop",read(){return sp()}},Gp={name:"is-mobile",read(){return ep()}},Zp={name:"call",read(i,...e){return i.apply(this,e)}},Xp={name:"call-name",read:function(i,e,...t){return i[e](...t)}},Qp={name:"map",read(i,e,t){const s=Array.prototype.slice.call(arguments);return s.splice(1,2),e[t].apply(e,s)}},Jp={name:"os",read(){return ph()}},tm={name:"prefer",read(i,e){return e||i}},em={name:"ternary",read(i,e,t){return i?e:t}},sm={name:"append",read(i,e){return i+e}},im={name:"capitalize",read(i){return Mf(i)}},nm={name:"cut",read(i,e,t=""){return i?typeof i!="string"?(console.warn("[cutFormatter] Value must be of type string"),i):i.length>e?i.substring(e,e===-1?void 0:-1)+t:i:""}},rm={name:"downcase",read(i){return i.toLowerCase()}},om={name:"ends-with",read(i,e){return typeof i!="string"?(console.warn("[endsWithFormatter] Value must be of type string"),i):i.endsWith(e)}},am={name:"filled",read(i){return Ve(i)&&!Xh.read(i.replace(/\s/g,""))}},Dr={name:"handleize",read(i){return i?Pf(i):(console.warn("[handleizeFormatter] str is not set"),"")}},lm={name:"match",read(i,e,t){return!i||!e?!1:i.match(new RegExp(e,t))}},cm={name:"padStart",read(i,e=2,t="0"){return i.padStart(e,t)}},hm={name:"padEnd",read(i,e=2,t="0"){return i.padEnd(e,t)}},Ho={name:"to-integer",read(i){const e=parseInt(i*1,10);return isNaN(e)?0:e}},Fo={name:"to-float",read(i){const e=parseFloat(i*1);return isNaN(e)?0:e}},zo={name:"to-decimal",read(i){if(!Ho.read)throw new Error("toIntegerFormatter must have a read function");if(!Fo.read)throw new Error("toFloatFormatter must have a read function");const e=Ho.read(i*1),t=Fo.read(i);return e==t?e:t}},Uo={name:"is-integer",read(i){return i===+i&&i===(i|0)}},dm=".",um="'",Hl=2,fm={name:"numberFormat",read(i,e=Hl,t=dm,s=um){if(!zo.read)throw new Error("toDecimalFormatter must have a read function");if(!Uo.read)throw new Error("isIntegerFormatter must have a read function");i=ke(i)?i:zo.read(i),Uo.read(e)||(e=Hl);let n=(+(Math.round(+(Math.abs(i)+"e"+e))+"e"+-e)).toFixed(e);i<0&&(n="-"+n);const r=n.split(".");return r.length==2?r[0].replace(/\B(?=(\d{3})+(?!\d))/g,s)+t+r[1]:r[0].replace(/\B(?=(\d{3})+(?!\d))/g,s)}},pm={name:"pluralize",read(i,e,t){return t===null&&(t=e+"s"),Array.isArray(i)&&(i=i.length),i===1?e:t}},mm={name:"prepend",read(i,e){return e+i}},gm={name:"upcase",read(i){return i.toUpperCase()}},vm={name:"replace",read(i,e,t){return i.replace(new RegExp(e,"g"),t)}},bm={name:"replaceFirst",read(i,e,t){return i.replace(e,t)}},ym={name:"slice",read(i,e,t){return i.slice(e,t)}},wm={name:"starts-with",read(i,e){return typeof i!="string"?(console.warn("[startsWithFormatter] Value must be of type string"),i):i.startsWith(e)}},Em={name:"strip",read(i){return i.trim()}},_m={name:"strip-html",read(i){return lr(i)}},Sm={name:"boolean",read(i){return i==="true"?!0:i==="false"?!1:!!i}},Tm={name:"is-array",read:Array.isArray},Am={name:"is-boolean",read:zs},Cm={name:"is-defined",read:ms},km={name:"is-number",read:ke},Lm={name:"is-object",read:lt},Im={name:"is-string",read(i){return Ve(i)}},xm={name:"is-undefined",read:ih},Om={name:"json",read(i,e=2,t=!0){return kr(i,e,t)}},Nm={name:"parse",read(i){return lt(i)||Array.isArray(i)||typeof i=="boolean"||typeof i=="number"?(console.warn("[parseFormatter] You do not need to parse the value because since it already been parsed"),i):typeof i=="string"?We(i,!0).value:null}},Dm={name:"toBase64",read(i){return kf(i)}},Pm={name:"to-string",read(i,e){if(Array.isArray(i))for(const t in i)i[t]&&(i[t]=Ae(i[t]));else if(lt(i))for(const t in i)i[t]=Ae(i[t]);else i=Ae(i);return e?i||e:i}},Rm={name:"to-number",read(i,e){const t=If(i);return e?t||e:t}},Mm=Object.freeze(Object.defineProperty({__proto__:null,andFormatter:Cp,appendFormatter:sm,argsFormatter:jp,betweenFormatter:kp,booleanFormatter:Sm,callFormatter:Zp,callNameFormatter:Xp,capitalizeFormatter:im,containsFormatter:vp,cutFormatter:nm,debugFormatter:qp,defaultFormatter:Yp,digitsFormatter:Vp,dividedByFormatter:Hp,downcaseFormatter:rm,egtFormatter:Lp,eltFormatter:Dp,emptyFormatter:Xh,endsWithFormatter:om,eqFormatter:Ip,evenFormatter:Up,filledFormatter:am,firstFormatter:bp,gcdFormatter:zp,getFormatter:ha,gtFormatter:xp,handleizeFormatter:Dr,isArrayFormatter:Tm,isBooleanFormatter:Am,isDefinedFormatter:Cm,isDesktopFormatter:Kp,isIntegerFormatter:Uo,isLastFormatter:yp,isMobileFormatter:Gp,isNumberFormatter:km,isObjectFormatter:Lm,isStringFormatter:Im,isUndefinedFormatter:xm,joinFormatter:Ap,jsonFormatter:Om,lastFormatter:wp,ltFormatter:Np,mapFormatter:Qp,matchFormatter:lm,minusFormatter:$p,moduloFormatter:Fp,neFormatter:Op,notFormatter:Rp,numberFormatFormatter:fm,orFormatter:Pp,osFormatter:Jp,overlapsFormatter:Tp,padEndFormatter:hm,padStartFormatter:cm,parseFormatter:Nm,pluralizeFormatter:pm,plusFormatter:Mp,preferFormatter:tm,prependFormatter:mm,randomFormatter:Ep,rangeFormatter:_p,replaceFirstFormatter:bm,replaceFormatter:vm,setFormatter:Sp,sizeFormatter:Zh,sliceFormatter:ym,startsWithFormatter:wm,stripFormatter:Em,stripHtmlFormatter:_m,ternaryFormatter:em,timesFormatter:Bp,toBase64Formatter:Dm,toDecimalFormatter:zo,toFloatFormatter:Fo,toIntegerFormatter:Ho,toNumberFormatter:Rm,toStringFormatter:Pm,unevenFormatter:Wp,upcaseFormatter:gm},Symbol.toStringTag,{value:"Module"})),$m={formatters:Mm,binders:dp,services:zf,components:gp,adapters:Wf,init(i={}){return Ki.setSingleton(i),window.onerror=(e,t,s,n,r)=>{console.error(e,t,s,n,r)},window.addEventListener("error",e=>{console.error(e)}),this}},Ys=class{constructor(){o(this,"history",[]);return Ys.instance||(Ys.instance=this),Ys.instance}currentStatus(){return this.history[this.history.length-1]}prevStatus(){const e=this.history;return e.length<2?null:e[e.length-2]}add(e,t=null){this.history.push({namespace:t,url:e})}};let On=Ys;o(On,"instance");const Mi="router-error",Bm="no-barba",Hm="no-barba-prefetch";class Pr{constructor(e="replace"){o(this,"oldContainer");o(this,"newContainer");o(this,"newContainerLoading");o(this,"deferred",bo());o(this,"action");this.action=e}async init(e,t){this.oldContainer=e,this.deferred=bo();const s=bo();return this.newContainerLoading=s.promise,this.start(),this.newContainer=await t,s.resolve(this.newContainer),this.deferred.promise}async done(){if(!this.oldContainer)throw new Error("Can't remove old container");if(this.action==="replace"&&this.oldContainer.remove(),!this.newContainer)throw new Error("Can't show new container");return this.newContainer.style.visibility="visible",this.deferred.resolve(void 0)}}class Fm extends Pr{async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");await this.newContainerLoading,this.finish()}async finish(){return document.body.scrollTop=0,this.done()}}class Jh extends Pr{constructor(t=!0){super("replace");o(this,"scrollToTop");o(this,"durationMs",200);this.scrollToTop=t}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.oldContainer&&(this.oldContainer.style.transition=`opacity ${this.durationMs}ms`,this.oldContainer.style.opacity="0"),this.scrollToTop&&await Js(window,"start","vertical","smooth");const t=await this.newContainerLoading;t.style.opacity="0",t.style.transition=`opacity ${this.durationMs}ms`,setTimeout(()=>{this.finish(t)},this.durationMs)}async finish(t){return t.style.opacity="1",this.done()}}class Gi extends Pr{constructor(t="replace",s=!0){super(t);o(this,"action");o(this,"scrollToTop");this.action=t,this.scrollToTop=s}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.oldContainer&&(this.oldContainer.style.display="none"),this.scrollToTop&&await Js(window,"start","vertical","smooth"),await this.newContainerLoading,await this.finish(),this.oldContainer&&(this.oldContainer.style.display="")}async finish(){return this.done()}}class zm{constructor(){o(this,"namespace");o(this,"container");o(this,"dispatcher",Y.getInstance())}extend(e){return Ts({deep:!1},this,e)}init(){this.dispatcher.on("initStateChange",(e,t,s)=>{s&&s.namespace===this.namespace&&this.onLeave()}),this.dispatcher.on("newPageReady",(e,t,s,n)=>{this.container=n,t.namespace===this.namespace&&this.onEnter()}),this.dispatcher.on("transitionCompleted",(e,t,s)=>{t.namespace===this.namespace&&this.onEnterCompleted(),s&&s.namespace===this.namespace&&this.onLeaveCompleted()})}}class hs{static getPrefetchLinkElements(e){return e.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]')}static parseTitle(e){let t="";const s=e.querySelector("title");return s&&s.innerText&&(t=s.innerText),t}static parseResponse(e,t,s,n=!0){let r="",a=[];const l=document.createElement("template");return l.innerHTML=e,t&&(r=this.parseTitle(l.content)),n&&(a=this.getPrefetchLinkElements(l.content)),{container:this.getContainer(l,s),title:r,prefetchLinks:a}}static parseInitial(e,t,s=!0){let n="",r=[];const a=this.getContainer(document,t);return e&&(n=this.parseTitle(document)),s&&(r=this.getPrefetchLinkElements(document)),{container:a,title:n,prefetchLinks:r}}static getContainer(e,t){if(!e)throw new Error("Barba.js: [getContainer] No element to get container from, maybe the DOM is not ready!");const s=this.parseContainer(e,t);if(!s)throw new Error("[DOM] No container found");return s}static getNamespace(e){return e&&e.dataset&&e.dataset.namespace?e.dataset.namespace:null}static putContainer(e,t){e=e,e.style.visibility="hidden",t.appendChild(e)}static parseContainer(e,t){if(!e){const n=new Error("New page not loaded!");throw console.error(n,e),n}let s;if(e.content?s=e.content.querySelector(t):s=e.querySelector(t),!s){const n=new Error(`No container with selector "${t}" found!`);throw console.error(n,e),n}return s}}const Ks=class{constructor(e){if(this.viewId=e,this.viewId=e,Ks.instances[this.viewId])return Ks.instances[this.viewId];Ks.instances[this.viewId]=this,this.onLinkEnterIntern=this.onLinkEnterIntern.bind(this)}static getInstance(e="main"){const t=Ks.instances[e];return t||new this(e)}init(e=!1){if(!window.history.pushState)return!1;e&&(this.deInit(),document.body.addEventListener("mouseover",this.onLinkEnterIntern,{passive:!0}),document.body.addEventListener("touchstart",this.onLinkEnterIntern,{passive:!0}))}deInit(){document.body.removeEventListener("mouseover",this.onLinkEnterIntern),document.body.removeEventListener("touchstart",this.onLinkEnterIntern)}initBinder(e,t){if(!window.history.pushState)return!1;this.deInitBinder(e,t),e.addEventListener("mouseover",this.onLinkEnter.bind(this,t,e),{passive:!0}),e.addEventListener("touchstart",this.onLinkEnter.bind(this,t,e),{passive:!0})}deInitBinder(e,t){e.removeEventListener("mouseover",this.onLinkEnter.bind(this,t,e)),e.removeEventListener("touchstart",this.onLinkEnter.bind(this,t,e))}onLinkEnter(e,t,s){if(t.classList&&(t.classList.contains(Hm)||t.classList.contains(Mi)))return;e=le(e).url;const n=pt.preventCheck(e,t,s);if(e&&n){const r=pt.getInstance(this.viewId);r?r.loadResponseCached(e,!1,!1).catch(a=>{t.classList.add(Mi),console.error(e),console.error(a)}):(console.warn(`[Prefetch.onLinkEnter] No pjax instance for viewId "${this.viewId}" found!`),t.classList.add(Mi))}}url(e){e=le(e).url;const t=pt.preventCheck(e);if(e&&t){const s=pt.getInstance(this.viewId);s?s.loadResponseCached(e,!1,!1).catch(n=>{console.error(n)}):console.warn(`[Prefetch.url] No pjax instance for viewId "${this.viewId}" found!`)}}onLinkEnterIntern(e){let t=Ir(e);if(!t)throw new Error("HTML Element not set");for(;t&&!pt.getHref(t);)t=t.parentNode;if(!t||t.nodeName!=="A")return;const s=pt.getHref(t);if(!(t.classList.contains("route")||t.hasAttribute("rv-route"))){if(!s){console.warn("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.",t);return}return this.onLinkEnter(s,t,e)}}};let Xs=Ks;o(Xs,"instances",{});var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ti=1e3,ei=ti*60,si=ei*60,bs=si*24,Um=bs*7,Wm=bs*365.25,Vm=function(i,e){e=e||{};var t=typeof i;if(t==="string"&&i.length>0)return jm(i);if(t==="number"&&isFinite(i))return e.long?Ym(i):qm(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function jm(i){if(i=String(i),!(i.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(e){var t=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return t*Wm;case"weeks":case"week":case"w":return t*Um;case"days":case"day":case"d":return t*bs;case"hours":case"hour":case"hrs":case"hr":case"h":return t*si;case"minutes":case"minute":case"mins":case"min":case"m":return t*ei;case"seconds":case"second":case"secs":case"sec":case"s":return t*ti;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function qm(i){var e=Math.abs(i);return e>=bs?Math.round(i/bs)+"d":e>=si?Math.round(i/si)+"h":e>=ei?Math.round(i/ei)+"m":e>=ti?Math.round(i/ti)+"s":i+"ms"}function Ym(i){var e=Math.abs(i);return e>=bs?_n(i,e,bs,"day"):e>=si?_n(i,e,si,"hour"):e>=ei?_n(i,e,ei,"minute"):e>=ti?_n(i,e,ti,"second"):i+" ms"}function _n(i,e,t,s){var n=e>=t*1.5;return Math.round(i/t)+" "+s+(n?"s":"")}let Km=class{constructor(){this.cache=new Map}get(e){return this.cache.get(e)}set(e,t){this.cache.set(e,t)}keys(){return Array.from(this.cache.keys())}del(e){this.cache.delete(e)}clear(){this.cache.clear()}};var Gm=Km;const Fl=Vm,Zm=Gm;function Xm({cleanupInterval:i="5 mins",customStorage:e}={}){let t=e||new Zm,s;const n=_=>typeof _>"u",r=_=>typeof _<"u",a=_=>typeof _=="function",l=_=>typeof _=="number",c=_=>_&&new Date(_).getTime()<Date.now();async function f(_,S,w){if(w){const p=l(w)?w:Fl(w);return await t.set(_,[S,new Date(Date.now()+p).toISOString()]),S}return await t.set(_,[S]),S}async function g(_,S,w){const p=await t.get(_);if(n(p)){if(r(S)){const A=a(S)?await S():S;return f(_,A,w),A}return}const[E,T]=p;if(c(T)){if(r(S)){const A=a(S)?await S():S;return f(_,A,w),A}t.del(_);return}return E}async function u(_,S){if(S){(await t.keys()).forEach(p=>{p.indexOf(_)===0&&t.del(p)});return}t.del(_)}function v(){return t.clear()}function b(){clearInterval(s)}return i&&(s=setInterval(async()=>{(await t.keys()).forEach(async S=>{const w=await t.get(S);if(w){const p=w[1];c(p)&&t.del(S)}})},Fl(i))),{resolve:g,del:u,clear:v,teardown:b}}var Qm=Xm;class td{constructor(){o(this,"data");this.data={}}set(e,t){return this.data[e]=t,this.data[e]}get(e){return this.data[e]}reset(){this.data={}}}function As(i){return new Promise((e,t)=>{i.oncomplete=i.onsuccess=()=>e(i.result),i.onabort=i.onerror=()=>t(i.error)})}function Jm(i,e){const t=indexedDB.open(i);t.onupgradeneeded=()=>t.result.createObjectStore(e);const s=As(t);return(n,r)=>s.then(a=>r(a.transaction(e,n).objectStore(e)))}let Eo;function tn(){return Eo||(Eo=Jm("keyval-store","keyval")),Eo}function tg(i,e=tn()){return e("readonly",t=>As(t.get(i)))}function eg(i,e,t=tn()){return t("readwrite",s=>(s.put(e,i),As(s.transaction)))}function sg(i,e=tn()){return e("readwrite",t=>(t.delete(i),As(t.transaction)))}function ig(i=tn()){return i("readwrite",e=>(e.clear(),As(e.transaction)))}function ng(i,e){return i.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},As(i.transaction)}function rg(i=tn()){return i("readonly",e=>{if(e.getAllKeys)return As(e.getAllKeys());const t=[];return ng(e,s=>t.push(s.key)).then(()=>t)})}const og={get:tg,set:eg,keys:rg,del:sg,clear:()=>ig()};Qm({customStorage:window.ssr?void 0:og});const ft=class{constructor({id:e,action:t="replace",wrapper:s,containerSelector:n="[data-namespace]",listenAllLinks:r=!1,listenPopstate:a=!0,parseTitle:l=!0,changeBrowserUrl:c=!0,prefetchLinks:f=!0,scrollToTop:g=!0,scrollToAnchorOffset:u=ys.options.scrollToAnchorOffset}){o(this,"history",new On);o(this,"cacheEnabled",!0);o(this,"transitionProgress",!1);o(this,"listenAllLinks");o(this,"listenPopstate");o(this,"parseTitle");o(this,"changeBrowserUrl");o(this,"dispatcher");o(this,"transition");o(this,"wrapper");o(this,"viewId","main");o(this,"containerSelector");o(this,"prefetchLinks");o(this,"scrollToAnchorOffset");e&&(this.viewId=e);let v=this;return this.scrollToAnchorOffset=u||0,this.dispatcher=new Y(this.viewId),this.listenAllLinks=r,this.listenPopstate=a,this.parseTitle=l,this.changeBrowserUrl=c,this.containerSelector=n,this.prefetchLinks=f,ft.instances[this.viewId]&&(v=ft.instances[this.viewId]),v.transition=v.transition||new Gi(t,g),v.wrapper=v.wrapper||s,v.containerSelector=v.containerSelector||n,v.listenAllLinks=zs(v.listenAllLinks)?v.listenAllLinks:r,v.listenPopstate=zs(v.listenPopstate)?v.listenPopstate:a,v.parseTitle=zs(v.parseTitle)?v.parseTitle:l,v.changeBrowserUrl=zs(v.changeBrowserUrl)?v.changeBrowserUrl:c,v.prefetchLinks=zs(v.prefetchLinks)?v.prefetchLinks:f,v.wrapper&&v.wrapper.setAttribute("aria-live","polite"),ft.instances[this.viewId]=v,ft.instances[this.viewId]}static getInstance(e="main"){const t=ft.instances[e];return t||console.warn(`[Pjax.getInstance] No pjax instance for viewId "${e}" found!`),t}static preventCheckUrl(e){const t=document.createElement("a");return t.setAttribute("href",e),!(!t||!e||wo(e)===wo(location.href)||window.location.protocol!==t.protocol||window.location.hostname!==t.hostname||Bl()!==Bl(t.port))}static preventCheck(e,t,s){return!(!window.history.pushState||!this.preventCheckUrl(e)||s&&(s&&s.which&&s.which>1||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey)||t&&(t.target&&t.target==="_blank"||t.getAttribute&&typeof t.getAttribute("download")=="string"||t.classList.contains(Bm)))}static getHref(e){if(e){if(e.getAttribute&&typeof e.getAttribute("xlink:href")=="string")return e.getAttribute("xlink:href")||void 0;if(typeof e.href=="string"||e.hasAttribute&&e.hasAttribute("href")){const t=e.href||e.getAttribute("href");if(!t)throw console.error("href attribute not found for element: ",e),new Error("href attribute not found!");return t}}}setActiveWrapper(e){this.wrapper=e}start(){if(this.wrapper)try{this.init(this.wrapper,this.listenAllLinks,this.listenPopstate)}catch(e){console.error(e)}else console.error("Can't init pjax without wrapper")}getCurrentUrl(){return wo(cr())}goTo(e,t=!1){if(t){const s=window.open(e,"_blank");return s?s.focus():!1}if(e.startsWith("http")&&(e=le(e).url),e.startsWith("http"))this.forceGoTo(e);else return this.changeBrowserUrl&&window.history.pushState(null,"",e),this.onStateChange(void 0,e)}getTransition(){return this.transition||new Gi}prefetchLink(e){if(e=le(e).url,ft.preventCheckUrl(e))return this.loadResponseCached(e,!0,!1)}prefetchLinkElement(e,t){const s=e.getAttribute("rel"),n=ft.getHref(e);if(s==="router-preload"&&n&&this.cacheEnabled&&!e.classList.contains(Mi))try{this.prefetchLink(n)}catch(r){e.classList.add(Mi),console.error(r)}t.appendChild(e)}removePrefetchLinks(e){e.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]').forEach(s=>{s&&s.parentNode&&s.parentNode.removeChild(s)})}replacePrefetchLinkElements(e){const t=document.head||document.getElementsByTagName("head")[0];this.removePrefetchLinks(t),e.forEach(s=>{this.prefetchLinkElement(s,t)})}async loadCached(e){try{const{responsePromise:t}=await this.loadResponseCached(e,!1,!0);if(!this.wrapper)throw new Error("[Pjax] you need a wrapper!");const s=await t;return hs.putContainer(s.container,this.wrapper),this.parseTitle===!0&&s.title&&(document.title=s.title),this.prefetchLinks===!0&&s.prefetchLinks&&this.replacePrefetchLinkElements(s.prefetchLinks),s.container}catch(t){throw console.error(t),this.forceGoTo(e),t}}async loadResponseCached(e,t=!1,s=!0){let n;try{if(this.cacheEnabled&&(n=ft.cache.get(e),n))return{fromCache:!0,responsePromise:n};n=this.loadResponse(e,t),this.cacheEnabled&&n&&ft.cache.set(e,n)}catch(r){throw console.error(r),s&&this.forceGoTo(e),r}return{fromCache:!1,responsePromise:n}}async loadResponse(e,t=!1){const s=t?{cache:"force-cache"}:{},n=await Ji.get(e,void 0,"html",{},s);if(!n||!n.body)throw new Error("No body!");return hs.parseResponse(n.body,this.parseTitle,this.containerSelector,this.prefetchLinks)}bindEvents(e,t){e&&document.addEventListener("click",this.onLinkClickIntern.bind(this)),t&&window.addEventListener("popstate",this.onStateChange.bind(this))}forceGoTo(e){console.warn("forceGoTo",e),e&&e.href&&(window.location=e),typeof e=="string"&&(window.location.href=e)}onLinkClickIntern(e){let t=Ir(e);for(;t&&!ft.getHref(t);)t=t.parentNode;if(!t||t.nodeName!=="A")return;const s=ft.getHref(t);if(!(t.classList.contains("route")||t.hasAttribute("rv-route"))){if(!s)throw new Error("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.");return t.classList.contains("route")||t.hasAttribute("rv-route")?!1:this.onLinkClick(e,t,s)}}onLinkClick(e,t,s,n=!1){const{url:r,location:a}=le(s),{location:l}=le();if(a.hash&&l.pathname===a.pathname){let f=a.hash.slice(1);f=decodeURI(f);const g=document.getElementById(f);if(g)return e.stopPropagation(),e.preventDefault(),this.changeBrowserUrl&&window.history.pushState(null,"",r),Qi(g,this.scrollToAnchorOffset)}if(!r)throw new Error("url is falsy");ft.preventCheck(r,t,e)&&(e.stopPropagation(),e.preventDefault(),this.dispatcher.trigger("linkClicked",t,e),this.goTo(r,n))}async onStateChange(e,t=this.getCurrentUrl()){t=le(t).url;const s=le(this.history.currentStatus().url).url;if(this.changeBrowserUrl&&s===t)return!1;this.history.add(t),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus(),this.history.prevStatus());const n=hs.getContainer(document,this.containerSelector),r=this.loadCached(t),a=this.getTransition();this.transitionProgress=!0;const l=a.init(n,r);this.onNewContainerLoaded(await r),await l,this.onTransitionEnd()}onNewContainerLoaded(e){const t=this.history.currentStatus();t.namespace=hs.getNamespace(e);const s=Nl(e);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),this.history.prevStatus(),e,e.innerHTML,s,!1)}onTransitionEnd(){this.transitionProgress=!1,this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus(),this.history.prevStatus())}init(e,t,s){const n=hs.parseInitial(this.parseTitle,this.containerSelector,this.prefetchLinks),r=window.location.pathname;if(this.cacheEnabled){const l=le(window.location.href).url;ft.cache.get(r)||this.loadResponseCached(l,!1,!1)}this.replacePrefetchLinkElements(n.prefetchLinks),this.wrapper=e,this.history.add(this.getCurrentUrl(),hs.getNamespace(n.container)),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus());const a=Nl(n.container);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),{},n.container,n.container.innerHTML,a,!0),this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus()),this.bindEvents(t,s)}};let pt=ft;o(pt,"cache",new td),o(pt,"instances",{});class ys{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of RouterService not defined, please call setSingleton first!")}static setSingleton(e={}){var t,s;return this.instance?(console.warn("Singleton of RouterService already defined!"),this.instance):(e.defaultTransition=(t=e.defaultTransition)!=null?t:new Gi,e.scrollToAnchorOffset=(s=e.scrollToAnchorOffset)!=null?s:0,this._options=e,this.instance=new this,this.instance)}}o(ys,"_options"),o(ys,"instance");const ag=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Pr,BaseView:zm,CustomTransition:Fm,Dom:hs,FadeTransition:Jh,HideShowTransition:Gi,Pjax:pt,Prefetch:Xs,RouterService:ys},Symbol.toStringTag,{value:"Module"})),lg=Dr.read;class Wo extends x{constructor(){super(...arguments);o(this,"nested",null)}async routine(t,s){const n=t;s=s||{},s.listenAllLinks=!1,s.listenPopstate=!1,s.parseTitle=!1,s.transition=s.transition||new Gi,s.viewId=s.viewId||t.getAttribute("id")||lg(s.url),s.containerSelector=s.containerSelector||"[data-namespace]",s.changeBrowserUrl=!1;const r=new pt(s),{responsePromise:a}=await r.loadResponseCached(s.url,!1,!1),l=await a;n.replaceWith(l.container),l.container.style.visibility="visible",lt(this.view.models)||(this.view.models={}),this.nested&&this.nested.unbind(),this.nested=new Wt(l.container,this.view.models,this.view.options),this.nested.bind()}unbind(){this.nested&&this.nested.unbind()}}o(Wo,"key","view-static"),o(Wo,"block",!0);class ed extends x{constructor(){super(...arguments);o(this,"prefetch");o(this,"options",{url:"",viewId:"main",removeAfterActivation:!1,newTab:!1,newTabOnExtern:!0});o(this,"onClick",this._onClick.bind(this))}_onClick(t){const s=pt.getInstance(this.options.viewId);if(Or(this.options.url,!0))console.info("already on this site, do nothing"),t.stopPropagation(),t.preventDefault();else if(rp(this.options.url)){if(!s)return;t.stopPropagation(),t.preventDefault();const n=this.options.newTab||this.options.newTabOnExtern;s.goTo(this.options.url,n)}else if(this.options.url){if(!s)return;s.onLinkClick(t,this.el,this.options.url,this.options.newTab)}this.options.removeAfterActivation&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}bind(t){t.classList.add("route"),!window.ssr&&(this.onClick=this.onClick.bind(this),t.addEventListener("click",this.onClick))}routine(t,s){Ve(s)?this.options.url=s:lt(s)&&(this.options=s),this.options.viewId=this.options.viewId||"main",this.prefetch=new Xs(this.options.viewId),this.options.newTab=!1;const n=t.tagName==="A";if(!this.options.url&&n){const r=t.getAttribute("href");r&&(this.options.url=r)}t.getAttribute("target")==="_blank"&&(this.options.newTab=!0),this.options.url=le(this.options.url).url,n&&(!t.href||!t.getAttribute("href"))&&this.options.url&&(t.setAttribute("href",this.options.url),t.href=this.options.url),this.options.newTab||this.prefetch.initBinder(t,this.options.url)}unbind(t){var s;(s=this.prefetch)==null||s.deInitBinder(t,this.options.url),t.removeEventListener("click",this.onClick)}}o(ed,"key","route");class sd extends x{constructor(){super(...arguments);o(this,"dispatcher",new Y("main"));o(this,"url");o(this,"className","");o(this,"onUrlChange",this._onUrlChange.bind(this))}_onUrlChange(){if(this.url){if(Or(this.url))return this.el.classList.add(this.className),this.el.getAttribute("type")==="radio"&&(this.el.checked=!0),!0;this.el.classList.remove(this.className),this.el.getAttribute("type")==="radio"&&(this.el.checked=!1)}return!1}bind(){this.dispatcher.on("newPageReady",this.onUrlChange)}routine(t,s){this.url=s,this.className=this.args[0].toString()||"active";const n=t.tagName==="A";if(!this.url&&n){const r=t.getAttribute("href");r&&(this.url=r)}this.onUrlChange()}unbind(){this.dispatcher.off("newPageReady",this.onUrlChange)}}o(sd,"key","route-class-*");class id extends x{routine(e,t){var n;if(window.ssr)return;const s=e.tagName==="A";if(!t&&s){const r=e.getAttribute("href");r&&(t=r)}t&&((n=pt.getInstance())==null||n.prefetchLink(t))}}o(id,"key","route-preload");class nd extends x{constructor(){super(...arguments);o(this,"dispatcher",new Y("main"));o(this,"className");o(this,"url");o(this,"onUrlChange",this._onUrlChange.bind(this))}_onUrlChange(){if(!this.url)throw new Error("url is not defined!");if(!this.className)throw new Error("className is not defined!");return ip(this.url)?(this.el.classList.add(this.className),this.el.getAttribute("type")==="radio"&&(this.el.checked=!0),!0):(this.el.classList.remove(this.className),this.el.getAttribute("type")==="radio"&&(this.el.checked=!1),!1)}routine(t,s){this.url=s,this.className=this.args[0].toString()||"active";const n=t.tagName==="A";if(!this.url&&n){const r=t.getAttribute("href");r&&(this.url=r)}this.onUrlChange()}bind(){this.dispatcher.on("newPageReady",this.onUrlChange)}unbind(){this.dispatcher.off("newPageReady",this.onUrlChange)}}o(nd,"class","parent-route-class-*");const _o=()=>{window.history.back()};class rd extends x{constructor(){super(...arguments);o(this,"priority",3e3);o(this,"eventName")}unbind(t){this.eventName&&t.removeEventListener(this.eventName,_o)}routine(t){if(this.args===null)throw new Error("args is null");this.eventName&&t.removeEventListener(this.eventName,_o),this.eventName=this.args[0],t.addEventListener(this.args[0],_o)}}o(rd,"key","route-back-on-*");const cg=Object.freeze(Object.defineProperty({__proto__:null,ParentRouteClassStarBinder:nd,RouteBackOnStarBinder:rd,RouteBinder:ed,RouteClassStarBinder:sd,RoutePreloadBinder:id,ViewStaticBinder:Wo},Symbol.toStringTag,{value:"Module"})),Pa=class extends J{constructor(){super();o(this,"autobind",!1);o(this,"scope",{src:"",id:"",async:!0,defer:!0})}static get observedAttributes(){return["src","id","async","defer"]}connectedCallback(){super.connectedCallback(),super.init(Pa.observedAttributes)}async onReady(){await super.onReady(),this.scope.id||(this.scope.id=ah("script-")),Ff(this.scope.src,this.scope.id,this.scope.async)}requiredAttributes(){return["src"]}template(){return null}};let Nn=Pa;o(Nn,"tagName","router-load-script");const Vi=class extends J{constructor(){super();o(this,"events",Y.getInstance("main"));o(this,"nested",null);o(this,"wrapper",null);o(this,"pjax",null);o(this,"prefetch",null);o(this,"scope",{id:"main",action:"replace",scrollToTop:!0,listenAllLinks:!0,listenPopstate:!0,scrollToAnchorHash:!0,scrollToAnchorOffset:ys.options.scrollToAnchorOffset,datasetToRootScope:!0,parseTitle:!0,changeBrowserUrl:!0,prefetchLinks:!0,transition:ys.options.defaultTransition})}static get observedAttributes(){return["id","action","container-selector","scroll-to-top","listen-all-links","listen-popstate","scroll-to-anchor-hash","scroll-to-anchor-offset","dataset-to-root-scope","parse-title","change-browser-url","prefetch-links"]}connectedCallback(){super.connectedCallback(),this.init(Vi.observedAttributes)}addEventListeners(){this.events.on("newPageReady",this.onPageReady,this),this.events.on("initStateChange",this.onTransitionInit,this),this.events.on("transitionCompleted",this.onTransitionCompleted,this)}removeEventListeners(){this.events.off("newPageReady",this.onPageReady,this),this.events.off("initStateChange",this.onTransitionInit,this),this.events.off("transitionCompleted",this.onTransitionCompleted,this)}getContainerSelector(){return this.scope.id==="main"?`${Vi.tagName} > *:first-child`:`${Vi.tagName}#${this.scope.id} > *:first-child`}initAndStartPjax(){if(!this.scope.id){console.error("Id attribute is required!");return}const t={id:this.scope.id,action:this.scope.action,wrapper:this,containerSelector:this.getContainerSelector(),listenAllLinks:!!this.scope.listenAllLinks,listenPopstate:!!this.scope.listenPopstate,transition:this.scope.transition,parseTitle:!!this.scope.parseTitle,changeBrowserUrl:!!this.scope.changeBrowserUrl,prefetchLinks:!!this.scope.prefetchLinks,scrollToTop:!!this.scope.scrollToTop};this.pjax=new pt(t),this.pjax.setActiveWrapper(this),this.prefetch=new Xs(this.scope.id),this.prefetch.init(t.prefetchLinks),this.pjax.start()}onPageReady(t,s,n,r,a,l,c){if(t!==this.scope.id){console.warn("not the right view",this.scope.id,t,l);return}if(this.debug("New page ready!",this.innerHTML),this.scope.datasetToRootScope&&(this.scope.$root||(this.scope.$root={}),this.scope.$root.dataset=l),!c){if(this.view=this.getView(),!this.view){console.warn("View ist not ready!");return}this.view.bind()}}async onTransitionInit(t){t===this.scope.id&&this.setTransitionClass("init")}async onTransitionCompleted(t){if(t===this.scope.id){if(this.setTransitionClass("complete"),this.scope.scrollToAnchorHash){let s=null;if(window.location.hash.substr(1)&&(s=document.getElementById(window.location.hash.substr(1)),s))return await Qi(s,this.scope.scrollToAnchorOffset,window)}if(this.scope.scrollToTop)return await Js(window,"start","vertical","smooth")}}setTransitionClass(t){this.classList.remove("transition-init"),this.classList.remove("transition-complete"),this.classList.add(`transition-${t}`)}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,s,n,r){switch(super.parsedAttributeChangedCallback(t,s,n,r),t){case"id":this.events=Y.getInstance(this.scope.id);break}}async beforeBind(){await super.beforeBind(),this.addEventListeners(),this.initAndStartPjax()}template(){return null}};let Dn=Vi;o(Dn,"tagName","router-view");const hg=Object.freeze(Object.defineProperty({__proto__:null,RouterLoadScriptComponent:Nn,RouterViewComponent:Dn},Symbol.toStringTag,{value:"Module"})),dg={binders:cg,components:hg,services:ag,formatters:{},init(i={}){return ys.setSingleton(i),this}},ug=i=>i,fg=i=>i*i,pg=i=>i*(2-i),mg=i=>i<.5?2*i*i:-1+(4-2*i)*i,gg=i=>i*i*i,vg=i=>--i*i*i+1,bg=i=>i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1,yg=i=>i*i*i*i,wg=i=>1- --i*i*i*i,Eg=i=>i<.5?8*i*i*i*i:1-8*--i*i*i*i,_g=i=>i*i*i*i*i,Sg=i=>1+--i*i*i*i*i,Tg=i=>i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i,Se=i=>{const e=i,t=i;return e.document&&e.location?{x:e.pageXOffset,y:e.pageYOffset,maxX:document.documentElement.scrollWidth-document.documentElement.clientWidth,maxY:document.documentElement.scrollHeight-document.documentElement.clientHeight}:{x:t.scrollLeft,y:t.scrollTop,maxX:t.scrollWidth-t.clientWidth,maxY:t.scrollHeight-t.clientHeight}},od=i=>{const e=Se(i);return e.maxX>0||e.maxY>0},Ag=Object.freeze(Object.defineProperty({__proto__:null,easeInCubic:gg,easeInOutCubic:bg,easeInOutQuad:mg,easeInOutQuart:Eg,easeInOutQuint:Tg,easeInQuad:fg,easeInQuart:yg,easeInQuint:_g,easeOutCubic:vg,easeOutQuad:pg,easeOutQuart:wg,easeOutQuint:Sg,getScrollPosition:Se,isScrollable:od,linear:ug},Symbol.toStringTag,{value:"Module"})),Ra=class{static getFps(){return this.fps}static startLoop(e={}){this.setOptions(e),this.loopStarted||(this.loopStarted=!0,window.requestAnimationFrame(this.loop.bind(this)))}static setOptions(e){this.maxFPS=typeof e.maxFPS=="number"?e.maxFPS:this.maxFPS}static loop(e){if(e<this.lastFrameTimeMs+1e3/this.maxFPS){this.frameID=window.requestAnimationFrame(this.loop.bind(this));return}const t=e-this.lastFrameTimeMs;this.delta+=t,this.lastFrameTimeMs=e,this.begin(e,this.delta),e>this.lastFpsUpdate+1e3&&(this.fps=.25*this.framesThisSecond+.75*this.fps,this.lastFpsUpdate=e,this.framesThisSecond=0),this.framesThisSecond++;let s=0;for(;this.delta>=this.timestep;)if(this.update(this.timestep),this.delta-=this.timestep,++s>=240){this.panic();break}this.render(this.delta/this.timestep),this.end(this.fps),this.frameID=window.requestAnimationFrame(this.loop.bind(this))}static begin(e,t){this.events.trigger("begin",e,t)}static render(e){this.events.trigger("render",e)}static update(e){this.events.trigger("update",e)}static end(e){this.events.trigger("end",e)}static panic(){this.delta=0}constructor(e={}){Ra.setOptions(e)}};let at=Ra;o(at,"events",new Y("gameloop")),o(at,"maxFPS",60),o(at,"fps",60),o(at,"timestep",1e3/60),o(at,"loopStarted",!1),o(at,"lastFrameTimeMs",0),o(at,"delta",0),o(at,"framesThisSecond",0),o(at,"lastFpsUpdate",0),o(at,"frameID",0);class da{constructor(e,t={}){o(this,"touchCapable","ontouchstart"in window);o(this,"direction",1);o(this,"limit");o(this,"options");o(this,"el");o(this,"_pause",!1);o(this,"velocity",.008);o(this,"move",0);o(this,"lastMove",0);o(this,"angle","horizontal");o(this,"pauseOnHover",!0);o(this,"resumeTimer",null);o(this,"onResize",je(this._onResize.bind(this)));o(this,"onScroll",je(this._onScroll.bind(this)));this.el=e,this.options=t,this.direction=this.options.direction||this.direction,this.velocity=this.options.velocity||this.velocity,this.angle=this.options.angle||this.angle,this.pauseOnHover=typeof this.options.pauseOnHover=="boolean"?this.options.pauseOnHover:this.pauseOnHover,this.limit=this.getLimit(this.el),this.move=this.getPosition(),this.direction===-1?this.el.scrollLeft=this.limit:this.el.scrollLeft=0,this.addEventListeners(),at.startLoop({maxFPS:60})}update(){this.limit=this.getLimit(this.el),this.setPosition()}destroy(){this.removeEventListeners()}pause(){this.el.style.scrollBehavior="",this._pause=!0}resume(e=0){this._pause&&(this.stopResumeTimeout(),this.resumeTimer=window.setTimeout(()=>{this.setPosition(),this._pause=!1,this.el.style.scrollBehavior="auto"},e))}addEventListeners(){this.removeEventListeners(),this.onResize=this.onResize.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onScroll=this.onScroll.bind(this),this.render=this.render.bind(this),this.updateMove=this.updateMove.bind(this),window.addEventListener("resize",this.onResize,{passive:!0}),this.el.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.el.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.el.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.el.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.el.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.el.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.touchCapable?(this.el.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollended",this.onMouseUp,{passive:!0})):(this.el.addEventListener("scroll",this.onScroll,{passive:!0}),this.el.addEventListener("scrollend",this.onScroll,{passive:!0}),this.el.addEventListener("scrollended",this.onScroll,{passive:!0})),at.events.on("render",this.render),at.events.on("update",this.updateMove)}removeEventListeners(){window.removeEventListener("resize",this.onResize),this.el.removeEventListener("mouseenter",this.onMouseIn),this.el.removeEventListener("mouseover",this.onMouseIn),this.el.removeEventListener("focusin",this.onMouseIn),this.el.removeEventListener("touchstart",this.onMouseIn),this.el.removeEventListener("mouseleave",this.onMouseOut),this.el.removeEventListener("focusout",this.onMouseOut),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("touchend",this.onMouseUp),this.touchCapable?(this.el.removeEventListener("scroll",this.onMouseUp),this.el.removeEventListener("scrollend",this.onMouseUp),this.el.removeEventListener("scrollended",this.onMouseUp)):(this.el.removeEventListener("scroll",this.onScroll),this.el.removeEventListener("scrollend",this.onScroll),this.el.removeEventListener("scrollended",this.onScroll)),at.events.off("render",this.render),at.events.off("update",this.updateMove)}onMouseIn(){this.pauseOnHover&&this.pause()}onMouseOut(){this.resume(200)}onMouseUp(){this.resume(1e3)}_onResize(){this.limit=this.getLimit(this.el),this.resume(200)}_onScroll(){this.stopResumeTimeout()}stopResumeTimeout(){this.resumeTimer!==null&&(clearTimeout(this.resumeTimer),this.resumeTimer=null)}getPosition(){return(this.angle==="vertical"?this.el.scrollTop:this.el.scrollLeft)||0}setPosition(){this.move=this.getPosition()}getLimit(e){return this.angle==="vertical"?Se(e).maxY:Se(e).maxX}render(){this._pause||this.scroll(this.move)}updateMove(e){if(this._pause)return;this.lastMove=this.move;const t=this.velocity*this.direction*e;this.move+=t,this.move<=0&&this.direction!==1&&(this.direction=1),this.move>=this.limit&&this.direction!==-1&&(this.direction=-1)}scroll(e){this.angle==="vertical"?this.el.scrollTop=e:this.el.scrollLeft=e}}class ua{constructor(e,t={detectGlobalMove:!0}){o(this,"options");o(this,"lastClientX",0);o(this,"lastClientY",0);o(this,"el");o(this,"pushed",!1);o(this,"touchCapable","ontouchstart"in window);o(this,"checkDraggable",je(this._checkDraggable.bind(this)));if(this.el=e,this.options=t,this.touchCapable)return this;this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.checkDraggable=this.checkDraggable.bind(this),e.removeEventListener("mousedown",this.onMouseDown),e.addEventListener("mousedown",this.onMouseDown,{passive:!0}),window.addEventListener("resize",this.checkDraggable),this.options.detectGlobalMove?(window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp,{passive:!0}),window.addEventListener("mousemove",this.onMouseMove,{passive:!0})):(e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mousemove",this.onMouseMove),e.addEventListener("mouseup",this.onMouseUp,{passive:!0}),e.addEventListener("mousemove",this.onMouseMove,{passive:!0})),this.checkDraggable()}destroy(){this.removeEventListeners(),this.el.classList.remove("draggable")}_checkDraggable(){od(this.el)?this.el.classList.add("draggable"):this.el.classList.remove("draggable")}onMouseDown(e){this.pushed=!0,this.lastClientX=e.clientX,this.lastClientY=e.clientY}onMouseUp(){this.pushed=!1}onMouseMove(e){let t=0,s=0;this.pushed&&(this.el.scrollLeft-=t=-this.lastClientX+(this.lastClientX=e.clientX),this.el.scrollTop-=s=-this.lastClientY+(this.lastClientY=e.clientY),this.el===document.body&&(document.documentElement&&(this.el=document.documentElement),this.el.scrollLeft-=t,this.el.scrollTop-=s))}removeEventListeners(){window.removeEventListener("resize",this.checkDraggable),this.el.removeEventListener("mousedown",this.onMouseDown),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("mousemove",this.onMouseMove)}}class ur{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of ExtrasService not defined, please call setSingleton first!")}static setSingleton(e={}){if(this.instance)throw new Error("Singleton of ExtrasService already defined!");return this._options=e,this.instance=new this,this.instance}}o(ur,"_options"),o(ur,"instance");const ps=class{constructor(){o(this,"enterK","requestFullscreen");o(this,"exitK","exitFullscreen");o(this,"elementK","fullscreenElement");o(this,"eventK","fullscreenchange");const e=document.documentElement,t="fullscreenchange";e.requestFullscreen?(this.enterK="requestFullscreen",this.exitK="exitFullscreen",this.elementK="fullscreenElement",this.eventK=t):e.mozRequestFullScreen?(this.enterK="mozRequestFullScreen",this.exitK="mozCancelFullScreen",this.elementK="mozFullScreenElement",this.eventK="moz"+t):e.webkitRequestFullscreen?(this.enterK="webkitRequestFullscreen",this.exitK="webkitExitFullscreen",this.elementK="webkitFullscreenElement",this.eventK="webkit"+t):e.msRequestFullscreen&&(this.enterK="msRequestFullscreen",this.exitK="msExitFullscreen",this.elementK="msFullscreenElement",this.eventK="MSFullscreenChange")}static getSingleton(){return ps.instance||(ps.instance=new ps),ps.instance}static supported(){const e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)}enter(e){e||(e=document.body),!this.isFullscreen()&&(this.enterK==="webkitRequestFullscreen"?e[this.enterK](Element.ALLOW_KEYBOARD_INPUT):e[this.enterK]())}exit(){this.isFullscreen()&&document[this.exitK]()}isFullscreen(){return document[this.elementK]}toggle(e){if(this.isFullscreen()){this.exit();return}else this.enter(e)}};let Qs=ps;o(Qs,"instance");class ad{constructor(e){o(this,"touchCapable","ontouchstart"in window);o(this,"el");this.el=e}get isTouchCapable(){return this.touchCapable}triggerCustomEvent(e,t,s={}){s.originalEvent=t,s.target=t.target;const n=new CustomEvent(e,{detail:s});this.el.dispatchEvent(n)}}class fa extends ad{constructor(t,s={}){super(t);o(this,"isScrolling",!1);o(this,"_scrollEvent");o(this,"delay",300);o(this,"startPosition",null);o(this,"endPosition",null);o(this,"scrollTimer",null);o(this,"onScrollEvent",this._onScrollEvent.bind(this));o(this,"scroll",this._scroll.bind(this));this.el=t,this.delay=s.delay||this.delay,this.startPosition=Se(this.el),this._scrollEvent=this.touchCapable?["touchmove","scrollend","scroll"]:["scroll","scrollend"],this.removeEventListeners(),this.addEventListeners()}destroy(){this.removeEventListeners()}get scrollEvent(){return this._scrollEvent}getScrollDir(t,s){return!t||!s?"unknown":t.x>s.x?"right":t.x<s.x?"left":t.y>s.y?"down":t.y<s.y?"up":"none"}removeEventListeners(){for(const t of this._scrollEvent)this.el.removeEventListener(t,this.onScrollEvent)}addEventListeners(){for(const t of this._scrollEvent)this.el.addEventListener(t,this.onScrollEvent,{passive:!0})}_onScrollEvent(t){return t.target?(this.scrollTimer!==null&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),this.isScrolling||this.scrollstart(t),this.isScrolling&&this.scroll(t),this.scrollTimer=window.setTimeout(()=>{this.scrollended(t)},this.delay),!0):!1}scrollended(t){this.isScrolling=!1,this.endPosition=Se(this.el);const s=this.getScrollDir(this.startPosition,this.endPosition);this.triggerCustomEvent("scrollended",t,{startPosition:this.startPosition,endPosition:this.endPosition,direction:s})}scrollstart(t){this.isScrolling=!0,this.startPosition=Se(this.el),this.triggerCustomEvent("scrollstart",t,{startPosition:this.startPosition})}_scroll(t){const s=Se(this.el),n=this.getScrollDir(this.startPosition,s);this.triggerCustomEvent("scroll"+n,t,{startPosition:this.startPosition,currentPosition:s,direction:n}),this.triggerCustomEvent("scrolling",t,{startPosition:this.startPosition,currentPosition:s,direction:n})}}var V=(i=>(i[i.DEFAULT=0]="DEFAULT",i[i.TARGET=1]="TARGET",i[i.CHANGED=2]="CHANGED",i))(V||{});class pa extends ad{constructor(t,s={tapPixelRange:5,swipeHThreshold:50,swipeVThreshold:50,tapholdThreshold:750,doubletapInterval:500,shakeThreshold:15,touchCapable:"ontouchstart"in window,startevent:["touchstart"],endevent:["touchend"],moveevent:["touchmove"],tapevent:["tap"]}){super(t);o(this,"startPosition",{x:0,y:0});o(this,"endPosition",{x:0,y:0});o(this,"originalCoord",{x:0,y:0});o(this,"finalCoord",{x:0,y:0});o(this,"startEvnt",null);o(this,"tapheld",!1);o(this,"firstTap",null);o(this,"cooling",!1);o(this,"doubletapped",!1);o(this,"lastTouch",0);o(this,"hasSwiped",!1);o(this,"tapStarted",!1);o(this,"swipeStarted",!1);o(this,"startTime",0);o(this,"holdTimer",-1);o(this,"tapTimer",-1);o(this,"actionTimer",-1);o(this,"settings");this.el=t,s.startevent=s.touchCapable?["touchstart"]:["mousedown"],s.endevent=s.touchCapable?["touchend"]:["mouseup"],s.moveevent=s.touchCapable?["touchmove"]:["mousemove"],s.tapevent=s.touchCapable?["tap"]:["click"],this.settings=s,this.onStartEvent=this.onStartEvent.bind(this),this.onMoveEvent=this.onMoveEvent.bind(this),this.onEndEvent=this.onEndEvent.bind(this),this.addEventListeners()}get isTouchCapable(){return this.settings.touchCapable}get startEvent(){return this.settings.startevent}get endEvent(){return this.settings.endevent}get moveEvent(){return this.settings.moveevent}get tapEvent(){return this.settings.tapevent}set swipeThresholdX(t){if(typeof t!="number")throw new Error("Threshold parameter must be a type of number");this.settings.swipeHThreshold=t}set swipeThresholdY(t){if(typeof t!="number")throw new Error("Threshold parameter must be a type of number");this.settings.swipeVThreshold=t}set doubleTapInt(t){if(typeof t!="number")throw new Error("Interval parameter must be a type of number");this.settings.doubletapInterval=t}set tapHoldThreshold(t){if(typeof t!="number")throw new Error("Threshold parameter must be a type of number");this.settings.tapholdThreshold=t}set tapRange(t){if(typeof t!="number")throw new Error("Ranger parameter must be a type of number");this.settings.tapPixelRange=t}destroy(){this.removeEventListeners()}removeEventListeners(){for(const t of this.settings.startevent)this.el.removeEventListener(t,this.onStartEvent);for(const t of this.settings.moveevent)this.el.removeEventListener(t,this.onMoveEvent);for(const t of this.settings.endevent)this.el.removeEventListener(t,this.onEndEvent)}getSwipeDir(t,s,n=this.settings.swipeHThreshold,r=this.settings.swipeVThreshold){let a="";return t.y>s.y&&t.y-s.y>r&&(a="swipeup"),t.x<s.x&&s.x-t.x>n&&(a="swiperight"),t.y<s.y&&s.y-t.y>r&&(a="swipedown"),t.x>s.x&&t.x-s.x>n&&(a="swipeleft"),a}getPosition(t,s=V.DEFAULT,n=0){let r;switch(s){case V.CHANGED:r=t.changedTouches;break;case V.TARGET:r=t.targetTouches;break;default:r=t.touches;break}return{x:this.settings.touchCapable?r[n].pageX:t.pageX,y:this.settings.touchCapable?r[n].pageY:t.pageY}}getOffset(t,s=V.DEFAULT,n=0){const r=this.el.getBoundingClientRect();let a;switch(s){case V.CHANGED:a=t.changedTouches;break;case V.TARGET:a=t.targetTouches;break;default:a=t.touches;break}return{x:this.settings.touchCapable?Math.round(a[n].pageX-(r?r.left:0)):Math.round(t.pageX-(r?r.left:0)),y:this.settings.touchCapable?Math.round(a[n].pageY-(r?r.top:0)):Math.round(t.pageY-(r?r.top:0))}}getTouchData(t,s=!1,n=V.DEFAULT,r=V.CHANGED){const a={position:this.getPosition(t,n),offset:this.getOffset(t,r),time:Date.now()};return s&&(a.index=Rl(t.target)),a}addEventListeners(){for(const t of this.settings.startevent)this.el.addEventListener(t,this.onStartEvent,{passive:!0});for(const t of this.settings.moveevent)this.el.addEventListener(t,this.onMoveEvent,{passive:!0});for(const t of this.settings.endevent)this.el.addEventListener(t,this.onEndEvent,{passive:!0})}onStartEvent(t){return t.which&&t.which!==1?!1:(this.startPosition=this.getPosition(t,V.TARGET),this.endPosition={x:this.startPosition.x,y:this.startPosition.y},this.startTime=Date.now(),this.doubletapped=!1,this.firstTap||(this.firstTap=this.getTouchData(t,!0,V.DEFAULT,V.CHANGED)),this.tapStarted=!0,this.swipeStarted=!0,this.originalCoord=this.getPosition(t,V.TARGET),this.finalCoord=this.getPosition(t,V.TARGET),this.startEvnt=this.getTouchData(t,!1,V.DEFAULT,V.CHANGED),this.tapstart(t),this.taphold(t),!0)}onEndEvent(t){return this.endPosition=this.getPosition(t,V.CHANGED),this.tapheld=!1,window.clearTimeout(this.holdTimer),this.tapend(t),this.swipeend(t),this.tap(t),this.doubletap(t),this.singletap(t),this.tapStarted=!1,this.swipeStarted=!1,this.hasSwiped=!1,!0}onMoveEvent(t){return this.endPosition=this.getPosition(t,V.TARGET),this.finalCoord=this.getPosition(t,V.TARGET),this.tapmove(t),this.swipe(t),!0}tapstart(t){return this.triggerCustomEvent("tapstart",t,this.getTouchData(t,!1,V.DEFAULT,V.CHANGED)),!0}tapmove(t){return this.triggerCustomEvent("tapmove",t,this.getTouchData(t,!1,V.DEFAULT,V.CHANGED)),!0}tapend(t){return this.triggerCustomEvent("tapend",t,this.getTouchData(t,!1,V.CHANGED,V.CHANGED)),!0}taphold(t){return this.holdTimer=window.setTimeout(()=>{const s={x:this.startPosition.x-this.endPosition.x,y:this.startPosition.y-this.endPosition.y};if(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||s.x>=-this.settings.tapPixelRange&&s.x<=this.settings.tapPixelRange&&s.y>=-this.settings.tapPixelRange&&s.y<=this.settings.tapPixelRange){this.tapheld=!0;const r=Date.now()-this.startTime,a=t.targetTouches?t.targetTouches.length:1,l=new Array;for(let g=0;g<a;g++){const u=this.el.getBoundingClientRect(),v={position:{x:this.settings.touchCapable?t.changedTouches[g].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[g].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[g].pageX-(u?u.left:0)):Math.round(t.pageX-(u?u.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[g].pageY-(u?u.top:0)):Math.round(t.pageY-(u?u.top:0))}};l.push(v)}const c=a>1?"taphold"+a:"taphold",f={touches:l,time:Date.now(),duration:r};this.triggerCustomEvent(c,t,f)}},this.settings.tapholdThreshold),!0}doubletap(t){const s=Date.now(),n=Number(this.lastTouch)||s+1,r=s-n;if(this.actionTimer!==-1&&window.clearTimeout(this.actionTimer),r<this.settings.doubletapInterval&&r>100&&this.firstTap&&Rl(t.target)===this.firstTap.index){this.doubletapped=!0,window.clearTimeout(this.tapTimer);const a=this.getTouchData(t,!0,V.CHANGED,V.CHANGED),l={firstTap:this.firstTap,secondTap:a,interval:a.time-this.firstTap.time};this.cooling||(this.triggerCustomEvent("doubletap",t,l),this.firstTap=null),this.cooling=!0,window.setTimeout(()=>{this.cooling=!1},this.settings.doubletapInterval)}else this.actionTimer=window.setTimeout(()=>{this.firstTap=null,window.clearTimeout(this.actionTimer)},this.settings.doubletapInterval,[t]);this.lastTouch=s}singletap(t){this.tapTimer=window.setTimeout(()=>{const s={x:this.startPosition.x-this.endPosition.x,y:this.startPosition.y-this.endPosition.y};if(!this.doubletapped&&!this.tapheld&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||s.x>=-this.settings.tapPixelRange&&s.x<=this.settings.tapPixelRange&&s.y>=-this.settings.tapPixelRange&&s.y<=this.settings.tapPixelRange)){const n=this.getTouchData(t,!1,V.CHANGED,V.CHANGED);n.time-this.startTime<this.settings.tapholdThreshold&&this.triggerCustomEvent("singletap",t,n)}},this.settings.doubletapInterval)}tap(t){const s={x:this.startPosition.x-this.endPosition.x,y:this.startPosition.y-this.endPosition.y};if(this.tapStarted&&Date.now()-this.startTime<this.settings.tapholdThreshold&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||s.x>=-this.settings.tapPixelRange&&s.x<=this.settings.tapPixelRange&&s.y>=-this.settings.tapPixelRange&&s.y<=this.settings.tapPixelRange)){const n=t.targetTouches?t.targetTouches.length:1,r=new Array;for(let c=0;c<n;c++){const f=this.el.getBoundingClientRect(),g={position:{x:this.settings.touchCapable?t.changedTouches[c].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[c].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[c].pageX-(f?f.left:0)):Math.round(t.pageX-(f?f.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[c].pageY-(f?f.top:0)):Math.round(t.pageY-(f?f.top:0))}};r.push(g)}const a={touches:r,time:Date.now()},l=n>1?"tap"+n:"tap";this.triggerCustomEvent(l,t,a)}}swipe(t){const s=this.getSwipeDir(this.originalCoord,this.finalCoord);if(s&&this.swipeStarted&&this.startEvnt){this.originalCoord.x=0,this.originalCoord.y=0,this.finalCoord.x=0,this.finalCoord.y=0,this.swipeStarted=!1;const n=this.getTouchData(t,!1,V.DEFAULT,V.CHANGED),r=Math.abs(this.startEvnt.position.x-n.position.x),a=Math.abs(this.startEvnt.position.y-n.position.y),l={startEvnt:this.startEvnt,endEvnt:n,direction:s.replace("swipe",""),xAmount:r,yAmount:a,duration:n.time-this.startEvnt.time};this.hasSwiped=!0,this.triggerCustomEvent("swipe",t,l),this.triggerCustomEvent(s,t,l)}}swipeend(t){const s=this.getTouchData(t,!1,V.CHANGED,V.CHANGED);if(this.hasSwiped&&this.startEvnt){const n=this.getSwipeDir(this.startEvnt.position,s.position),r=Math.abs(this.startEvnt.position.x-s.position.x),a=Math.abs(this.startEvnt.position.y-s.position.y),l={startEvnt:this.startEvnt,endEvnt:s,direction:n.replace("swipe",""),xAmount:r,yAmount:a,duration:s.time-this.startEvnt.time};this.triggerCustomEvent("swipeend",t,l)}}}const Cg=Object.freeze(Object.defineProperty({__proto__:null,Autoscroll:da,Dragscroll:ua,ExtrasService:ur,FullscreenService:Qs,Gameloop:at,ScrollEventsService:fa,TouchEventsService:pa},Symbol.toStringTag,{value:"Module"})),zl=10;class ld extends x{constructor(){super(...arguments);o(this,"watchScrollOnElement");o(this,"offsetTop",0);o(this,"offsetBottom",0);o(this,"elementSelector","");o(this,"onScroll",jt(this._onScroll.bind(this)))}_onScroll(){if(this.elementSelector==="window"){const t=this.watchScrollOnElement;t.scrollY<=0+this.offsetTop?this.el.dataset.scrollPositionY="top":t.innerHeight+t.pageYOffset+this.offsetBottom>=document.body.offsetHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}else{const t=this.watchScrollOnElement;t.scrollTop<=0+this.offsetTop?this.el.dataset.scrollPositionY="top":t.scrollTop+this.offsetBottom>=t.scrollHeight-t.clientHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}}routine(t,s="window"){this.watchScrollOnElement&&this.watchScrollOnElement.removeEventListener("scroll",this.onScroll),s==="window"?this.watchScrollOnElement=window:s==="this"?this.watchScrollOnElement=this.el:this.watchScrollOnElement=document.querySelector(s)||void 0,this.watchScrollOnElement&&this.watchScrollOnElement.addEventListener("scroll",this.onScroll,{passive:!0}),this.offsetTop=Number(this.el.dataset.offsetTop)||zl,this.offsetBottom=Number(this.el.dataset.offsetBottom)||zl,this.elementSelector=s,this.onScroll()}unbind(){this.watchScrollOnElement&&this.watchScrollOnElement.removeEventListener("scroll",this.onScroll)}}o(ld,"key","data-scroll-position-y");var Vo={},kg={get exports(){return Vo},set exports(i){Vo=i}},fr={},Lg={get exports(){return fr},set exports(i){fr=i}},Ul;function Ig(){return Ul||(Ul=1,function(i){(function(e,t){i.exports?i.exports=t():e.EvEmitter=t()})(typeof window<"u"?window:Rr,function(){function e(){}let t=e.prototype;return t.on=function(s,n){if(!s||!n)return this;let r=this._events=this._events||{},a=r[s]=r[s]||[];return a.includes(n)||a.push(n),this},t.once=function(s,n){if(!s||!n)return this;this.on(s,n);let r=this._onceEvents=this._onceEvents||{},a=r[s]=r[s]||{};return a[n]=!0,this},t.off=function(s,n){let r=this._events&&this._events[s];if(!r||!r.length)return this;let a=r.indexOf(n);return a!=-1&&r.splice(a,1),this},t.emitEvent=function(s,n){let r=this._events&&this._events[s];if(!r||!r.length)return this;r=r.slice(0),n=n||[];let a=this._onceEvents&&this._onceEvents[s];for(let l of r)a&&a[l]&&(this.off(s,l),delete a[l]),l.apply(this,n);return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Lg)),fr}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(i){(function(e,t){i.exports?i.exports=t(e,Ig()):e.imagesLoaded=t(e,e.EvEmitter)})(typeof window<"u"?window:Rr,function(t,s){let n=t.console;function r(u){return Array.isArray(u)?u:typeof u=="object"&&typeof u.length=="number"?[...u]:[u]}function a(u,v,b){if(!(this instanceof a))return new a(u,v,b);let _=u;if(typeof u=="string"&&(_=document.querySelectorAll(u)),!_){n.error(`Bad element for imagesLoaded ${_||u}`);return}this.elements=r(_),this.options={},typeof v=="function"?b=v:Object.assign(this.options,v),b&&this.on("always",b),this.getImages(),setTimeout(this.check.bind(this))}a.prototype=Object.create(s.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(u){u.nodeName==="IMG"&&this.addImage(u),this.options.background===!0&&this.addElementBackgroundImages(u);let{nodeType:v}=u;if(!v||!l.includes(v))return;let b=u.querySelectorAll("img");for(let _ of b)this.addImage(_);if(typeof this.options.background=="string"){let _=u.querySelectorAll(this.options.background);for(let S of _)this.addElementBackgroundImages(S)}};const c=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(u){let v=getComputedStyle(u);if(!v)return;let b=c.exec(v.backgroundImage);for(;b!==null;){let _=b&&b[2];_&&this.addBackground(_,u),b=c.exec(v.backgroundImage)}},a.prototype.addImage=function(u){let v=new f(u);this.images.push(v)},a.prototype.addBackground=function(u,v){let b=new g(u,v);this.images.push(b)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let u=(v,b,_)=>{setTimeout(()=>{this.progress(v,b,_)})};this.images.forEach(function(v){v.once("progress",u),v.check()})},a.prototype.progress=function(u,v,b){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!u.isLoaded,this.emitEvent("progress",[this,u,v]),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&n&&n.log(`progress: ${b}`,u,v)},a.prototype.complete=function(){let u=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(u,[this]),this.emitEvent("always",[this])};function f(u){this.img=u}f.prototype=Object.create(s.prototype),f.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}const v=this.img.currentSrc||this.img.src;v&&(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=v)},f.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},f.prototype.confirm=function(u,v){this.isLoaded=u;let{parentNode:b}=this.img,_=b.nodeName==="PICTURE"?b:this.img;this.emitEvent("progress",[this,_,v])},f.prototype.handleEvent=function(u){let v="on"+u.type;this[v]&&this[v](u)},f.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},f.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},f.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function g(u,v){this.url=u,this.element=v,this.img=new Image}return g.prototype=Object.create(f.prototype),g.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},g.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype.confirm=function(u,v){this.isLoaded=u,this.emitEvent("progress",[this,this.element,v])},a})})(kg);class cd extends x{constructor(){super(...arguments);o(this,"events");o(this,"onAlways",this._onEvent.bind(this,"load-always"));o(this,"onDone",this._onEvent.bind(this,"load-done"));o(this,"onFail",this._onEvent.bind(this,"load-fail"));o(this,"onProgress",this._onEvent.bind(this,"load-progress"))}_onEvent(t,s,n){this.el.dispatchEvent(new CustomEvent(t,{detail:{load:s,image:n}}))}bind(t){var s,n,r,a;this.events=Vo(t),(s=this.events)==null||s.on("always",this.onAlways),(n=this.events)==null||n.on("done",this.onDone),(r=this.events)==null||r.on("fail",this.onFail),(a=this.events)==null||a.on("progress",this.onProgress)}unbind(){var t,s,n,r;this.events&&((t=this.events)==null||t.off("always",this.onAlways),(s=this.events)==null||s.off("done",this.onDone),(n=this.events)==null||n.off("fail",this.onFail),(r=this.events)==null||r.off("progress",this.onProgress))}routine(){var t;(t=this.events)==null||t.check()}}o(cd,"key","image-events");class hd extends x{constructor(){super(...arguments);o(this,"touchEventService")}bind(t){this.touchEventService=new pa(t)}unbind(){this.touchEventService&&this.touchEventService.destroy()}routine(){}}o(hd,"key","touch-events");class dd extends x{constructor(){super(...arguments);o(this,"touchEventService")}bind(t){this.touchEventService=new fa(t)}unbind(){this.touchEventService&&this.touchEventService.destroy()}routine(){}}o(dd,"key","scroll-events");class ud extends x{constructor(){super(...arguments);o(this,"position");o(this,"angle");o(this,"onResize",this._onResize.bind(this))}_onResize(){if(!this.position)throw new Error("postion not defined!");if(!this.angle)throw new Error("angle not defined!");Js(this.el,this.position,this.angle)}routine(t,s){this.position=s,this.angle=this.args[0],this.angle==="x"&&(this.angle="horizontal"),this.angle==="y"&&(this.angle="vertical"),window.addEventListener("resize",this.onResize,{passive:!0}),Js(t,this.position,this.angle)}}o(ud,"key","scroll-position-*");class fd extends x{constructor(){super(...arguments);o(this,"autoscroll")}routine(t,s){s&&s.width&&Ve(s.width)&&(s.width,t.style.width=s.width),t.classList.add(`rv-autoscroll-${s.angle}`),setTimeout(()=>{this.autoscroll&&this.autoscroll.destroy(),this.autoscroll=new da(t,s)},1e3)}unbind(){this.autoscroll&&this.autoscroll.destroy()}}o(fd,"key","autoscroll");class pd extends x{constructor(){super(...arguments);o(this,"dragscroll")}routine(t,s){this.dragscroll&&this.dragscroll.destroy(),this.dragscroll=new ua(t,s)}unbind(){this.dragscroll&&this.dragscroll.destroy()}}o(pd,"key","scrollbar-draggable");class md extends x{constructor(){super(...arguments);o(this,"function",!0);o(this,"priority",1e3);o(this,"elToSync");o(this,"syncWidth",je(()=>{var t;this.el.style.width=(((t=this.elToSync)==null?void 0:t.clientWidth)||0)+"px"}));o(this,"syncHeight",je(()=>{var t;this.el.style.height=(((t=this.elToSync)==null?void 0:t.clientHeight)||0)+"px"}))}unbind(){const t=this.args[0];this.elToSync&&this.elToSync.removeEventListener("resize",t==="width"?this.syncWidth:this.syncHeight)}routine(t,s){if(this.args===null)throw new Error("args is null");const n=this.args[0];this.elToSync&&this.elToSync.removeEventListener("resize",n==="width"?this.syncWidth:this.syncHeight);const r=document.getElementById(s);if(r)switch(this.elToSync=r,n){case"height":t.style.height=r.clientHeight+"px",window.addEventListener("resize",this.syncHeight);break;case"width":t.style.width=r.clientWidth+"px",window.addEventListener("resize",this.syncWidth);break;default:console.warn("[syncElementPropertyBinder] Unknown property: "+n)}else console.warn("[syncElementPropertyBinder] Could not find element with id: "+s)}}o(md,"key","sync-element-*");const xg=Object.freeze(Object.defineProperty({__proto__:null,AutoscrollBinder:fd,DataScrollPositionYBinder:ld,ImageEventsBinder:cd,ScrollEventsBinder:dd,ScrollPositionAngleBinder:ud,ScrollbarDraggableBinder:pd,SyncElementPropertyBinder:md,TouchEventsBinder:hd},Symbol.toStringTag,{value:"Module"})),Og={helper:Ag,formatters:{},binders:xg,services:Cg,components:{},init(i={}){return ur.setSingleton(i),this}};var jo={},Ng={get exports(){return jo},set exports(i){jo=i}},pr={},Dg={get exports(){return pr},set exports(i){pr=i}},mr={},Pg={get exports(){return mr},set exports(i){mr=i}},Wl;function gd(){return Wl||(Wl=1,function(i){(function(e,t){i.exports?i.exports=t():e.EvEmitter=t()})(typeof window<"u"?window:Rr,function(){function e(){}var t=e.prototype;return t.on=function(s,n){if(!(!s||!n)){var r=this._events=this._events||{},a=r[s]=r[s]||[];return a.indexOf(n)==-1&&a.push(n),this}},t.once=function(s,n){if(!(!s||!n)){this.on(s,n);var r=this._onceEvents=this._onceEvents||{},a=r[s]=r[s]||{};return a[n]=!0,this}},t.off=function(s,n){var r=this._events&&this._events[s];if(!(!r||!r.length)){var a=r.indexOf(n);return a!=-1&&r.splice(a,1),this}},t.emitEvent=function(s,n){var r=this._events&&this._events[s];if(!(!r||!r.length)){r=r.slice(0),n=n||[];for(var a=this._onceEvents&&this._onceEvents[s],l=0;l<r.length;l++){var c=r[l],f=a&&a[c];f&&(this.off(s,c),delete a[c]),c.apply(this,n)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})}(Pg)),mr}var gr={},Rg={get exports(){return gr},set exports(i){gr=i}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var Vl;function ma(){return Vl||(Vl=1,function(i){(function(e,t){i.exports?i.exports=t():e.getSize=t()})(window,function(){function t(b){var _=parseFloat(b),S=b.indexOf("%")==-1&&!isNaN(_);return S&&_}function s(){}var n=typeof console>"u"?s:function(b){console.error(b)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=r.length;function l(){for(var b={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},_=0;_<a;_++){var S=r[_];b[S]=0}return b}function c(b){var _=getComputedStyle(b);return _||n("Style returned "+_+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),_}var f=!1,g;function u(){if(!f){f=!0;var b=document.createElement("div");b.style.width="200px",b.style.padding="1px 2px 3px 4px",b.style.borderStyle="solid",b.style.borderWidth="1px 2px 3px 4px",b.style.boxSizing="border-box";var _=document.body||document.documentElement;_.appendChild(b);var S=c(b);g=Math.round(t(S.width))==200,v.isBoxSizeOuter=g,_.removeChild(b)}}function v(b){if(u(),typeof b=="string"&&(b=document.querySelector(b)),!(!b||typeof b!="object"||!b.nodeType)){var _=c(b);if(_.display=="none")return l();var S={};S.width=b.offsetWidth,S.height=b.offsetHeight;for(var w=S.isBorderBox=_.boxSizing=="border-box",p=0;p<a;p++){var E=r[p],T=_[E],L=parseFloat(T);S[E]=isNaN(L)?0:L}var A=S.paddingLeft+S.paddingRight,N=S.paddingTop+S.paddingBottom,R=S.marginLeft+S.marginRight,B=S.marginTop+S.marginBottom,H=S.borderLeftWidth+S.borderRightWidth,O=S.borderTopWidth+S.borderBottomWidth,K=w&&g,nt=t(_.width);nt!==!1&&(S.width=nt+(K?0:A+H));var et=t(_.height);return et!==!1&&(S.height=et+(K?0:N+O)),S.innerWidth=S.width-(A+H),S.innerHeight=S.height-(N+O),S.outerWidth=S.width+R,S.outerHeight=S.height+B,S}}return v})}(Rg)),gr}var vr={},Mg={get exports(){return vr},set exports(i){vr=i}},br={},$g={get exports(){return br},set exports(i){br=i}},jl;function Bg(){return jl||(jl=1,function(i){(function(e,t){i.exports?i.exports=t():e.matchesSelector=t()})(window,function(){var t=function(){var s=window.Element.prototype;if(s.matches)return"matches";if(s.matchesSelector)return"matchesSelector";for(var n=["webkit","moz","ms","o"],r=0;r<n.length;r++){var a=n[r],l=a+"MatchesSelector";if(s[l])return l}}();return function(n,r){return n[t](r)}})}($g)),br}var ql;function Hg(){return ql||(ql=1,function(i){(function(e,t){i.exports?i.exports=t(e,Bg()):e.fizzyUIUtils=t(e,e.matchesSelector)})(window,function(t,s){var n={};n.extend=function(l,c){for(var f in c)l[f]=c[f];return l},n.modulo=function(l,c){return(l%c+c)%c};var r=Array.prototype.slice;n.makeArray=function(l){if(Array.isArray(l))return l;if(l==null)return[];var c=typeof l=="object"&&typeof l.length=="number";return c?r.call(l):[l]},n.removeFrom=function(l,c){var f=l.indexOf(c);f!=-1&&l.splice(f,1)},n.getParent=function(l,c){for(;l.parentNode&&l!=document.body;)if(l=l.parentNode,s(l,c))return l},n.getQueryElement=function(l){return typeof l=="string"?document.querySelector(l):l},n.handleEvent=function(l){var c="on"+l.type;this[c]&&this[c](l)},n.filterFindElements=function(l,c){l=n.makeArray(l);var f=[];return l.forEach(function(g){if(g instanceof HTMLElement){if(!c){f.push(g);return}s(g,c)&&f.push(g);for(var u=g.querySelectorAll(c),v=0;v<u.length;v++)f.push(u[v])}}),f},n.debounceMethod=function(l,c,f){f=f||100;var g=l.prototype[c],u=c+"Timeout";l.prototype[c]=function(){var v=this[u];clearTimeout(v);var b=arguments,_=this;this[u]=setTimeout(function(){g.apply(_,b),delete _[u]},f)}},n.docReady=function(l){var c=document.readyState;c=="complete"||c=="interactive"?setTimeout(l):document.addEventListener("DOMContentLoaded",l)},n.toDashed=function(l){return l.replace(/(.)([A-Z])/g,function(c,f,g){return f+"-"+g}).toLowerCase()};var a=t.console;return n.htmlInit=function(l,c){n.docReady(function(){var f=n.toDashed(c),g="data-"+f,u=document.querySelectorAll("["+g+"]"),v=document.querySelectorAll(".js-"+f),b=n.makeArray(u).concat(n.makeArray(v)),_=g+"-options",S=t.jQuery;b.forEach(function(w){var p=w.getAttribute(g)||w.getAttribute(_),E;try{E=p&&JSON.parse(p)}catch(L){a&&a.error("Error parsing "+g+" on "+w.className+": "+L);return}var T=new l(w,E);S&&S.data(w,c,T)})})},n})}(Mg)),vr}var yr={},Fg={get exports(){return yr},set exports(i){yr=i}},Yl;function zg(){return Yl||(Yl=1,function(i){(function(e,t){i.exports?i.exports=t(gd(),ma()):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))})(window,function(t,s){function n(w){for(var p in w)return!1;return p=null,!0}var r=document.documentElement.style,a=typeof r.transition=="string"?"transition":"WebkitTransition",l=typeof r.transform=="string"?"transform":"WebkitTransform",c={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],f={transform:l,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"};function g(w,p){w&&(this.element=w,this.layout=p,this.position={x:0,y:0},this._create())}var u=g.prototype=Object.create(t.prototype);u.constructor=g,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(w){var p="on"+w.type;this[p]&&this[p](w)},u.getSize=function(){this.size=s(this.element)},u.css=function(w){var p=this.element.style;for(var E in w){var T=f[E]||E;p[T]=w[E]}},u.getPosition=function(){var w=getComputedStyle(this.element),p=this.layout._getOption("originLeft"),E=this.layout._getOption("originTop"),T=w[p?"left":"right"],L=w[E?"top":"bottom"],A=parseFloat(T),N=parseFloat(L),R=this.layout.size;T.indexOf("%")!=-1&&(A=A/100*R.width),L.indexOf("%")!=-1&&(N=N/100*R.height),A=isNaN(A)?0:A,N=isNaN(N)?0:N,A-=p?R.paddingLeft:R.paddingRight,N-=E?R.paddingTop:R.paddingBottom,this.position.x=A,this.position.y=N},u.layoutPosition=function(){var w=this.layout.size,p={},E=this.layout._getOption("originLeft"),T=this.layout._getOption("originTop"),L=E?"paddingLeft":"paddingRight",A=E?"left":"right",N=E?"right":"left",R=this.position.x+w[L];p[A]=this.getXValue(R),p[N]="";var B=T?"paddingTop":"paddingBottom",H=T?"top":"bottom",O=T?"bottom":"top",K=this.position.y+w[B];p[H]=this.getYValue(K),p[O]="",this.css(p),this.emitEvent("layout",[this])},u.getXValue=function(w){var p=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!p?w/this.layout.size.width*100+"%":w+"px"},u.getYValue=function(w){var p=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&p?w/this.layout.size.height*100+"%":w+"px"},u._transitionTo=function(w,p){this.getPosition();var E=this.position.x,T=this.position.y,L=w==this.position.x&&p==this.position.y;if(this.setPosition(w,p),L&&!this.isTransitioning){this.layoutPosition();return}var A=w-E,N=p-T,R={};R.transform=this.getTranslate(A,N),this.transition({to:R,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(w,p){var E=this.layout._getOption("originLeft"),T=this.layout._getOption("originTop");return w=E?w:-w,p=T?p:-p,"translate3d("+w+"px, "+p+"px, 0)"},u.goTo=function(w,p){this.setPosition(w,p),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(w,p){this.position.x=parseFloat(w),this.position.y=parseFloat(p)},u._nonTransition=function(w){this.css(w.to),w.isCleaning&&this._removeStyles(w.to);for(var p in w.onTransitionEnd)w.onTransitionEnd[p].call(this)},u.transition=function(w){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(w);return}var p=this._transn;for(var E in w.onTransitionEnd)p.onEnd[E]=w.onTransitionEnd[E];for(E in w.to)p.ingProperties[E]=!0,w.isCleaning&&(p.clean[E]=!0);w.from&&(this.css(w.from),this.element.offsetHeight),this.enableTransition(w.to),this.css(w.to),this.isTransitioning=!0};function v(w){return w.replace(/([A-Z])/g,function(p){return"-"+p.toLowerCase()})}var b="opacity,"+v(l);u.enableTransition=function(){if(!this.isTransitioning){var w=this.layout.options.transitionDuration;w=typeof w=="number"?w+"ms":w,this.css({transitionProperty:b,transitionDuration:w,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(c,this,!1)}},u.onwebkitTransitionEnd=function(w){this.ontransitionend(w)},u.onotransitionend=function(w){this.ontransitionend(w)};var _={"-webkit-transform":"transform"};u.ontransitionend=function(w){if(w.target===this.element){var p=this._transn,E=_[w.propertyName]||w.propertyName;if(delete p.ingProperties[E],n(p.ingProperties)&&this.disableTransition(),E in p.clean&&(this.element.style[w.propertyName]="",delete p.clean[E]),E in p.onEnd){var T=p.onEnd[E];T.call(this),delete p.onEnd[E]}this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},u._removeStyles=function(w){var p={};for(var E in w)p[E]="";this.css(p)};var S={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(S)},u.stagger=function(w){w=isNaN(w)?0:w,this.staggerDelay=w+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){if(!a||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},u.reveal=function(){delete this.isHidden,this.css({display:""});var w=this.layout.options,p={},E=this.getHideRevealTransitionEndProperty("visibleStyle");p[E]=this.onRevealTransitionEnd,this.transition({from:w.hiddenStyle,to:w.visibleStyle,isCleaning:!0,onTransitionEnd:p})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(w){var p=this.layout.options[w];if(p.opacity)return"opacity";for(var E in p)return E},u.hide=function(){this.isHidden=!0,this.css({display:""});var w=this.layout.options,p={},E=this.getHideRevealTransitionEndProperty("hiddenStyle");p[E]=this.onHideTransitionEnd,this.transition({from:w.visibleStyle,to:w.hiddenStyle,isCleaning:!0,onTransitionEnd:p})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},g})}(Fg)),yr}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var Kl;function Ug(){return Kl||(Kl=1,function(i){(function(e,t){i.exports?i.exports=t(e,gd(),ma(),Hg(),zg()):e.Outlayer=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)})(window,function(t,s,n,r,a){var l=t.console,c=t.jQuery,f=function(){},g=0,u={};function v(p,E){var T=r.getQueryElement(p);if(!T){l&&l.error("Bad element for "+this.constructor.namespace+": "+(T||p));return}this.element=T,c&&(this.$element=c(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(E);var L=++g;this.element.outlayerGUID=L,u[L]=this,this._create();var A=this._getOption("initLayout");A&&this.layout()}v.namespace="outlayer",v.Item=a,v.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var b=v.prototype;r.extend(b,s.prototype),b.option=function(p){r.extend(this.options,p)},b._getOption=function(p){var E=this.constructor.compatOptions[p];return E&&this.options[E]!==void 0?this.options[E]:this.options[p]},v.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},b._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle);var p=this._getOption("resize");p&&this.bindResize()},b.reloadItems=function(){this.items=this._itemize(this.element.children)},b._itemize=function(p){for(var E=this._filterFindItemElements(p),T=this.constructor.Item,L=[],A=0;A<E.length;A++){var N=E[A],R=new T(N,this);L.push(R)}return L},b._filterFindItemElements=function(p){return r.filterFindElements(p,this.options.itemSelector)},b.getItemElements=function(){return this.items.map(function(p){return p.element})},b.layout=function(){this._resetLayout(),this._manageStamps();var p=this._getOption("layoutInstant"),E=p!==void 0?p:!this._isLayoutInited;this.layoutItems(this.items,E),this._isLayoutInited=!0},b._init=b.layout,b._resetLayout=function(){this.getSize()},b.getSize=function(){this.size=n(this.element)},b._getMeasurement=function(p,E){var T=this.options[p],L;T?(typeof T=="string"?L=this.element.querySelector(T):T instanceof HTMLElement&&(L=T),this[p]=L?n(L)[E]:T):this[p]=0},b.layoutItems=function(p,E){p=this._getItemsForLayout(p),this._layoutItems(p,E),this._postLayout()},b._getItemsForLayout=function(p){return p.filter(function(E){return!E.isIgnored})},b._layoutItems=function(p,E){if(this._emitCompleteOnItems("layout",p),!(!p||!p.length)){var T=[];p.forEach(function(L){var A=this._getItemLayoutPosition(L);A.item=L,A.isInstant=E||L.isLayoutInstant,T.push(A)},this),this._processLayoutQueue(T)}},b._getItemLayoutPosition=function(){return{x:0,y:0}},b._processLayoutQueue=function(p){this.updateStagger(),p.forEach(function(E,T){this._positionItem(E.item,E.x,E.y,E.isInstant,T)},this)},b.updateStagger=function(){var p=this.options.stagger;if(p==null){this.stagger=0;return}return this.stagger=w(p),this.stagger},b._positionItem=function(p,E,T,L,A){L?p.goTo(E,T):(p.stagger(A*this.stagger),p.moveTo(E,T))},b._postLayout=function(){this.resizeContainer()},b.resizeContainer=function(){var p=this._getOption("resizeContainer");if(p){var E=this._getContainerSize();E&&(this._setContainerMeasure(E.width,!0),this._setContainerMeasure(E.height,!1))}},b._getContainerSize=f,b._setContainerMeasure=function(p,E){if(p!==void 0){var T=this.size;T.isBorderBox&&(p+=E?T.paddingLeft+T.paddingRight+T.borderLeftWidth+T.borderRightWidth:T.paddingBottom+T.paddingTop+T.borderTopWidth+T.borderBottomWidth),p=Math.max(p,0),this.element.style[E?"width":"height"]=p+"px"}},b._emitCompleteOnItems=function(p,E){var T=this;function L(){T.dispatchEvent(p+"Complete",null,[E])}var A=E.length;if(!E||!A){L();return}var N=0;function R(){N++,N==A&&L()}E.forEach(function(B){B.once(p,R)})},b.dispatchEvent=function(p,E,T){var L=E?[E].concat(T):T;if(this.emitEvent(p,L),c)if(this.$element=this.$element||c(this.element),E){var A=c.Event(E);A.type=p,this.$element.trigger(A,T)}else this.$element.trigger(p,T)},b.ignore=function(p){var E=this.getItem(p);E&&(E.isIgnored=!0)},b.unignore=function(p){var E=this.getItem(p);E&&delete E.isIgnored},b.stamp=function(p){p=this._find(p),p&&(this.stamps=this.stamps.concat(p),p.forEach(this.ignore,this))},b.unstamp=function(p){p=this._find(p),p&&p.forEach(function(E){r.removeFrom(this.stamps,E),this.unignore(E)},this)},b._find=function(p){if(p)return typeof p=="string"&&(p=this.element.querySelectorAll(p)),p=r.makeArray(p),p},b._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},b._getBoundingRect=function(){var p=this.element.getBoundingClientRect(),E=this.size;this._boundingRect={left:p.left+E.paddingLeft+E.borderLeftWidth,top:p.top+E.paddingTop+E.borderTopWidth,right:p.right-(E.paddingRight+E.borderRightWidth),bottom:p.bottom-(E.paddingBottom+E.borderBottomWidth)}},b._manageStamp=f,b._getElementOffset=function(p){var E=p.getBoundingClientRect(),T=this._boundingRect,L=n(p),A={left:E.left-T.left-L.marginLeft,top:E.top-T.top-L.marginTop,right:T.right-E.right-L.marginRight,bottom:T.bottom-E.bottom-L.marginBottom};return A},b.handleEvent=r.handleEvent,b.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},b.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},b.onresize=function(){this.resize()},r.debounceMethod(v,"onresize",100),b.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},b.needsResizeLayout=function(){var p=n(this.element),E=this.size&&p;return E&&p.innerWidth!==this.size.innerWidth},b.addItems=function(p){var E=this._itemize(p);return E.length&&(this.items=this.items.concat(E)),E},b.appended=function(p){var E=this.addItems(p);E.length&&(this.layoutItems(E,!0),this.reveal(E))},b.prepended=function(p){var E=this._itemize(p);if(E.length){var T=this.items.slice(0);this.items=E.concat(T),this._resetLayout(),this._manageStamps(),this.layoutItems(E,!0),this.reveal(E),this.layoutItems(T)}},b.reveal=function(p){if(this._emitCompleteOnItems("reveal",p),!(!p||!p.length)){var E=this.updateStagger();p.forEach(function(T,L){T.stagger(L*E),T.reveal()})}},b.hide=function(p){if(this._emitCompleteOnItems("hide",p),!(!p||!p.length)){var E=this.updateStagger();p.forEach(function(T,L){T.stagger(L*E),T.hide()})}},b.revealItemElements=function(p){var E=this.getItems(p);this.reveal(E)},b.hideItemElements=function(p){var E=this.getItems(p);this.hide(E)},b.getItem=function(p){for(var E=0;E<this.items.length;E++){var T=this.items[E];if(T.element==p)return T}},b.getItems=function(p){p=r.makeArray(p);var E=[];return p.forEach(function(T){var L=this.getItem(T);L&&E.push(L)},this),E},b.remove=function(p){var E=this.getItems(p);this._emitCompleteOnItems("remove",E),!(!E||!E.length)&&E.forEach(function(T){T.remove(),r.removeFrom(this.items,T)},this)},b.destroy=function(){var p=this.element.style;p.height="",p.position="",p.width="",this.items.forEach(function(T){T.destroy()}),this.unbindResize();var E=this.element.outlayerGUID;delete u[E],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},v.data=function(p){p=r.getQueryElement(p);var E=p&&p.outlayerGUID;return E&&u[E]},v.create=function(p,E){var T=_(v);return T.defaults=r.extend({},v.defaults),r.extend(T.defaults,E),T.compatOptions=r.extend({},v.compatOptions),T.namespace=p,T.data=v.data,T.Item=_(a),r.htmlInit(T,p),c&&c.bridget&&c.bridget(p,T),T};function _(p){function E(){p.apply(this,arguments)}return E.prototype=Object.create(p.prototype),E.prototype.constructor=E,E}var S={ms:1,s:1e3};function w(p){if(typeof p=="number")return p;var E=p.match(/(^\d*\.?\d*)(\w*)/),T=E&&E[1],L=E&&E[2];if(!T.length)return 0;T=parseFloat(T);var A=S[L]||1;return T*A}return v.Item=a,v})}(Dg)),pr}/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */(function(i){(function(e,t){i.exports?i.exports=t(Ug(),ma()):e.Masonry=t(e.Outlayer,e.getSize)})(window,function(t,s){var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var r=n.prototype;return r._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},r.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],l=a&&a.element;this.columnWidth=l&&s(l).outerWidth||this.containerWidth}var c=this.columnWidth+=this.gutter,f=this.containerWidth+this.gutter,g=f/c,u=c-f%c,v=u&&u<1?"round":"floor";g=Math[v](g),this.cols=Math.max(g,1)},r.getContainerWidth=function(){var a=this._getOption("fitWidth"),l=a?this.element.parentNode:this.element,c=s(l);this.containerWidth=c&&c.innerWidth},r._getItemLayoutPosition=function(a){a.getSize();var l=a.size.outerWidth%this.columnWidth,c=l&&l<1?"round":"ceil",f=Math[c](a.size.outerWidth/this.columnWidth);f=Math.min(f,this.cols);for(var g=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",u=this[g](f,a),v={x:this.columnWidth*u.col,y:u.y},b=u.y+a.size.outerHeight,_=f+u.col,S=u.col;S<_;S++)this.colYs[S]=b;return v},r._getTopColPosition=function(a){var l=this._getTopColGroup(a),c=Math.min.apply(Math,l);return{col:l.indexOf(c),y:c}},r._getTopColGroup=function(a){if(a<2)return this.colYs;for(var l=[],c=this.cols+1-a,f=0;f<c;f++)l[f]=this._getColGroupY(f,a);return l},r._getColGroupY=function(a,l){if(l<2)return this.colYs[a];var c=this.colYs.slice(a,a+l);return Math.max.apply(Math,c)},r._getHorizontalColPosition=function(a,l){var c=this.horizontalColIndex%this.cols,f=a>1&&c+a>this.cols;c=f?0:c;var g=l.size.outerWidth&&l.size.outerHeight;return this.horizontalColIndex=g?c+a:this.horizontalColIndex,{col:c,y:this._getColGroupY(c,a)}},r._manageStamp=function(a){var l=s(a),c=this._getElementOffset(a),f=this._getOption("originLeft"),g=f?c.left:c.right,u=g+l.outerWidth,v=Math.floor(g/this.columnWidth);v=Math.max(0,v);var b=Math.floor(u/this.columnWidth);b-=u%this.columnWidth?0:1,b=Math.min(this.cols-1,b);for(var _=this._getOption("originTop"),S=(_?c.top:c.bottom)+l.outerHeight,w=v;w<=b;w++)this.colYs[w]=Math.max(S,this.colYs[w])},r._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth()),a},r._getContainerFitWidth=function(){for(var a=0,l=this.cols;--l&&this.colYs[l]===0;)a++;return(this.cols-a)*this.columnWidth-this.gutter},r.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!=this.containerWidth},n})})(Ng);class vd extends x{constructor(){super(...arguments);o(this,"masonry",null);o(this,"images",null);o(this,"resizeObserver",null);o(this,"layout",jt(this._layout.bind(this)))}_layout(){var t;(t=this.masonry)!=null&&t.layout&&this.masonry.layout()}bind(t){window.ResizeObserver?(this.resizeObserver=new ResizeObserver(this.layout),this.resizeObserver.observe(t)):(window.removeEventListener("resize",this.layout),window.addEventListener("resize",this.layout,{passive:!0})),Gs.getInstance().events.once("ComponentLifecycle:allBound",this.layout,this);const n=new Y("main");n.once("newPageReady",this.layout,this),n.once("transitionCompleted",this.layout,this),this.layout()}unbind(t){var n;let s=this.masonry;s!=null&&s.destroy&&(s.destroy(),s=null),this.images&&this.images.forEach(r=>{var a;(a=this.resizeObserver)==null||a.unobserve(r)}),(n=this.resizeObserver)==null||n.unobserve(t),window.removeEventListener("resize",this.layout)}routine(t,s={}){var n;(n=this==null?void 0:this.masonry)!=null&&n.destroy&&this.masonry.destroy(),this.masonry=new jo(t,s),this.images=t.querySelectorAll("img"),this.images.forEach(r=>{var a;r.removeEventListener("load",this.layout),r.addEventListener("load",this.layout,{once:!0}),r.removeEventListener("load-always",this.layout),r.addEventListener("load-always",this.layout,{once:!0}),(a=this.resizeObserver)==null||a.observe(r)}),this.layout()}}o(vd,"key","masonry");const Wg=Object.freeze(Object.defineProperty({__proto__:null,MasonryBinder:vd},Symbol.toStringTag,{value:"Module"})),Vg=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class wr{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of MasonryService not defined, please call setSingleton first!")}static setSingleton(e={}){if(this.instance)throw new Error("Singleton of MasonryService already defined!");return this._options=e,this.instance=new this,this.instance}}o(wr,"_options"),o(wr,"instance");const jg=Object.freeze(Object.defineProperty({__proto__:null,MasonryService:wr},Symbol.toStringTag,{value:"Module"})),qg=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Yg={binders:Wg,services:jg,formatters:Vg,components:qg,init(i={}){return wr.setSingleton(i),this}},ga=["theme-os","theme-dark","theme-light"],bd={dimension:0,name:"xs"},yd={dimension:576,name:"sm"},wd={dimension:768,name:"md"},Ed={dimension:992,name:"lg"},_d={dimension:1200,name:"xl"},Sd={dimension:1400,name:"xxl"},Er={breakpoints:[bd,yd,wd,Ed,_d,Sd],allowStoreDataInBrowser:!0},j={nsPrefix:"bs5-toggle-button:",eventNames:{toggle:"toggle",toggled:"toggled",init:"init",state:"state"}},qo={elEventNames:{removed:"removed",added:"added"}},Yo={elEventNames:{removed:"removed",added:"added"}},Kg=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_BP_LG:Ed,DEFAULT_BP_MD:wd,DEFAULT_BP_SM:yd,DEFAULT_BP_XL:_d,DEFAULT_BP_XS:bd,DEFAULT_BP_XXL:Sd,DEFAULT_MODULE_OPTIONS:Er,TOGGLE_ATTRIBUTE:qo,TOGGLE_BUTTON:j,TOGGLE_CLASS:Yo,themeChoices:ga},Symbol.toStringTag,{value:"Module"})),Fe=class{constructor(e){o(this,"_options",Er);o(this,"_events",Y.getInstance("bs5"));o(this,"_activeBreakpoint",null);o(this,"onViewChanges",jt(this._onViewChanges.bind(this)));this._options=e,this.sortBreakpoints(this._options.breakpoints),this._onViewChanges(),this.addEventListeners()}static getSingleton(){if(Fe.instance)return Fe.instance;throw new Error("Singleton of Bs5Service not defined, please call `Bs5Service.setSingleton` or `bs5Module.init` first!")}static setSingleton(e=Er){if(Fe.instance)throw new Error("Singleton of Bs5Service already defined!");return Fe.instance=new Fe(e),Fe.instance}onBreakpointChanges(){this._events.trigger("breakpoint:changed",this.activeBreakpoint)}setActiveBreakpoint(e){var t;e&&e.name!==((t=this.activeBreakpoint)==null?void 0:t.name)&&(this._activeBreakpoint=e,this.onBreakpointChanges())}addEventListeners(){window.addEventListener("resize",this.onViewChanges,{passive:!0})}removeEventListeners(){window.removeEventListener("resize",this.onViewChanges)}_onViewChanges(){const e=this.getBreakpointByDimension(aa().w)||this.getBreakpointByName("xs");e&&this.setActiveBreakpoint(e)}sortBreakpoints(e){e.sort((t,s)=>t.dimension-s.dimension)}get options(){return this._options}get activeBreakpoint(){return this._activeBreakpoint}get breakpointNames(){return this.options.breakpoints.map(e=>e.name)}get events(){return this._events}on(e,t,s){return this.events.on(e,t,s)}once(e,t,s){return this.events.once(e,t,s)}off(e,t,s){return this.events.off(e,t,s)}getBreakpointByDimension(e,t){t=t||this.options.breakpoints;for(let n=0;n<t.length-1;n++){const r=t[n],a=t[n+1];if(a&&r&&e>r.dimension&&e<a.dimension)return r}const s=t[t.length-1];return e>=s.dimension?s:null}getBreakpointByName(e,t){t=t||this.options.breakpoints;const s=t.find(n=>n.name===e);return s||null}getNextBreakpointByName(e){const t=this.breakpointNames,s=t.indexOf(e);if(s<0)throw new Error(`the breakpoint "${e}" does not exist!`);return s===t.length-1?null:t[s+1]}getPrevBreakpointByName(e){const t=this.breakpointNames,s=t.indexOf(e);if(s<0)throw new Error(`the breakpoint "${e}" does not exist!`);return s===0?null:t[s-1]}isBreakpointGreaterThan(e,t){const s=this.getBreakpointByName(e),n=this.getBreakpointByName(t);return s&&n?s.dimension>n.dimension:null}isBreakpointSmallerThan(e,t){const s=this.getBreakpointByName(e),n=this.getBreakpointByName(t);return s&&n?s.dimension<n.dimension:null}isActiveBreakpointGreaterThan(e){return this.activeBreakpoint?this.isBreakpointGreaterThan(this.activeBreakpoint.name,e):null}isActiveBreakpointSmallerThan(e){return this.activeBreakpoint?this.isBreakpointSmallerThan(this.activeBreakpoint.name,e):null}};let Ce=Fe;o(Ce,"instance");var mt="top",Dt="bottom",Pt="right",gt="left",Mr="auto",li=[mt,Dt,Pt,gt],ws="start",ii="end",Td="clippingParents",va="viewport",Us="popper",Ad="reference",Ko=li.reduce(function(i,e){return i.concat([e+"-"+ws,e+"-"+ii])},[]),ba=[].concat(li,[Mr]).reduce(function(i,e){return i.concat([e,e+"-"+ws,e+"-"+ii])},[]),Cd="beforeRead",kd="read",Ld="afterRead",Id="beforeMain",xd="main",Od="afterMain",Nd="beforeWrite",Dd="write",Pd="afterWrite",Rd=[Cd,kd,Ld,Id,xd,Od,Nd,Dd,Pd];function ue(i){return i?(i.nodeName||"").toLowerCase():null}function qt(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function Es(i){var e=qt(i).Element;return i instanceof e||i instanceof Element}function Vt(i){var e=qt(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function ya(i){if(typeof ShadowRoot>"u")return!1;var e=qt(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function Gg(i){var e=i.state;Object.keys(e.elements).forEach(function(t){var s=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];!Vt(r)||!ue(r)||(Object.assign(r.style,s),Object.keys(n).forEach(function(a){var l=n[a];l===!1?r.removeAttribute(a):r.setAttribute(a,l===!0?"":l)}))})}function Zg(i){var e=i.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(s){var n=e.elements[s],r=e.attributes[s]||{},a=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:t[s]),l=a.reduce(function(c,f){return c[f]="",c},{});!Vt(n)||!ue(n)||(Object.assign(n.style,l),Object.keys(r).forEach(function(c){n.removeAttribute(c)}))})}}const wa={name:"applyStyles",enabled:!0,phase:"write",fn:Gg,effect:Zg,requires:["computeStyles"]};function he(i){return i.split("-")[0]}var gs=Math.max,_r=Math.min,ni=Math.round;function Go(){var i=navigator.userAgentData;return i!=null&&i.brands?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Md(){return!/^((?!chrome|android).)*safari/i.test(Go())}function ri(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var s=i.getBoundingClientRect(),n=1,r=1;e&&Vt(i)&&(n=i.offsetWidth>0&&ni(s.width)/i.offsetWidth||1,r=i.offsetHeight>0&&ni(s.height)/i.offsetHeight||1);var a=Es(i)?qt(i):window,l=a.visualViewport,c=!Md()&&t,f=(s.left+(c&&l?l.offsetLeft:0))/n,g=(s.top+(c&&l?l.offsetTop:0))/r,u=s.width/n,v=s.height/r;return{width:u,height:v,top:g,right:f+u,bottom:g+v,left:f,x:f,y:g}}function Ea(i){var e=ri(i),t=i.offsetWidth,s=i.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:s}}function $d(i,e){var t=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(t&&ya(t)){var s=e;do{if(s&&i.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Le(i){return qt(i).getComputedStyle(i)}function Xg(i){return["table","td","th"].indexOf(ue(i))>=0}function Ke(i){return((Es(i)?i.ownerDocument:i.document)||window.document).documentElement}function $r(i){return ue(i)==="html"?i:i.assignedSlot||i.parentNode||(ya(i)?i.host:null)||Ke(i)}function Gl(i){return!Vt(i)||Le(i).position==="fixed"?null:i.offsetParent}function Qg(i){var e=/firefox/i.test(Go()),t=/Trident/i.test(Go());if(t&&Vt(i)){var s=Le(i);if(s.position==="fixed")return null}var n=$r(i);for(ya(n)&&(n=n.host);Vt(n)&&["html","body"].indexOf(ue(n))<0;){var r=Le(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function en(i){for(var e=qt(i),t=Gl(i);t&&Xg(t)&&Le(t).position==="static";)t=Gl(t);return t&&(ue(t)==="html"||ue(t)==="body"&&Le(t).position==="static")?e:t||Qg(i)||e}function _a(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function $i(i,e,t){return gs(i,_r(e,t))}function Jg(i,e,t){var s=$i(i,e,t);return s>t?t:s}function Bd(){return{top:0,right:0,bottom:0,left:0}}function Hd(i){return Object.assign({},Bd(),i)}function Fd(i,e){return e.reduce(function(t,s){return t[s]=i,t},{})}var tv=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Hd(typeof e!="number"?e:Fd(e,li))};function ev(i){var e,t=i.state,s=i.name,n=i.options,r=t.elements.arrow,a=t.modifiersData.popperOffsets,l=he(t.placement),c=_a(l),f=[gt,Pt].indexOf(l)>=0,g=f?"height":"width";if(!(!r||!a)){var u=tv(n.padding,t),v=Ea(r),b=c==="y"?mt:gt,_=c==="y"?Dt:Pt,S=t.rects.reference[g]+t.rects.reference[c]-a[c]-t.rects.popper[g],w=a[c]-t.rects.reference[c],p=en(r),E=p?c==="y"?p.clientHeight||0:p.clientWidth||0:0,T=S/2-w/2,L=u[b],A=E-v[g]-u[_],N=E/2-v[g]/2+T,R=$i(L,N,A),B=c;t.modifiersData[s]=(e={},e[B]=R,e.centerOffset=R-N,e)}}function sv(i){var e=i.state,t=i.options,s=t.element,n=s===void 0?"[data-popper-arrow]":s;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||$d(e.elements.popper,n)&&(e.elements.arrow=n))}const zd={name:"arrow",enabled:!0,phase:"main",fn:ev,effect:sv,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oi(i){return i.split("-")[1]}var iv={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nv(i){var e=i.x,t=i.y,s=window,n=s.devicePixelRatio||1;return{x:ni(e*n)/n||0,y:ni(t*n)/n||0}}function Zl(i){var e,t=i.popper,s=i.popperRect,n=i.placement,r=i.variation,a=i.offsets,l=i.position,c=i.gpuAcceleration,f=i.adaptive,g=i.roundOffsets,u=i.isFixed,v=a.x,b=v===void 0?0:v,_=a.y,S=_===void 0?0:_,w=typeof g=="function"?g({x:b,y:S}):{x:b,y:S};b=w.x,S=w.y;var p=a.hasOwnProperty("x"),E=a.hasOwnProperty("y"),T=gt,L=mt,A=window;if(f){var N=en(t),R="clientHeight",B="clientWidth";if(N===qt(t)&&(N=Ke(t),Le(N).position!=="static"&&l==="absolute"&&(R="scrollHeight",B="scrollWidth")),N=N,n===mt||(n===gt||n===Pt)&&r===ii){L=Dt;var H=u&&N===A&&A.visualViewport?A.visualViewport.height:N[R];S-=H-s.height,S*=c?1:-1}if(n===gt||(n===mt||n===Dt)&&r===ii){T=Pt;var O=u&&N===A&&A.visualViewport?A.visualViewport.width:N[B];b-=O-s.width,b*=c?1:-1}}var K=Object.assign({position:l},f&&iv),nt=g===!0?nv({x:b,y:S}):{x:b,y:S};if(b=nt.x,S=nt.y,c){var et;return Object.assign({},K,(et={},et[L]=E?"0":"",et[T]=p?"0":"",et.transform=(A.devicePixelRatio||1)<=1?"translate("+b+"px, "+S+"px)":"translate3d("+b+"px, "+S+"px, 0)",et))}return Object.assign({},K,(e={},e[L]=E?S+"px":"",e[T]=p?b+"px":"",e.transform="",e))}function rv(i){var e=i.state,t=i.options,s=t.gpuAcceleration,n=s===void 0?!0:s,r=t.adaptive,a=r===void 0?!0:r,l=t.roundOffsets,c=l===void 0?!0:l,f={placement:he(e.placement),variation:oi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Zl(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Zl(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Sa={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rv,data:{}};var Sn={passive:!0};function ov(i){var e=i.state,t=i.instance,s=i.options,n=s.scroll,r=n===void 0?!0:n,a=s.resize,l=a===void 0?!0:a,c=qt(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&f.forEach(function(g){g.addEventListener("scroll",t.update,Sn)}),l&&c.addEventListener("resize",t.update,Sn),function(){r&&f.forEach(function(g){g.removeEventListener("scroll",t.update,Sn)}),l&&c.removeEventListener("resize",t.update,Sn)}}const Ta={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ov,data:{}};var av={left:"right",right:"left",bottom:"top",top:"bottom"};function Pn(i){return i.replace(/left|right|bottom|top/g,function(e){return av[e]})}var lv={start:"end",end:"start"};function Xl(i){return i.replace(/start|end/g,function(e){return lv[e]})}function Aa(i){var e=qt(i),t=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:t,scrollTop:s}}function Ca(i){return ri(Ke(i)).left+Aa(i).scrollLeft}function cv(i,e){var t=qt(i),s=Ke(i),n=t.visualViewport,r=s.clientWidth,a=s.clientHeight,l=0,c=0;if(n){r=n.width,a=n.height;var f=Md();(f||!f&&e==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:r,height:a,x:l+Ca(i),y:c}}function hv(i){var e,t=Ke(i),s=Aa(i),n=(e=i.ownerDocument)==null?void 0:e.body,r=gs(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=gs(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-s.scrollLeft+Ca(i),c=-s.scrollTop;return Le(n||t).direction==="rtl"&&(l+=gs(t.clientWidth,n?n.clientWidth:0)-r),{width:r,height:a,x:l,y:c}}function ka(i){var e=Le(i),t=e.overflow,s=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+n+s)}function Ud(i){return["html","body","#document"].indexOf(ue(i))>=0?i.ownerDocument.body:Vt(i)&&ka(i)?i:Ud($r(i))}function Bi(i,e){var t;e===void 0&&(e=[]);var s=Ud(i),n=s===((t=i.ownerDocument)==null?void 0:t.body),r=qt(s),a=n?[r].concat(r.visualViewport||[],ka(s)?s:[]):s,l=e.concat(a);return n?l:l.concat(Bi($r(a)))}function Zo(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function dv(i,e){var t=ri(i,!1,e==="fixed");return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function Ql(i,e,t){return e===va?Zo(cv(i,t)):Es(e)?dv(e,t):Zo(hv(Ke(i)))}function uv(i){var e=Bi($r(i)),t=["absolute","fixed"].indexOf(Le(i).position)>=0,s=t&&Vt(i)?en(i):i;return Es(s)?e.filter(function(n){return Es(n)&&$d(n,s)&&ue(n)!=="body"}):[]}function fv(i,e,t,s){var n=e==="clippingParents"?uv(i):[].concat(e),r=[].concat(n,[t]),a=r[0],l=r.reduce(function(c,f){var g=Ql(i,f,s);return c.top=gs(g.top,c.top),c.right=_r(g.right,c.right),c.bottom=_r(g.bottom,c.bottom),c.left=gs(g.left,c.left),c},Ql(i,a,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Wd(i){var e=i.reference,t=i.element,s=i.placement,n=s?he(s):null,r=s?oi(s):null,a=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,c;switch(n){case mt:c={x:a,y:e.y-t.height};break;case Dt:c={x:a,y:e.y+e.height};break;case Pt:c={x:e.x+e.width,y:l};break;case gt:c={x:e.x-t.width,y:l};break;default:c={x:e.x,y:e.y}}var f=n?_a(n):null;if(f!=null){var g=f==="y"?"height":"width";switch(r){case ws:c[f]=c[f]-(e[g]/2-t[g]/2);break;case ii:c[f]=c[f]+(e[g]/2-t[g]/2);break}}return c}function ai(i,e){e===void 0&&(e={});var t=e,s=t.placement,n=s===void 0?i.placement:s,r=t.strategy,a=r===void 0?i.strategy:r,l=t.boundary,c=l===void 0?Td:l,f=t.rootBoundary,g=f===void 0?va:f,u=t.elementContext,v=u===void 0?Us:u,b=t.altBoundary,_=b===void 0?!1:b,S=t.padding,w=S===void 0?0:S,p=Hd(typeof w!="number"?w:Fd(w,li)),E=v===Us?Ad:Us,T=i.rects.popper,L=i.elements[_?E:v],A=fv(Es(L)?L:L.contextElement||Ke(i.elements.popper),c,g,a),N=ri(i.elements.reference),R=Wd({reference:N,element:T,strategy:"absolute",placement:n}),B=Zo(Object.assign({},T,R)),H=v===Us?B:N,O={top:A.top-H.top+p.top,bottom:H.bottom-A.bottom+p.bottom,left:A.left-H.left+p.left,right:H.right-A.right+p.right},K=i.modifiersData.offset;if(v===Us&&K){var nt=K[n];Object.keys(O).forEach(function(et){var Gt=[Pt,Dt].indexOf(et)>=0?1:-1,Mt=[mt,Dt].indexOf(et)>=0?"y":"x";O[et]+=nt[Mt]*Gt})}return O}function pv(i,e){e===void 0&&(e={});var t=e,s=t.placement,n=t.boundary,r=t.rootBoundary,a=t.padding,l=t.flipVariations,c=t.allowedAutoPlacements,f=c===void 0?ba:c,g=oi(s),u=g?l?Ko:Ko.filter(function(_){return oi(_)===g}):li,v=u.filter(function(_){return f.indexOf(_)>=0});v.length===0&&(v=u);var b=v.reduce(function(_,S){return _[S]=ai(i,{placement:S,boundary:n,rootBoundary:r,padding:a})[he(S)],_},{});return Object.keys(b).sort(function(_,S){return b[_]-b[S]})}function mv(i){if(he(i)===Mr)return[];var e=Pn(i);return[Xl(i),e,Xl(e)]}function gv(i){var e=i.state,t=i.options,s=i.name;if(!e.modifiersData[s]._skip){for(var n=t.mainAxis,r=n===void 0?!0:n,a=t.altAxis,l=a===void 0?!0:a,c=t.fallbackPlacements,f=t.padding,g=t.boundary,u=t.rootBoundary,v=t.altBoundary,b=t.flipVariations,_=b===void 0?!0:b,S=t.allowedAutoPlacements,w=e.options.placement,p=he(w),E=p===w,T=c||(E||!_?[Pn(w)]:mv(w)),L=[w].concat(T).reduce(function($t,bt){return $t.concat(he(bt)===Mr?pv(e,{placement:bt,boundary:g,rootBoundary:u,padding:f,flipVariations:_,allowedAutoPlacements:S}):bt)},[]),A=e.rects.reference,N=e.rects.popper,R=new Map,B=!0,H=L[0],O=0;O<L.length;O++){var K=L[O],nt=he(K),et=oi(K)===ws,Gt=[mt,Dt].indexOf(nt)>=0,Mt=Gt?"width":"height",st=ai(e,{placement:K,boundary:g,rootBoundary:u,altBoundary:v,padding:f}),rt=Gt?et?Pt:gt:et?Dt:mt;A[Mt]>N[Mt]&&(rt=Pn(rt));var ot=Pn(rt),X=[];if(r&&X.push(st[nt]<=0),l&&X.push(st[rt]<=0,st[ot]<=0),X.every(function($t){return $t})){H=K,B=!1;break}R.set(K,X)}if(B)for(var Xe=_?3:1,ut=function(bt){var Bt=L.find(function(At){var Ht=R.get(At);if(Ht)return Ht.slice(0,bt).every(function(Ct){return Ct})});if(Bt)return H=Bt,"break"},Qt=Xe;Qt>0;Qt--){var pe=ut(Qt);if(pe==="break")break}e.placement!==H&&(e.modifiersData[s]._skip=!0,e.placement=H,e.reset=!0)}}const Vd={name:"flip",enabled:!0,phase:"main",fn:gv,requiresIfExists:["offset"],data:{_skip:!1}};function Jl(i,e,t){return t===void 0&&(t={x:0,y:0}),{top:i.top-e.height-t.y,right:i.right-e.width+t.x,bottom:i.bottom-e.height+t.y,left:i.left-e.width-t.x}}function tc(i){return[mt,Pt,Dt,gt].some(function(e){return i[e]>=0})}function vv(i){var e=i.state,t=i.name,s=e.rects.reference,n=e.rects.popper,r=e.modifiersData.preventOverflow,a=ai(e,{elementContext:"reference"}),l=ai(e,{altBoundary:!0}),c=Jl(a,s),f=Jl(l,n,r),g=tc(c),u=tc(f);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:g,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":u})}const jd={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vv};function bv(i,e,t){var s=he(i),n=[gt,mt].indexOf(s)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:i})):t,a=r[0],l=r[1];return a=a||0,l=(l||0)*n,[gt,Pt].indexOf(s)>=0?{x:l,y:a}:{x:a,y:l}}function yv(i){var e=i.state,t=i.options,s=i.name,n=t.offset,r=n===void 0?[0,0]:n,a=ba.reduce(function(g,u){return g[u]=bv(u,e.rects,r),g},{}),l=a[e.placement],c=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[s]=a}const qd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yv};function wv(i){var e=i.state,t=i.name;e.modifiersData[t]=Wd({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const La={name:"popperOffsets",enabled:!0,phase:"read",fn:wv,data:{}};function Ev(i){return i==="x"?"y":"x"}function _v(i){var e=i.state,t=i.options,s=i.name,n=t.mainAxis,r=n===void 0?!0:n,a=t.altAxis,l=a===void 0?!1:a,c=t.boundary,f=t.rootBoundary,g=t.altBoundary,u=t.padding,v=t.tether,b=v===void 0?!0:v,_=t.tetherOffset,S=_===void 0?0:_,w=ai(e,{boundary:c,rootBoundary:f,padding:u,altBoundary:g}),p=he(e.placement),E=oi(e.placement),T=!E,L=_a(p),A=Ev(L),N=e.modifiersData.popperOffsets,R=e.rects.reference,B=e.rects.popper,H=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,O=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),K=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,nt={x:0,y:0};if(N){if(r){var et,Gt=L==="y"?mt:gt,Mt=L==="y"?Dt:Pt,st=L==="y"?"height":"width",rt=N[L],ot=rt+w[Gt],X=rt-w[Mt],Xe=b?-B[st]/2:0,ut=E===ws?R[st]:B[st],Qt=E===ws?-B[st]:-R[st],pe=e.elements.arrow,$t=b&&pe?Ea(pe):{width:0,height:0},bt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Bd(),Bt=bt[Gt],At=bt[Mt],Ht=$i(0,R[st],$t[st]),Ct=T?R[st]/2-Xe-Ht-Bt-O.mainAxis:ut-Ht-Bt-O.mainAxis,hi=T?-R[st]/2+Xe+Ht+At+O.mainAxis:Qt+Ht+At+O.mainAxis,Ie=e.elements.arrow&&en(e.elements.arrow),di=Ie?L==="y"?Ie.clientTop||0:Ie.clientLeft||0:0,ui=(et=K==null?void 0:K[L])!=null?et:0,ln=rt+Ct-ui-di,fi=rt+hi-ui,Jt=$i(b?_r(ot,ln):ot,rt,b?gs(X,fi):X);N[L]=Jt,nt[L]=Jt-rt}if(l){var G,Qe=L==="x"?mt:gt,me=L==="x"?Dt:Pt,Zt=N[A],te=A==="y"?"height":"width",Je=Zt+w[Qe],xe=Zt-w[me],Q=[mt,gt].indexOf(p)!==-1,F=(G=K==null?void 0:K[A])!=null?G:0,kt=Q?Je:Zt-R[te]-B[te]-F+O.altAxis,Ft=Q?Zt+R[te]+B[te]-F-O.altAxis:xe,pi=b&&Q?Jg(kt,Zt,Ft):$i(b?kt:Je,Zt,b?Ft:xe);N[A]=pi,nt[A]=pi-Zt}e.modifiersData[s]=nt}}const Yd={name:"preventOverflow",enabled:!0,phase:"main",fn:_v,requiresIfExists:["offset"]};function Sv(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function Tv(i){return i===qt(i)||!Vt(i)?Aa(i):Sv(i)}function Av(i){var e=i.getBoundingClientRect(),t=ni(e.width)/i.offsetWidth||1,s=ni(e.height)/i.offsetHeight||1;return t!==1||s!==1}function Cv(i,e,t){t===void 0&&(t=!1);var s=Vt(e),n=Vt(e)&&Av(e),r=Ke(e),a=ri(i,n,t),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!t)&&((ue(e)!=="body"||ka(r))&&(l=Tv(e)),Vt(e)?(c=ri(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=Ca(r))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function kv(i){var e=new Map,t=new Set,s=[];i.forEach(function(r){e.set(r.name,r)});function n(r){t.add(r.name);var a=[].concat(r.requires||[],r.requiresIfExists||[]);a.forEach(function(l){if(!t.has(l)){var c=e.get(l);c&&n(c)}}),s.push(r)}return i.forEach(function(r){t.has(r.name)||n(r)}),s}function Lv(i){var e=kv(i);return Rd.reduce(function(t,s){return t.concat(e.filter(function(n){return n.phase===s}))},[])}function Iv(i){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(i())})})),e}}function xv(i){var e=i.reduce(function(t,s){var n=t[s.name];return t[s.name]=n?Object.assign({},n,s,{options:Object.assign({},n.options,s.options),data:Object.assign({},n.data,s.data)}):s,t},{});return Object.keys(e).map(function(t){return e[t]})}var ec={placement:"bottom",modifiers:[],strategy:"absolute"};function sc(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Br(i){i===void 0&&(i={});var e=i,t=e.defaultModifiers,s=t===void 0?[]:t,n=e.defaultOptions,r=n===void 0?ec:n;return function(l,c,f){f===void 0&&(f=r);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},ec,r),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},u=[],v=!1,b={state:g,setOptions:function(p){var E=typeof p=="function"?p(g.options):p;S(),g.options=Object.assign({},r,g.options,E),g.scrollParents={reference:Es(l)?Bi(l):l.contextElement?Bi(l.contextElement):[],popper:Bi(c)};var T=Lv(xv([].concat(s,g.options.modifiers)));return g.orderedModifiers=T.filter(function(L){return L.enabled}),_(),b.update()},forceUpdate:function(){if(!v){var p=g.elements,E=p.reference,T=p.popper;if(sc(E,T)){g.rects={reference:Cv(E,en(T),g.options.strategy==="fixed"),popper:Ea(T)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(O){return g.modifiersData[O.name]=Object.assign({},O.data)});for(var L=0;L<g.orderedModifiers.length;L++){if(g.reset===!0){g.reset=!1,L=-1;continue}var A=g.orderedModifiers[L],N=A.fn,R=A.options,B=R===void 0?{}:R,H=A.name;typeof N=="function"&&(g=N({state:g,options:B,name:H,instance:b})||g)}}}},update:Iv(function(){return new Promise(function(w){b.forceUpdate(),w(g)})}),destroy:function(){S(),v=!0}};if(!sc(l,c))return b;b.setOptions(f).then(function(w){!v&&f.onFirstUpdate&&f.onFirstUpdate(w)});function _(){g.orderedModifiers.forEach(function(w){var p=w.name,E=w.options,T=E===void 0?{}:E,L=w.effect;if(typeof L=="function"){var A=L({state:g,name:p,instance:b,options:T}),N=function(){};u.push(A||N)}})}function S(){u.forEach(function(w){return w()}),u=[]}return b}}var Ov=Br(),Nv=[Ta,La,Sa,wa],Dv=Br({defaultModifiers:Nv}),Pv=[Ta,La,Sa,wa,qd,Vd,Yd,zd,jd],Hr=Br({defaultModifiers:Pv});const Kd=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Od,afterRead:Ld,afterWrite:Pd,applyStyles:wa,arrow:zd,auto:Mr,basePlacements:li,beforeMain:Id,beforeRead:Cd,beforeWrite:Nd,bottom:Dt,clippingParents:Td,computeStyles:Sa,createPopper:Hr,createPopperBase:Ov,createPopperLite:Dv,detectOverflow:ai,end:ii,eventListeners:Ta,flip:Vd,hide:jd,left:gt,main:xd,modifierPhases:Rd,offset:qd,placements:ba,popper:Us,popperGenerator:Br,popperOffsets:La,preventOverflow:Yd,read:kd,reference:Ad,right:Pt,start:ws,top:mt,variationPlacements:Ko,viewport:va,write:Dd},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Rv=1e6,Mv=1e3,Xo="transitionend",$v=i=>i==null?`${i}`:{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),Bv=i=>{do i+=Math.floor(Math.random()*Rv);while(document.getElementById(i));return i},Gd=i=>{let e=i.getAttribute("data-bs-target");if(!e||e==="#"){let t=i.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e},Ia=i=>{const e=Gd(i);return e&&document.querySelector(e)?e:null},qe=i=>{const e=Gd(i);return e?document.querySelector(e):null},Hv=i=>{if(!i)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(i);const s=Number.parseFloat(e),n=Number.parseFloat(t);return!s&&!n?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*Mv)},Zd=i=>{i.dispatchEvent(new Event(Xo))},_s=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),Ye=i=>_s(i)?i.jquery?i[0]:i:typeof i=="string"&&i.length>0?document.querySelector(i):null,fe=(i,e,t)=>{Object.keys(t).forEach(s=>{const n=t[s],r=e[s],a=r&&_s(r)?"element":$v(r);if(!new RegExp(n).test(a))throw new TypeError(`${i.toUpperCase()}: Option "${s}" provided type "${a}" but expected type "${n}".`)})},sn=i=>!_s(i)||i.getClientRects().length===0?!1:getComputedStyle(i).getPropertyValue("visibility")==="visible",vs=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",Xd=i=>{if(!document.documentElement.attachShadow)return null;if(typeof i.getRootNode=="function"){const e=i.getRootNode();return e instanceof ShadowRoot?e:null}return i instanceof ShadowRoot?i:i.parentNode?Xd(i.parentNode):null},Sr=()=>{},ci=i=>{i.offsetHeight},Qd=()=>{const{jQuery:i}=window;return i&&!document.body.hasAttribute("data-bs-no-jquery")?i:null},So=[],Fv=i=>{document.readyState==="loading"?(So.length||document.addEventListener("DOMContentLoaded",()=>{So.forEach(e=>e())}),So.push(i)):i()},Tt=()=>document.documentElement.dir==="rtl",Yt=i=>{Fv(()=>{const e=Qd();if(e){const t=i.NAME,s=e.fn[t];e.fn[t]=i.jQueryInterface,e.fn[t].Constructor=i,e.fn[t].noConflict=()=>(e.fn[t]=s,i.jQueryInterface)}})},fs=i=>{typeof i=="function"&&i()},Jd=(i,e,t=!0)=>{if(!t){fs(i);return}const s=5,n=Hv(e)+s;let r=!1;const a=({target:l})=>{l===e&&(r=!0,e.removeEventListener(Xo,a),fs(i))};e.addEventListener(Xo,a),setTimeout(()=>{r||Zd(e)},n)},tu=(i,e,t,s)=>{let n=i.indexOf(e);if(n===-1)return i[!t&&s?i.length-1:0];const r=i.length;return n+=t?1:-1,s&&(n=(n+r)%r),i[Math.max(0,Math.min(n,r-1))]},zv=/[^.]*(?=\..*)\.|.*/,Uv=/\..*/,Wv=/::\d+$/,To={};let ic=1;const Vv={mouseenter:"mouseover",mouseleave:"mouseout"},jv=/^(mouseenter|mouseleave)/i,eu=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function su(i,e){return e&&`${e}::${ic++}`||i.uidEvent||ic++}function iu(i){const e=su(i);return i.uidEvent=e,To[e]=To[e]||{},To[e]}function qv(i,e){return function t(s){return s.delegateTarget=i,t.oneOff&&k.off(i,s.type,e),e.apply(i,[s])}}function Yv(i,e,t){return function s(n){const r=i.querySelectorAll(e);for(let{target:a}=n;a&&a!==this;a=a.parentNode)for(let l=r.length;l--;)if(r[l]===a)return n.delegateTarget=a,s.oneOff&&k.off(i,n.type,e,t),t.apply(a,[n]);return null}}function nu(i,e,t=null){const s=Object.keys(i);for(let n=0,r=s.length;n<r;n++){const a=i[s[n]];if(a.originalHandler===e&&a.delegationSelector===t)return a}return null}function ru(i,e,t){const s=typeof e=="string",n=s?t:e;let r=ou(i);return eu.has(r)||(r=i),[s,n,r]}function nc(i,e,t,s,n){if(typeof e!="string"||!i)return;if(t||(t=s,s=null),jv.test(e)){const b=_=>function(S){if(!S.relatedTarget||S.relatedTarget!==S.delegateTarget&&!S.delegateTarget.contains(S.relatedTarget))return _.call(this,S)};s?s=b(s):t=b(t)}const[r,a,l]=ru(e,t,s),c=iu(i),f=c[l]||(c[l]={}),g=nu(f,a,r?t:null);if(g){g.oneOff=g.oneOff&&n;return}const u=su(a,e.replace(zv,"")),v=r?Yv(i,t,s):qv(i,t);v.delegationSelector=r?t:null,v.originalHandler=a,v.oneOff=n,v.uidEvent=u,f[u]=v,i.addEventListener(l,v,r)}function Qo(i,e,t,s,n){const r=nu(e[t],s,n);r&&(i.removeEventListener(t,r,Boolean(n)),delete e[t][r.uidEvent])}function Kv(i,e,t,s){const n=e[t]||{};Object.keys(n).forEach(r=>{if(r.includes(s)){const a=n[r];Qo(i,e,t,a.originalHandler,a.delegationSelector)}})}function ou(i){return i=i.replace(Uv,""),Vv[i]||i}const k={on(i,e,t,s){nc(i,e,t,s,!1)},one(i,e,t,s){nc(i,e,t,s,!0)},off(i,e,t,s){if(typeof e!="string"||!i)return;const[n,r,a]=ru(e,t,s),l=a!==e,c=iu(i),f=e.startsWith(".");if(typeof r<"u"){if(!c||!c[a])return;Qo(i,c,a,r,n?t:null);return}f&&Object.keys(c).forEach(u=>{Kv(i,c,u,e.slice(1))});const g=c[a]||{};Object.keys(g).forEach(u=>{const v=u.replace(Wv,"");if(!l||e.includes(v)){const b=g[u];Qo(i,c,a,b.originalHandler,b.delegationSelector)}})},trigger(i,e,t){if(typeof e!="string"||!i)return null;const s=Qd(),n=ou(e),r=e!==n,a=eu.has(n);let l,c=!0,f=!0,g=!1,u=null;return r&&s&&(l=s.Event(e,t),s(i).trigger(l),c=!l.isPropagationStopped(),f=!l.isImmediatePropagationStopped(),g=l.isDefaultPrevented()),a?(u=document.createEvent("HTMLEvents"),u.initEvent(n,c,!0)):u=new CustomEvent(e,{bubbles:c,cancelable:!0}),typeof t<"u"&&Object.keys(t).forEach(v=>{Object.defineProperty(u,v,{get(){return t[v]}})}),g&&u.preventDefault(),f&&i.dispatchEvent(u),u.defaultPrevented&&typeof l<"u"&&l.preventDefault(),u}},Be=new Map,Hi={set(i,e,t){Be.has(i)||Be.set(i,new Map);const s=Be.get(i);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,t)},get(i,e){return Be.has(i)&&Be.get(i).get(e)||null},remove(i,e){if(!Be.has(i))return;const t=Be.get(i);t.delete(e),t.size===0&&Be.delete(i)}},Gv="5.1.3";class Xt{constructor(e){e=Ye(e),e&&(this._element=e,Hi.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Hi.remove(this._element,this.constructor.DATA_KEY),k.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(e=>{this[e]=null})}_queueCallback(e,t,s=!0){Jd(e,t,s)}static getInstance(e){return Hi.get(Ye(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return Gv}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const Fr=(i,e="hide")=>{const t=`click.dismiss${i.EVENT_KEY}`,s=i.NAME;k.on(document,t,`[data-bs-dismiss="${s}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),vs(this))return;const r=qe(this)||this.closest(`.${s}`);i.getOrCreateInstance(r)[e]()})},Zv="alert",Xv="bs.alert",au=`.${Xv}`,Qv=`close${au}`,Jv=`closed${au}`,tb="fade",eb="show";class zr extends Xt{static get NAME(){return Zv}close(){if(k.trigger(this._element,Qv).defaultPrevented)return;this._element.classList.remove(eb);const t=this._element.classList.contains(tb);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),k.trigger(this._element,Jv),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=zr.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Fr(zr,"close");Yt(zr);const sb="button",ib="bs.button",nb=`.${ib}`,rb=".data-api",ob="active",rc='[data-bs-toggle="button"]',ab=`click${nb}${rb}`;class Ur extends Xt{static get NAME(){return sb}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ob))}static jQueryInterface(e){return this.each(function(){const t=Ur.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}k.on(document,ab,rc,i=>{i.preventDefault();const e=i.target.closest(rc);Ur.getOrCreateInstance(e).toggle()});Yt(Ur);function oc(i){return i==="true"?!0:i==="false"?!1:i===Number(i).toString()?Number(i):i===""||i==="null"?null:i}function Ao(i){return i.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ct={setDataAttribute(i,e,t){i.setAttribute(`data-bs-${Ao(e)}`,t)},removeDataAttribute(i,e){i.removeAttribute(`data-bs-${Ao(e)}`)},getDataAttributes(i){if(!i)return{};const e={};return Object.keys(i.dataset).filter(t=>t.startsWith("bs")).forEach(t=>{let s=t.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=oc(i.dataset[t])}),e},getDataAttribute(i,e){return oc(i.getAttribute(`data-bs-${Ao(e)}`))},offset(i){const e=i.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position(i){return{top:i.offsetTop,left:i.offsetLeft}}},lb=3,P={find(i,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,i))},findOne(i,e=document.documentElement){return Element.prototype.querySelector.call(e,i)},children(i,e){return[].concat(...i.children).filter(t=>t.matches(e))},parents(i,e){const t=[];let s=i.parentNode;for(;s&&s.nodeType===Node.ELEMENT_NODE&&s.nodeType!==lb;)s.matches(e)&&t.push(s),s=s.parentNode;return t},prev(i,e){let t=i.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(i,e){let t=i.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(i){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(", ");return this.find(e,i).filter(t=>!vs(t)&&sn(t))}},ac="carousel",cb="bs.carousel",Rt=`.${cb}`,lu=".data-api",hb="ArrowLeft",db="ArrowRight",ub=500,fb=40,lc={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},pb={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},as="next",ls="prev",ds="left",Ni="right",mb={[hb]:Ni,[db]:ds},gb=`slide${Rt}`,cc=`slid${Rt}`,vb=`keydown${Rt}`,bb=`mouseenter${Rt}`,yb=`mouseleave${Rt}`,wb=`touchstart${Rt}`,Eb=`touchmove${Rt}`,_b=`touchend${Rt}`,Sb=`pointerdown${Rt}`,Tb=`pointerup${Rt}`,Ab=`dragstart${Rt}`,Cb=`load${Rt}${lu}`,kb=`click${Rt}${lu}`,Lb="carousel",cs="active",Ib="slide",xb="carousel-item-end",Ob="carousel-item-start",Nb="carousel-item-next",Db="carousel-item-prev",Pb="pointer-event",Rb=".active",Tn=".active.carousel-item",Mb=".carousel-item",$b=".carousel-item img",Bb=".carousel-item-next, .carousel-item-prev",Hb=".carousel-indicators",Fb="[data-bs-target]",zb="[data-bs-slide], [data-bs-slide-to]",Ub='[data-bs-ride="carousel"]',Wb="touch",Vb="pen";let Zi=class Di extends Xt{constructor(e,t){super(e),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._indicatorsElement=P.findOne(Hb,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return lc}static get NAME(){return ac}next(){this._slide(as)}nextWhenVisible(){!document.hidden&&sn(this._element)&&this.next()}prev(){this._slide(ls)}pause(e){e||(this._isPaused=!0),P.findOne(Bb,this._element)&&(Zd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=P.findOne(Tn,this._element);const t=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0)return;if(this._isSliding){k.one(this._element,cc,()=>this.to(e));return}if(t===e){this.pause(),this.cycle();return}const s=e>t?as:ls;this._slide(s,this._items[e])}_getConfig(e){return e={...lc,...ct.getDataAttributes(this._element),...typeof e=="object"?e:{}},fe(ac,e,pb),e}_handleSwipe(){const e=Math.abs(this.touchDeltaX);if(e<=fb)return;const t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?Ni:ds)}_addEventListeners(){this._config.keyboard&&k.on(this._element,vb,e=>this._keydown(e)),this._config.pause==="hover"&&(k.on(this._element,bb,e=>this.pause(e)),k.on(this._element,yb,e=>this.cycle(e))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const e=r=>this._pointerEvent&&(r.pointerType===Vb||r.pointerType===Wb),t=r=>{e(r)?this.touchStartX=r.clientX:this._pointerEvent||(this.touchStartX=r.touches[0].clientX)},s=r=>{this.touchDeltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this.touchStartX},n=r=>{e(r)&&(this.touchDeltaX=r.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(a=>this.cycle(a),ub+this._config.interval))};P.find($b,this._element).forEach(r=>{k.on(r,Ab,a=>a.preventDefault())}),this._pointerEvent?(k.on(this._element,Sb,r=>t(r)),k.on(this._element,Tb,r=>n(r)),this._element.classList.add(Pb)):(k.on(this._element,wb,r=>t(r)),k.on(this._element,Eb,r=>s(r)),k.on(this._element,_b,r=>n(r)))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=mb[e.key];t&&(e.preventDefault(),this._slide(t))}_getItemIndex(e){return this._items=e&&e.parentNode?P.find(Mb,e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,t){const s=e===as;return tu(this._items,t,s,this._config.wrap)}_triggerSlideEvent(e,t){const s=this._getItemIndex(e),n=this._getItemIndex(P.findOne(Tn,this._element));return k.trigger(this._element,gb,{relatedTarget:e,direction:t,from:n,to:s})}_setActiveIndicatorElement(e){if(this._indicatorsElement){const t=P.findOne(Rb,this._indicatorsElement);t.classList.remove(cs),t.removeAttribute("aria-current");const s=P.find(Fb,this._indicatorsElement);for(let n=0;n<s.length;n++)if(Number.parseInt(s[n].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){s[n].classList.add(cs),s[n].setAttribute("aria-current","true");break}}}_updateInterval(){const e=this._activeElement||P.findOne(Tn,this._element);if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,t){const s=this._directionToOrder(e),n=P.findOne(Tn,this._element),r=this._getItemIndex(n),a=t||this._getItemByOrder(s,n),l=this._getItemIndex(a),c=Boolean(this._interval),f=s===as,g=f?Ob:xb,u=f?Nb:Db,v=this._orderToDirection(s);if(a&&a.classList.contains(cs)){this._isSliding=!1;return}if(this._isSliding||this._triggerSlideEvent(a,v).defaultPrevented||!n||!a)return;this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(a),this._activeElement=a;const _=()=>{k.trigger(this._element,cc,{relatedTarget:a,direction:v,from:r,to:l})};if(this._element.classList.contains(Ib)){a.classList.add(u),ci(a),n.classList.add(g),a.classList.add(g);const S=()=>{a.classList.remove(g,u),a.classList.add(cs),n.classList.remove(cs,u,g),this._isSliding=!1,setTimeout(_,0)};this._queueCallback(S,n,!0)}else n.classList.remove(cs),a.classList.add(cs),this._isSliding=!1,_();c&&this.cycle()}_directionToOrder(e){return[Ni,ds].includes(e)?Tt()?e===ds?ls:as:e===ds?as:ls:e}_orderToDirection(e){return[as,ls].includes(e)?Tt()?e===ls?ds:Ni:e===ls?Ni:ds:e}static carouselInterface(e,t){const s=Di.getOrCreateInstance(e,t);let{_config:n}=s;typeof t=="object"&&(n={...n,...t});const r=typeof t=="string"?t:n.slide;if(typeof t=="number")s.to(t);else if(typeof r=="string"){if(typeof s[r]>"u")throw new TypeError(`No method named "${r}"`);s[r]()}else n.interval&&n.ride&&(s.pause(),s.cycle())}static jQueryInterface(e){return this.each(function(){Di.carouselInterface(this,e)})}static dataApiClickHandler(e){const t=qe(this);if(!t||!t.classList.contains(Lb))return;const s={...ct.getDataAttributes(t),...ct.getDataAttributes(this)},n=this.getAttribute("data-bs-slide-to");n&&(s.interval=!1),Di.carouselInterface(t,s),n&&Di.getInstance(t).to(n),e.preventDefault()}};k.on(document,kb,zb,Zi.dataApiClickHandler);k.on(window,Cb,()=>{const i=P.find(Ub);for(let e=0,t=i.length;e<t;e++)Zi.carouselInterface(i[e],Zi.getInstance(i[e]))});Yt(Zi);const hc="collapse",cu="bs.collapse",nn=`.${cu}`,jb=".data-api",dc={toggle:!0,parent:null},qb={toggle:"boolean",parent:"(null|element)"},Yb=`show${nn}`,Kb=`shown${nn}`,Gb=`hide${nn}`,Zb=`hidden${nn}`,Xb=`click${nn}${jb}`,Co="show",Vs="collapse",An="collapsing",uc="collapsed",fc=`:scope .${Vs} .${Vs}`,Qb="collapse-horizontal",Jb="width",ty="height",ey=".collapse.show, .collapse.collapsing",Jo='[data-bs-toggle="collapse"]';let xa=class Rn extends Xt{constructor(e,t){super(e),this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];const s=P.find(Jo);for(let n=0,r=s.length;n<r;n++){const a=s[n],l=Ia(a),c=P.find(l).filter(f=>f===this._element);l!==null&&c.length&&(this._selector=l,this._triggerArray.push(a))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return dc}static get NAME(){return hc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[],t;if(this._config.parent){const f=P.find(fc,this._config.parent);e=P.find(ey,this._config.parent).filter(g=>!f.includes(g))}const s=P.findOne(this._selector);if(e.length){const f=e.find(g=>s!==g);if(t=f?Rn.getInstance(f):null,t&&t._isTransitioning)return}if(k.trigger(this._element,Yb).defaultPrevented)return;e.forEach(f=>{s!==f&&Rn.getOrCreateInstance(f,{toggle:!1}).hide(),t||Hi.set(f,cu,null)});const r=this._getDimension();this._element.classList.remove(Vs),this._element.classList.add(An),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(An),this._element.classList.add(Vs,Co),this._element.style[r]="",k.trigger(this._element,Kb)},c=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[r]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown()||k.trigger(this._element,Gb).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,ci(this._element),this._element.classList.add(An),this._element.classList.remove(Vs,Co);const s=this._triggerArray.length;for(let r=0;r<s;r++){const a=this._triggerArray[r],l=qe(a);l&&!this._isShown(l)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(An),this._element.classList.add(Vs),k.trigger(this._element,Zb)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Co)}_getConfig(e){return e={...dc,...ct.getDataAttributes(this._element),...e},e.toggle=Boolean(e.toggle),e.parent=Ye(e.parent),fe(hc,e,qb),e}_getDimension(){return this._element.classList.contains(Qb)?Jb:ty}_initializeChildren(){if(!this._config.parent)return;const e=P.find(fc,this._config.parent);P.find(Jo,this._config.parent).filter(t=>!e.includes(t)).forEach(t=>{const s=qe(t);s&&this._addAriaAndCollapsedClass([t],this._isShown(s))})}_addAriaAndCollapsedClass(e,t){e.length&&e.forEach(s=>{t?s.classList.remove(uc):s.classList.add(uc),s.setAttribute("aria-expanded",t)})}static jQueryInterface(e){return this.each(function(){const t={};typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1);const s=Rn.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}};k.on(document,Xb,Jo,function(i){(i.target.tagName==="A"||i.delegateTarget&&i.delegateTarget.tagName==="A")&&i.preventDefault();const e=Ia(this);P.find(e).forEach(s=>{xa.getOrCreateInstance(s,{toggle:!1}).toggle()})});Yt(xa);const ko="dropdown",sy="bs.dropdown",Cs=`.${sy}`,Oa=".data-api",Mn="Escape",pc="Space",mc="Tab",ta="ArrowUp",$n="ArrowDown",iy=2,ny=new RegExp(`${ta}|${$n}|${Mn}`),ry=`hide${Cs}`,oy=`hidden${Cs}`,ay=`show${Cs}`,ly=`shown${Cs}`,hu=`click${Cs}${Oa}`,du=`keydown${Cs}${Oa}`,cy=`keyup${Cs}${Oa}`,Bs="show",hy="dropup",dy="dropend",uy="dropstart",fy="navbar",Fi='[data-bs-toggle="dropdown"]',ea=".dropdown-menu",py=".navbar-nav",my=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",gy=Tt()?"top-end":"top-start",vy=Tt()?"top-start":"top-end",by=Tt()?"bottom-end":"bottom-start",yy=Tt()?"bottom-start":"bottom-end",wy=Tt()?"left-start":"right-start",Ey=Tt()?"right-start":"left-start",_y={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Sy={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};let ks=class Ws extends Xt{constructor(e,t){super(e),this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return _y}static get DefaultType(){return Sy}static get NAME(){return ko}toggle(){return this._isShown()?this.hide():this.show()}show(){if(vs(this._element)||this._isShown(this._menu))return;const e={relatedTarget:this._element};if(k.trigger(this._element,ay,e).defaultPrevented)return;const s=Ws.getParentFromElement(this._element);this._inNavbar?ct.setDataAttribute(this._menu,"popper","none"):this._createPopper(s),"ontouchstart"in document.documentElement&&!s.closest(py)&&[].concat(...document.body.children).forEach(n=>k.on(n,"mouseover",Sr)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bs),this._element.classList.add(Bs),k.trigger(this._element,ly,e)}hide(){if(vs(this._element)||!this._isShown(this._menu))return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){k.trigger(this._element,ry,e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(s=>k.off(s,"mouseover",Sr)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Bs),this._element.classList.remove(Bs),this._element.setAttribute("aria-expanded","false"),ct.removeDataAttribute(this._menu,"popper"),k.trigger(this._element,oy,e))}_getConfig(e){if(e={...this.constructor.Default,...ct.getDataAttributes(this._element),...e},fe(ko,e,this.constructor.DefaultType),typeof e.reference=="object"&&!_s(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${ko.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(typeof Kd>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=e:_s(this._config.reference)?t=Ye(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const s=this._getPopperConfig(),n=s.modifiers.find(r=>r.name==="applyStyles"&&r.enabled===!1);this._popper=Hr(t,this._menu,s),n&&ct.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.classList.contains(Bs)}_getMenuElement(){return P.next(this._element,ea)[0]}_getPlacement(){const e=this._element.parentNode;if(e.classList.contains(dy))return wy;if(e.classList.contains(uy))return Ey;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(hy)?t?vy:gy:t?yy:by}_detectNavbar(){return this._element.closest(`.${fy}`)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const s=P.find(my,this._menu).filter(sn);s.length&&tu(s,t,e===$n,!s.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Ws.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e&&(e.button===iy||e.type==="keyup"&&e.key!==mc))return;const t=P.find(Fi);for(let s=0,n=t.length;s<n;s++){const r=Ws.getInstance(t[s]);if(!r||r._config.autoClose===!1||!r._isShown())continue;const a={relatedTarget:r._element};if(e){const l=e.composedPath(),c=l.includes(r._menu);if(l.includes(r._element)||r._config.autoClose==="inside"&&!c||r._config.autoClose==="outside"&&c||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===mc||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;e.type==="click"&&(a.clickEvent=e)}r._completeHide(a)}}static getParentFromElement(e){return qe(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===pc||e.key!==Mn&&(e.key!==$n&&e.key!==ta||e.target.closest(ea)):!ny.test(e.key))return;const t=this.classList.contains(Bs);if(!t&&e.key===Mn||(e.preventDefault(),e.stopPropagation(),vs(this)))return;const s=this.matches(Fi)?this:P.prev(this,Fi)[0],n=Ws.getOrCreateInstance(s);if(e.key===Mn){n.hide();return}if(e.key===ta||e.key===$n){t||n.show(),n._selectMenuItem(e);return}(!t||e.key===pc)&&Ws.clearMenus()}};k.on(document,du,Fi,ks.dataApiKeydownHandler);k.on(document,du,ea,ks.dataApiKeydownHandler);k.on(document,hu,ks.clearMenus);k.on(document,cy,ks.clearMenus);k.on(document,hu,Fi,function(i){i.preventDefault(),ks.getOrCreateInstance(this).toggle()});Yt(ks);const gc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",vc=".sticky-top";class sa{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",t=>t+e),this._setElementAttributes(gc,"paddingRight",t=>t+e),this._setElementAttributes(vc,"marginRight",t=>t-e)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,s){const n=this.getWidth(),r=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+n)return;this._saveInitialAttribute(a,t);const l=window.getComputedStyle(a)[t];a.style[t]=`${s(Number.parseFloat(l))}px`};this._applyManipulationCallback(e,r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(gc,"paddingRight"),this._resetElementAttributes(vc,"marginRight")}_saveInitialAttribute(e,t){const s=e.style[t];s&&ct.setDataAttribute(e,t,s)}_resetElementAttributes(e,t){const s=n=>{const r=ct.getDataAttribute(n,t);typeof r>"u"?n.style.removeProperty(t):(ct.removeDataAttribute(n,t),n.style[t]=r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,t){_s(e)?t(e):P.find(e,this._element).forEach(t)}isOverflowing(){return this.getWidth()>0}}const Ty={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Ay={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},uu="backdrop",Cy="fade",bc="show",yc=`mousedown.bs.${uu}`;class fu{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){if(!this._config.isVisible){fs(e);return}this._append(),this._config.isAnimated&&ci(this._getElement()),this._getElement().classList.add(bc),this._emulateAnimation(()=>{fs(e)})}hide(e){if(!this._config.isVisible){fs(e);return}this._getElement().classList.remove(bc),this._emulateAnimation(()=>{this.dispose(),fs(e)})}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Cy),this._element=e}return this._element}_getConfig(e){return e={...Ty,...typeof e=="object"?e:{}},e.rootElement=Ye(e.rootElement),fe(uu,e,Ay),e}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),k.on(this._getElement(),yc,()=>{fs(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(k.off(this._element,yc),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){Jd(e,this._getElement(),this._config.isAnimated)}}const ky={trapElement:null,autofocus:!0},Ly={trapElement:"element",autofocus:"boolean"},Iy="focustrap",xy="bs.focustrap",Tr=`.${xy}`,Oy=`focusin${Tr}`,Ny=`keydown.tab${Tr}`,Dy="Tab",Py="forward",wc="backward";class pu{constructor(e){this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:e,autofocus:t}=this._config;this._isActive||(t&&e.focus(),k.off(document,Tr),k.on(document,Oy,s=>this._handleFocusin(s)),k.on(document,Ny,s=>this._handleKeydown(s)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,k.off(document,Tr))}_handleFocusin(e){const{target:t}=e,{trapElement:s}=this._config;if(t===document||t===s||s.contains(t))return;const n=P.focusableChildren(s);n.length===0?s.focus():this._lastTabNavDirection===wc?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Dy&&(this._lastTabNavDirection=e.shiftKey?wc:Py)}_getConfig(e){return e={...ky,...typeof e=="object"?e:{}},fe(Iy,e,Ly),e}}const Ec="modal",Ry="bs.modal",Kt=`.${Ry}`,My=".data-api",_c="Escape",Sc={backdrop:!0,keyboard:!0,focus:!0},$y={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},By=`hide${Kt}`,Hy=`hidePrevented${Kt}`,mu=`hidden${Kt}`,gu=`show${Kt}`,Fy=`shown${Kt}`,Tc=`resize${Kt}`,Ac=`click.dismiss${Kt}`,Cc=`keydown.dismiss${Kt}`,zy=`mouseup.dismiss${Kt}`,kc=`mousedown.dismiss${Kt}`,Uy=`click${Kt}${My}`,Lc="modal-open",Wy="fade",Ic="show",Lo="modal-static",Vy=".modal.show",jy=".modal-dialog",qy=".modal-body",Yy='[data-bs-toggle="modal"]';let Xi=class vu extends Xt{constructor(e,t){super(e),this._config=this._getConfig(t),this._dialog=P.findOne(jy,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new sa}static get Default(){return Sc}static get NAME(){return Ec}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||k.trigger(this._element,gu,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Lc),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),k.on(this._dialog,kc,()=>{k.one(this._element,zy,s=>{s.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(e)))}hide(){if(!this._isShown||this._isTransitioning||k.trigger(this._element,By).defaultPrevented)return;this._isShown=!1;const t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(Ic),k.off(this._element,Ac),k.off(this._dialog,kc),this._queueCallback(()=>this._hideModal(),this._element,t)}dispose(){[window,this._dialog].forEach(e=>k.off(e,Kt)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new fu({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new pu({trapElement:this._element})}_getConfig(e){return e={...Sc,...ct.getDataAttributes(this._element),...typeof e=="object"?e:{}},fe(Ec,e,$y),e}_showElement(e){const t=this._isAnimated(),s=P.findOne(qy,this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,s&&(s.scrollTop=0),t&&ci(this._element),this._element.classList.add(Ic);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,k.trigger(this._element,Fy,{relatedTarget:e})};this._queueCallback(n,this._dialog,t)}_setEscapeEvent(){this._isShown?k.on(this._element,Cc,e=>{this._config.keyboard&&e.key===_c?(e.preventDefault(),this.hide()):!this._config.keyboard&&e.key===_c&&this._triggerBackdropTransition()}):k.off(this._element,Cc)}_setResizeEvent(){this._isShown?k.on(window,Tc,()=>this._adjustDialog()):k.off(window,Tc)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Lc),this._resetAdjustments(),this._scrollBar.reset(),k.trigger(this._element,mu)})}_showBackdrop(e){k.on(this._element,Ac,t=>{if(this._ignoreBackdropClick){this._ignoreBackdropClick=!1;return}t.target===t.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains(Wy)}_triggerBackdropTransition(){if(k.trigger(this._element,Hy).defaultPrevented)return;const{classList:t,scrollHeight:s,style:n}=this._element,r=s>document.documentElement.clientHeight;!r&&n.overflowY==="hidden"||t.contains(Lo)||(r||(n.overflowY="hidden"),t.add(Lo),this._queueCallback(()=>{t.remove(Lo),r||this._queueCallback(()=>{n.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),s=t>0;(!s&&e&&!Tt()||s&&!e&&Tt())&&(this._element.style.paddingLeft=`${t}px`),(s&&!e&&!Tt()||!s&&e&&Tt())&&(this._element.style.paddingRight=`${t}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const s=vu.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](t)}})}};k.on(document,Uy,Yy,function(i){const e=qe(this);["A","AREA"].includes(this.tagName)&&i.preventDefault(),k.one(e,gu,n=>{n.defaultPrevented||k.one(e,mu,()=>{sn(this)&&this.focus()})});const t=P.findOne(Vy);t&&Xi.getInstance(t).hide(),Xi.getOrCreateInstance(e).toggle(this)});Fr(Xi);Yt(Xi);const xc="offcanvas",Ky="bs.offcanvas",Ls=`.${Ky}`,bu=".data-api",Gy=`load${Ls}${bu}`,Zy="Escape",Oc={backdrop:!0,keyboard:!0,scroll:!1},Xy={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Nc="show",Qy="offcanvas-backdrop",yu=".offcanvas.show",Jy=`show${Ls}`,tw=`shown${Ls}`,ew=`hide${Ls}`,wu=`hidden${Ls}`,sw=`click${Ls}${bu}`,iw=`keydown.dismiss${Ls}`,nw='[data-bs-toggle="offcanvas"]';class Ss extends Xt{constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return xc}static get Default(){return Oc}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||k.trigger(this._element,Jy,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new sa().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Nc);const s=()=>{this._config.scroll||this._focustrap.activate(),k.trigger(this._element,tw,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||k.trigger(this._element,ew).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Nc),this._backdrop.hide();const t=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new sa().reset(),k.trigger(this._element,wu)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(e){return e={...Oc,...ct.getDataAttributes(this._element),...typeof e=="object"?e:{}},fe(xc,e,Xy),e}_initializeBackDrop(){return new fu({className:Qy,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new pu({trapElement:this._element})}_addEventListeners(){k.on(this._element,iw,e=>{this._config.keyboard&&e.key===Zy&&this.hide()})}static jQueryInterface(e){return this.each(function(){const t=Ss.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}k.on(document,sw,nw,function(i){const e=qe(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),vs(this))return;k.one(e,wu,()=>{sn(this)&&this.focus()});const t=P.findOne(yu);t&&t!==e&&Ss.getInstance(t).hide(),Ss.getOrCreateInstance(e).toggle(this)});k.on(window,Gy,()=>P.find(yu).forEach(i=>Ss.getOrCreateInstance(i).show()));Fr(Ss);Yt(Ss);const rw=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ow=/^aria-[\w-]*$/i,aw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,lw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,cw=(i,e)=>{const t=i.nodeName.toLowerCase();if(e.includes(t))return rw.has(t)?Boolean(aw.test(i.nodeValue)||lw.test(i.nodeValue)):!0;const s=e.filter(n=>n instanceof RegExp);for(let n=0,r=s.length;n<r;n++)if(s[n].test(t))return!0;return!1},hw={"*":["class","dir","id","lang","role",ow],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Dc(i,e,t){if(!i.length)return i;if(t&&typeof t=="function")return t(i);const n=new window.DOMParser().parseFromString(i,"text/html"),r=[].concat(...n.body.querySelectorAll("*"));for(let a=0,l=r.length;a<l;a++){const c=r[a],f=c.nodeName.toLowerCase();if(!Object.keys(e).includes(f)){c.remove();continue}const g=[].concat(...c.attributes),u=[].concat(e["*"]||[],e[f]||[]);g.forEach(v=>{cw(v,u)||c.removeAttribute(v.nodeName)})}return n.body.innerHTML}const Pc="tooltip",dw="bs.tooltip",oe=`.${dw}`,uw="bs-tooltip",fw=new Set(["sanitize","allowList","sanitizeFn"]),pw={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},mw={AUTO:"auto",TOP:"top",RIGHT:Tt()?"left":"right",BOTTOM:"bottom",LEFT:Tt()?"right":"left"},gw={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:hw,popperConfig:null},vw={HIDE:`hide${oe}`,HIDDEN:`hidden${oe}`,SHOW:`show${oe}`,SHOWN:`shown${oe}`,INSERTED:`inserted${oe}`,CLICK:`click${oe}`,FOCUSIN:`focusin${oe}`,FOCUSOUT:`focusout${oe}`,MOUSEENTER:`mouseenter${oe}`,MOUSELEAVE:`mouseleave${oe}`},Cn="fade",bw="modal",ki="show",Li="show",Io="out",Rc=".tooltip-inner",Mc=`.${bw}`,$c="hide.bs.modal",Ii="hover",xo="focus",yw="click",ww="manual";let rn=class Eu extends Xt{constructor(e,t){if(typeof Kd>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(t),this.tip=null,this._setListeners()}static get Default(){return gw}static get NAME(){return Pc}static get Event(){return vw}static get DefaultType(){return pw}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled)if(e){const t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(ki)){this._leave(null,this);return}this._enter(null,this)}}dispose(){clearTimeout(this._timeout),k.off(this._element.closest(Mc),$c,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this.isWithContent()&&this._isEnabled))return;const e=k.trigger(this._element,this.constructor.Event.SHOW),t=Xd(this._element),s=t===null?this._element.ownerDocument.documentElement.contains(this._element):t.contains(this._element);if(e.defaultPrevented||!s)return;this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(Rc).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const n=this.getTipElement(),r=Bv(this.constructor.NAME);n.setAttribute("id",r),this._element.setAttribute("aria-describedby",r),this._config.animation&&n.classList.add(Cn);const a=typeof this._config.placement=="function"?this._config.placement.call(this,n,this._element):this._config.placement,l=this._getAttachment(a);this._addAttachmentClass(l);const{container:c}=this._config;Hi.set(n,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(c.append(n),k.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Hr(this._element,n,this._getPopperConfig(l)),n.classList.add(ki);const f=this._resolvePossibleFunction(this._config.customClass);f&&n.classList.add(...f.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(v=>{k.on(v,"mouseover",Sr)});const g=()=>{const v=this._hoverState;this._hoverState=null,k.trigger(this._element,this.constructor.Event.SHOWN),v===Io&&this._leave(null,this)},u=this.tip.classList.contains(Cn);this._queueCallback(g,this.tip,u)}hide(){if(!this._popper)return;const e=this.getTipElement(),t=()=>{this._isWithActiveTrigger()||(this._hoverState!==Li&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),k.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())};if(k.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.remove(ki),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(r=>k.off(r,"mouseover",Sr)),this._activeTrigger[yw]=!1,this._activeTrigger[xo]=!1,this._activeTrigger[Ii]=!1;const n=this.tip.classList.contains(Cn);this._queueCallback(t,this.tip,n),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const e=document.createElement("div");e.innerHTML=this._config.template;const t=e.children[0];return this.setContent(t),t.classList.remove(Cn,ki),this.tip=t,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),Rc)}_sanitizeAndSetContent(e,t,s){const n=P.findOne(s,e);if(!t&&n){n.remove();return}this.setElementContent(n,t)}setElementContent(e,t){if(e!==null){if(_s(t)){t=Ye(t),this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent;return}this._config.html?(this._config.sanitize&&(t=Dc(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t}}getTitle(){const e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return e==="right"?"end":e==="left"?"start":e}_initializeOnDelegatedTarget(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:s=>this._handlePopperPlacementChange(s)}],onFirstUpdate:s=>{s.options.placement!==s.placement&&this._handlePopperPlacementChange(s)}};return{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return mw[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(t=>{if(t==="click")k.on(this._element,this.constructor.Event.CLICK,this._config.selector,s=>this.toggle(s));else if(t!==ww){const s=t===Ii?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===Ii?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;k.on(this._element,s,this._config.selector,r=>this._enter(r)),k.on(this._element,n,this._config.selector,r=>this._leave(r))}}),this._hideModalHandler=()=>{this._element&&this.hide()},k.on(this._element.closest(Mc),$c,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||t!=="string")&&(this._element.setAttribute("data-bs-original-title",e||""),e&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,t){if(t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger[e.type==="focusin"?xo:Ii]=!0),t.getTipElement().classList.contains(ki)||t._hoverState===Li){t._hoverState=Li;return}if(clearTimeout(t._timeout),t._hoverState=Li,!t._config.delay||!t._config.delay.show){t.show();return}t._timeout=setTimeout(()=>{t._hoverState===Li&&t.show()},t._config.delay.show)}_leave(e,t){if(t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger[e.type==="focusout"?xo:Ii]=t._element.contains(e.relatedTarget)),!t._isWithActiveTrigger()){if(clearTimeout(t._timeout),t._hoverState=Io,!t._config.delay||!t._config.delay.hide){t.hide();return}t._timeout=setTimeout(()=>{t._hoverState===Io&&t.hide()},t._config.delay.hide)}}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const t=ct.getDataAttributes(this._element);return Object.keys(t).forEach(s=>{fw.has(s)&&delete t[s]}),e={...this.constructor.Default,...t,...typeof e=="object"&&e?e:{}},e.container=e.container===!1?document.body:Ye(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),fe(Pc,e,this.constructor.DefaultType),e.sanitize&&(e.template=Dc(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_cleanTipClass(){const e=this.getTipElement(),t=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),s=e.getAttribute("class").match(t);s!==null&&s.length>0&&s.map(n=>n.trim()).forEach(n=>e.classList.remove(n))}_getBasicClassPrefix(){return uw}_handlePopperPlacementChange(e){const{state:t}=e;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){const t=Eu.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Yt(rn);const Ew="popover",_w="bs.popover",ae=`.${_w}`,Sw="bs-popover",Tw={...rn.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Aw={...rn.DefaultType,content:"(string|element|function)"},Cw={HIDE:`hide${ae}`,HIDDEN:`hidden${ae}`,SHOW:`show${ae}`,SHOWN:`shown${ae}`,INSERTED:`inserted${ae}`,CLICK:`click${ae}`,FOCUSIN:`focusin${ae}`,FOCUSOUT:`focusout${ae}`,MOUSEENTER:`mouseenter${ae}`,MOUSELEAVE:`mouseleave${ae}`},kw=".popover-header",Lw=".popover-body";let _u=class Su extends rn{static get Default(){return Tw}static get NAME(){return Ew}static get Event(){return Cw}static get DefaultType(){return Aw}isWithContent(){return this.getTitle()||this._getContent()}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),kw),this._sanitizeAndSetContent(e,this._getContent(),Lw)}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return Sw}static jQueryInterface(e){return this.each(function(){const t=Su.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Yt(_u);const Bc="scrollspy",Iw="bs.scrollspy",Wr=`.${Iw}`,xw=".data-api",Hc={offset:10,method:"auto",target:""},Ow={offset:"number",method:"string",target:"(string|element)"},Nw=`activate${Wr}`,Dw=`scroll${Wr}`,Pw=`load${Wr}${xw}`,Tu="dropdown-item",Hs="active",Rw='[data-bs-spy="scroll"]',Mw=".nav, .list-group",ia=".nav-link",$w=".nav-item",Au=".list-group-item",Oo=`${ia}, ${Au}, .${Tu}`,Bw=".dropdown",Hw=".dropdown-toggle",Fw="offset",Fc="position";class Vr extends Xt{constructor(e,t){super(e),this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(t),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,k.on(this._scrollElement,Dw,()=>this._process()),this.refresh(),this._process()}static get Default(){return Hc}static get NAME(){return Bc}refresh(){const e=this._scrollElement===this._scrollElement.window?Fw:Fc,t=this._config.method==="auto"?e:this._config.method,s=t===Fc?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),P.find(Oo,this._config.target).map(r=>{const a=Ia(r),l=a?P.findOne(a):null;if(l){const c=l.getBoundingClientRect();if(c.width||c.height)return[ct[t](l).top+s,a]}return null}).filter(r=>r).sort((r,a)=>r[0]-a[0]).forEach(r=>{this._offsets.push(r[0]),this._targets.push(r[1])})}dispose(){k.off(this._scrollElement,Wr),super.dispose()}_getConfig(e){return e={...Hc,...ct.getDataAttributes(this._element),...typeof e=="object"&&e?e:{}},e.target=Ye(e.target)||document.documentElement,fe(Bc,e,Ow),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),s=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=s){const n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n);return}if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null,this._clear();return}for(let n=this._offsets.length;n--;)this._activeTarget!==this._targets[n]&&e>=this._offsets[n]&&(typeof this._offsets[n+1]>"u"||e<this._offsets[n+1])&&this._activate(this._targets[n])}_activate(e){this._activeTarget=e,this._clear();const t=Oo.split(",").map(n=>`${n}[data-bs-target="${e}"],${n}[href="${e}"]`),s=P.findOne(t.join(","),this._config.target);s.classList.add(Hs),s.classList.contains(Tu)?P.findOne(Hw,s.closest(Bw)).classList.add(Hs):P.parents(s,Mw).forEach(n=>{P.prev(n,`${ia}, ${Au}`).forEach(r=>r.classList.add(Hs)),P.prev(n,$w).forEach(r=>{P.children(r,ia).forEach(a=>a.classList.add(Hs))})}),k.trigger(this._scrollElement,Nw,{relatedTarget:e})}_clear(){P.find(Oo,this._config.target).filter(e=>e.classList.contains(Hs)).forEach(e=>e.classList.remove(Hs))}static jQueryInterface(e){return this.each(function(){const t=Vr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}k.on(window,Pw,()=>{P.find(Rw).forEach(i=>new Vr(i))});Yt(Vr);const zw="tab",Uw="bs.tab",on=`.${Uw}`,Ww=".data-api",Vw=`hide${on}`,jw=`hidden${on}`,qw=`show${on}`,Yw=`shown${on}`,Kw=`click${on}${Ww}`,Gw="dropdown-menu",xi="active",zc="fade",Uc="show",Zw=".dropdown",Xw=".nav, .list-group",Wc=".active",Vc=":scope > li > .active",Qw='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Jw=".dropdown-toggle",tE=":scope > .dropdown-menu .active";class jr extends Xt{static get NAME(){return zw}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(xi))return;let e;const t=qe(this._element),s=this._element.closest(Xw);if(s){const l=s.nodeName==="UL"||s.nodeName==="OL"?Vc:Wc;e=P.find(l,s),e=e[e.length-1]}const n=e?k.trigger(e,Vw,{relatedTarget:this._element}):null;if(k.trigger(this._element,qw,{relatedTarget:e}).defaultPrevented||n!==null&&n.defaultPrevented)return;this._activate(this._element,s);const a=()=>{k.trigger(e,jw,{relatedTarget:this._element}),k.trigger(this._element,Yw,{relatedTarget:e})};t?this._activate(t,t.parentNode,a):a()}_activate(e,t,s){const r=(t&&(t.nodeName==="UL"||t.nodeName==="OL")?P.find(Vc,t):P.children(t,Wc))[0],a=s&&r&&r.classList.contains(zc),l=()=>this._transitionComplete(e,r,s);r&&a?(r.classList.remove(Uc),this._queueCallback(l,e,!0)):l()}_transitionComplete(e,t,s){if(t){t.classList.remove(xi);const r=P.findOne(tE,t.parentNode);r&&r.classList.remove(xi),t.getAttribute("role")==="tab"&&t.setAttribute("aria-selected",!1)}e.classList.add(xi),e.getAttribute("role")==="tab"&&e.setAttribute("aria-selected",!0),ci(e),e.classList.contains(zc)&&e.classList.add(Uc);let n=e.parentNode;if(n&&n.nodeName==="LI"&&(n=n.parentNode),n&&n.classList.contains(Gw)){const r=e.closest(Zw);r&&P.find(Jw,r).forEach(a=>a.classList.add(xi)),e.setAttribute("aria-expanded",!0)}s&&s()}static jQueryInterface(e){return this.each(function(){const t=jr.getOrCreateInstance(this);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}k.on(document,Kw,Qw,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),vs(this))return;jr.getOrCreateInstance(this).show()});Yt(jr);const jc="toast",eE="bs.toast",Ge=`.${eE}`,sE=`mouseover${Ge}`,iE=`mouseout${Ge}`,nE=`focusin${Ge}`,rE=`focusout${Ge}`,oE=`hide${Ge}`,aE=`hidden${Ge}`,lE=`show${Ge}`,cE=`shown${Ge}`,hE="fade",qc="hide",Oi="show",kn="showing",dE={animation:"boolean",autohide:"boolean",delay:"number"},Yc={animation:!0,autohide:!0,delay:5e3};let Na=class Cu extends Xt{constructor(e,t){super(e),this._config=this._getConfig(t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return dE}static get Default(){return Yc}static get NAME(){return jc}show(){if(k.trigger(this._element,lE).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(hE);const t=()=>{this._element.classList.remove(kn),k.trigger(this._element,cE),this._maybeScheduleHide()};this._element.classList.remove(qc),ci(this._element),this._element.classList.add(Oi),this._element.classList.add(kn),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(Oi)||k.trigger(this._element,oE).defaultPrevented)return;const t=()=>{this._element.classList.add(qc),this._element.classList.remove(kn),this._element.classList.remove(Oi),k.trigger(this._element,aE)};this._element.classList.add(kn),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(Oi)&&this._element.classList.remove(Oi),super.dispose()}_getConfig(e){return e={...Yc,...ct.getDataAttributes(this._element),...typeof e=="object"&&e?e:{}},fe(jc,e,this.constructor.DefaultType),e}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){k.on(this._element,sE,e=>this._onInteraction(e,!0)),k.on(this._element,iE,e=>this._onInteraction(e,!1)),k.on(this._element,nE,e=>this._onInteraction(e,!0)),k.on(this._element,rE,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Cu.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Fr(Na);Yt(Na);class us extends Zi{}class tt extends xa{}o(tt,"CLASS_NAME_SHOW","show"),o(tt,"CLASS_NAME_COLLAPSE","collapse"),o(tt,"CLASS_NAME_COLLAPSING","collapsing"),o(tt,"CLASS_NAME_COLLAPSED","collapsed"),o(tt,"SELECTOR_ACTIVES",".show, .collapsing"),o(tt,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="collapse"]');const Ma=class extends J{constructor(){super();o(this,"scope",{toggle:this.toggle,show:this.show,hide:this.hide,update:this.update,isShown:!1});o(this,"dropdown");o(this,"toggler",null);o(this,"onShown",this._onShown.bind(this));o(this,"onHidden",this._onHidden.bind(this))}static get observedAttributes(){return["offset","boundary","reference","display","popper-config","auto-close"]}isShown(){var t;return((t=this.dropdown)==null?void 0:t._isShown())||!1}toggle(t,s,n){if(!this.dropdown)throw new Error("Dropdown not ready!");n!==this.toggler&&this.dropdown.toggle()}show(){if(!this.dropdown)throw new Error("Dropdown not ready!");this.dropdown.show()}hide(){if(!this.dropdown)throw new Error("Dropdown not ready!");this.dropdown.hide()}update(){if(!this.dropdown)throw new Error("Dropdown not ready!");this.dropdown.update()}connectedCallback(){super.connectedCallback(),this.init(Ma.observedAttributes)}async afterBind(){this.initDropdown(),this.addEventListeners(),await super.afterBind()}initDropdown(){this.toggler=this.classList.contains("dropdown-toggle")?this:this.querySelector(".dropdown-toggle")||this,this.toggler.dataset.bsToggle="dropdown",this.dropdown=new W(this.toggler,this.scope),this.dropdown.hide(),this.scope.isShown=this.isShown()}_onShown(){console.debug("onShown"),this.scope.isShown=this.isShown()}_onHidden(){console.debug("onHidden"),this.scope.isShown=this.isShown()}addEventListeners(){var t,s;(t=this.toggler)==null||t.addEventListener(W.EVENT_SHOWN,this.onShown),(s=this.toggler)==null||s.addEventListener(W.EVENT_HIDDEN,this.onHidden)}template(){return null}};let zi=Ma;o(zi,"tagName","bs5-dropdown");const ku="bs.dropdown",ye=`.${ku}`,Ln=".data-api",Kc="ArrowDown",Gc="ArrowUp",Zc="Escape";class W extends ks{static hideAll(){this.clearMenus()}static getAllComponents(){const e=document.querySelectorAll(zi.tagName);return Array.from(e)}static hideAllComponents(){var t;const e=this.getAllComponents();for(const s of Array.from(e))(t=s.dropdown)==null||t.hide()}constructor(e,t){super(e,t)}static get DATA_KEY(){return ku}}o(W,"NAME","dropdown"),o(W,"EVENT_KEY",ye),o(W,"DATA_API_KEY",Ln),o(W,"ESCAPE_KEY",Zc),o(W,"SPACE_KEY","Space"),o(W,"TAB_KEY","Tab"),o(W,"ARROW_UP_KEY",Gc),o(W,"ARROW_DOWN_KEY",Kc),o(W,"RIGHT_MOUSE_BUTTON",2),o(W,"REGEXP_KEYDOWN",new RegExp(`${Gc}|${Kc}|${Zc}`)),o(W,"EVENT_HIDE",`hide${ye}`),o(W,"EVENT_HIDDEN",`hidden${ye}`),o(W,"EVENT_SHOW",`show${ye}`),o(W,"EVENT_SHOWN",`shown${ye}`),o(W,"EVENT_CLICK",`click${ye}`),o(W,"EVENT_CLICK_DATA_API",`click${ye}${Ln}`),o(W,"EVENT_KEYDOWN_DATA_API",`keydown${ye}${Ln}`),o(W,"EVENT_KEYUP_DATA_API",`keyup${ye}${Ln}`),o(W,"CLASS_NAME_DISABLED","disabled"),o(W,"CLASS_NAME_SHOW","show"),o(W,"CLASS_NAME_DROPUP","dropup"),o(W,"CLASS_NAME_DROPEND","dropend"),o(W,"CLASS_NAME_DROPSTART","dropstart"),o(W,"CLASS_NAME_NAVBAR","navbar"),o(W,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="dropdown"]'),o(W,"SELECTOR_FORM_CHILD",".dropdown form"),o(W,"SELECTOR_MENU",".dropdown-menu"),o(W,"SELECTOR_NAVBAR_NAV",".navbar-nav"),o(W,"SELECTOR_VISIBLE_ITEMS",".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)");var Te=(i=>(i.show="show.bs.collapse",i.shown="shown.bs.collapse",i.hide="hide.bs.collapse",i.hidden="hidden.bs.collapse",i))(Te||{});class Lu{constructor(e,t){o(this,"type");o(this,"title");o(this,"channel");o(this,"$event");o(this,"$context");this.type=e,this.title=t}}class uE extends Lu{constructor({title:t,message:s,iconUrl:n,focus:r,keyboard:a,backdrop:l,buttons:c,modalService:f,contextualClass:g,channel:u,$event:v,$context:b}){super("modal",t);o(this,"message");o(this,"iconUrl");o(this,"focus");o(this,"keyboard");o(this,"backdrop");o(this,"buttons",[]);o(this,"modalService");o(this,"contextualClass");this.message=s,this.iconUrl=n,this.focus=r||!1,this.keyboard=a||!0,this.backdrop=l||!0,this.buttons=c||[],this.modalService=f,this.contextualClass=g,this.channel=u,this.$event=v,this.$context=b}}const Iu="bs.modal",Xc=".data-api",Ot=`.${Iu}`;class Z extends Xi{static get DATA_KEY(){return Iu}static get DATA_API_KEY(){return Xc}static get EVENT_KEY(){return Ot}}o(Z,"NAME","modal"),o(Z,"ESCAPE_KEY","Escape"),o(Z,"EVENT_HIDE",`hide${Ot}`),o(Z,"EVENT_HIDE_PREVENTED",`hidePrevented${Ot}`),o(Z,"EVENT_HIDDEN",`hidden${Ot}`),o(Z,"EVENT_SHOW",`show${Ot}`),o(Z,"EVENT_SHOWN",`shown${Ot}`),o(Z,"EVENT_FOCUSIN",`focusin${Ot}`),o(Z,"EVENT_RESIZE",`resize${Ot}`),o(Z,"EVENT_CLICK_DISMISS",`click.dismiss${Ot}`),o(Z,"EVENT_KEYDOWN_DISMISS",`keydown.dismiss${Ot}`),o(Z,"EVENT_MOUSEUP_DISMISS",`mouseup.dismiss${Ot}`),o(Z,"EVENT_MOUSEDOWN_DISMISS",`mousedown.dismiss${Ot}`),o(Z,"EVENT_CLICK_DATA_API",`click${Ot}${Xc}`),o(Z,"CLASS_NAME_SCROLLBAR_MEASURER","modal-scrollbar-measure"),o(Z,"CLASS_NAME_BACKDROP","modal-backdrop"),o(Z,"CLASS_NAME_OPEN","modal-open"),o(Z,"CLASS_NAME_FADE","fade"),o(Z,"CLASS_NAME_SHOW","show"),o(Z,"CLASS_NAME_STATIC","modal-static"),o(Z,"SELECTOR_DIALOG",".modal-dialog"),o(Z,"SELECTOR_MODAL_BODY",".modal-body"),o(Z,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="modal"]'),o(Z,"SELECTOR_DATA_DISMISS",'[data-bs-dismiss="modal"]'),o(Z,"SELECTOR_FIXED_CONTENT",".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"),o(Z,"SELECTOR_STICKY_CONTENT",".sticky-top");class fE extends rn{}class na extends _u{}const ze=class{constructor(){o(this,"eventDispatcher",Y.getInstance());o(this,"bs5",Ce.getSingleton());this.addEventListeners();const e=this.init(),t=document.getElementById("theme");t&&this.select(e.choice,t)}static getSingleton(){return ze.instance?ze.instance:this.setSingleton()}static setSingleton(){if(ze.instance)throw new Error("Singleton of ThemeService already defined!");return ze.instance=new ze,ze.instance}addEventListeners(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{this.triggerChange()})}init(){let e="theme-os";return this.bs5.options.allowStoreDataInBrowser&&(e=localStorage.getItem("bs5-theme")||"theme-os"),this.set(e)}select(e,t){(t==null?void 0:t.nodeName)==="SELECT"&&(t.value=e)}getDefaultData(){return{supported:!!window.matchMedia,isDark:!1,isLight:!1,systemIsDark:!1,systemIsLight:!0,bySystem:!0,byUser:!1,choice:"theme-os"}}triggerChange(e){e||(e=this.getDefaultData());const t=this.get();return this.eventDispatcher.trigger("theme-change",{oldValue:e,newValue:t}),t}onceChange(e,t){this.eventDispatcher.once("theme-change",e,t)}onChange(e,t){this.eventDispatcher.on("theme-change",e,t)}offChange(e,t){this.eventDispatcher.off("theme-change",e,t)}set(e){const t=this.get();return ga.includes(e)||(console.warn(`Unsupported theme "${e}", set instead the default "theme-os".`),e="theme-os"),this.bs5.options.allowStoreDataInBrowser&&localStorage.setItem("bs5-theme",e),document.documentElement.classList.remove("theme-light","theme-dark","theme-os"),document.documentElement.classList.add(e),this.triggerChange(t)}get(){const e=this.getDefaultData();return e.systemIsDark=window.matchMedia("(prefers-color-scheme: dark)").matches,e.systemIsLight=!e.systemIsDark,document.documentElement.classList.contains("theme-os")?(e.bySystem=!0,e.byUser=!1,e.choice="theme-os",e.isDark=e.systemIsDark,e.isLight=e.systemIsLight):(e.bySystem=!1,e.byUser=!0,document.documentElement.classList.contains("theme-dark")&&(e.isDark=!0,e.choice="theme-dark"),document.documentElement.classList.contains("theme-light")&&(e.isLight=!0,e.choice="theme-light")),e}};let Ui=ze;o(Ui,"instance");class xu extends Lu{constructor({title:t,message:s,iconUrl:n,delay:r,autoHide:a,animation:l,toastService:c,contextualClass:f,channel:g,$event:u,$context:v}){super("toast",t);o(this,"message");o(this,"iconUrl");o(this,"delay");o(this,"autoHide");o(this,"animation");o(this,"toastService");o(this,"contextualClass");this.message=s,this.iconUrl=n,this.delay=r,this.autoHide=a,this.animation=l,this.toastService=c,this.contextualClass=f,this.channel=g,this.$event=u,this.$context=v}}const Ou="bs.toast",Fs=`.${Ou}`;class Nt extends Na{static get DATA_KEY(){return Ou}static get EVENT_KEY(){return Fs}}o(Nt,"NAME","toast"),o(Nt,"EVENT_CLICK_DISMISS",`click.dismiss${Fs}`),o(Nt,"EVENT_HIDE",`hide${Fs}`),o(Nt,"EVENT_HIDDEN",`hidden${Fs}`),o(Nt,"EVENT_SHOW",`show${Fs}`),o(Nt,"EVENT_SHOWN",`shown${Fs}`),o(Nt,"CLASS_NAME_FADE","fade"),o(Nt,"CLASS_NAME_HIDE","hide"),o(Nt,"CLASS_NAME_SHOW","show"),o(Nt,"CLASS_NAME_SHOWING","showing");const pE=Object.freeze(Object.defineProperty({__proto__:null,Bs5Service:Ce,Carousel:us,Collapse:tt,Dropdown:W,Modal:Z,ModalNotification:uE,Popover:na,ThemeService:Ui,Toast:Nt,ToastNotification:xu,Tooltip:fE},Symbol.toStringTag,{value:"Module"}));class Nu extends x{constructor(t,s,n,r,a,l,c){super(t,s,n,r,a,l,c);o(this,"bs5");o(this,"breakpoint");o(this,"attributeName");o(this,"val");if(this.bs5=Ce.getSingleton(),this.args.length!==2)throw new Error("The Bs5AttributeBreakpointBinder was not initialized correctly!");const f=this.args[0].toString(),g=this.args[1].toString();if(!this.bs5.breakpointNames.includes(f))throw new Error(`Unknown breakpoint "${f}"! You can define breakpoints at the initialization of the Bs5Module.`);this.breakpoint=f,this.attributeName=g}onBreakpointChanges(){this.setAttributeOnMatch()}setAttributeOnMatch(){if(this.bs5.activeBreakpoint){if(this.isBreakpointMatch(this.breakpoint))return this.defaultAttributeBinder.routine(this.el,this.val);this.breakpointUnhandled(this.bs5.activeBreakpoint.name)&&this.defaultAttributeBinder.routine(this.el,void 0)}}isBreakpointMatch(t=this.breakpoint){return this.bs5.activeBreakpoint?!!(this.bs5.activeBreakpoint.name===t||this.myBreakpoints(t).includes(this.bs5.activeBreakpoint.name)):!1}myBreakpoints(t=this.breakpoint){const s=[t];let n=t;for(;n&&(n=this.bs5.getNextBreakpointByName(n),!(!n||this.breakpointHandledByAnother(n)));)s.push(n);return s}breakpointHandledByAnother(t){return!!this.getHandledBreakpoints().includes(t)}breakpointUnhandled(t){let s=t,n=!0;for(;s&&n;){if(this.breakpointHandledByAnother(s)){n=!1;break}if(s=this.bs5.getPrevBreakpointByName(s),!s)break}return n}addToHandledBreakpoints(){const t=this.getHandledBreakpoints();t.push(this.breakpoint),this.el.dataset[ce(this.attributeName)]=kr(t)}getHandledBreakpoints(){const t=Lr(this.el.dataset[ce(this.attributeName)]||"[]");if(!Array.isArray(t))throw new Error("breakpoints dataset has unsupported values!");return t}bind(t){this.bs5.on("breakpoint:changed",this.onBreakpointChanges,this),typeof this.defaultAttributeBinder.bind=="function"&&this.defaultAttributeBinder.bind(t)}routine(t,s){this.addToHandledBreakpoints(),this.val=s,this.setAttributeOnMatch()}unbind(t){var s;(s=this.bs5)==null||s.off("breakpoint:changed",this.onBreakpointChanges,this),typeof this.defaultAttributeBinder.unbind=="function"&&this.defaultAttributeBinder.unbind(t)}}class Du extends Nu{constructor(t,s,n,r,a,l,c){super(t,s,n,r,a,l,c);o(this,"defaultAttributeBinder");this.defaultAttributeBinder=new Nr(t,s,this.attributeName,r,a,l,"*")}}o(Du,"key","bs5-attr-*-*");class Pu extends x{constructor(){super(...arguments);o(this,"dispatcher",Y.getInstance("main"));o(this,"collapseService");o(this,"url");o(this,"checkURL",this._checkURL.bind(this))}_checkURL(){var t;return this.url&&Or(this.url)?((t=this.collapseService)==null||t.hide(),!0):!1}bind(t){this.collapseService=new tt(t,{toggle:!1})}unbind(){this.checkURL&&this.dispatcher.off("newPageReady",this.checkURL)}routine(t,s){this.url=s,this.checkURL&&this.dispatcher.off("newPageReady",this.checkURL),this.dispatcher.on("newPageReady",this.checkURL)}}o(Pu,"key","bs5-collapse-on-url");class Ru extends Nu{constructor(t,s,n,r,a,l,c){super(t,s,n,r,a,l,c);o(this,"defaultAttributeBinder");this.defaultAttributeBinder=new hr(t,s,`co-${this.attributeName}`,r,a,l,hr.key)}}o(Ru,"key","bs5-co-*-*");class Mu extends x{constructor(){super(...arguments);o(this,"targets",new Map);o(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){t.preventDefault();for(const s of this.targets.values())s.toggle()}bind(t){if(this.args===null)throw new Error("args is null");const s=this.args[0];t.addEventListener(s,this.onEvent)}unbind(){const t=this.args[0];this.el.removeEventListener(t,this.onEvent)}routine(t,s){var r;const n=Array.from(document.querySelectorAll(s));n.length<=0&&console.warn(`[toggleCollapseOnEventBinder] No element with selector "${s}" found.`);for(const a of this.targets.keys())n.find(l=>l===a)||((r=this.targets.get(a))==null||r.dispose(),this.targets.delete(a));for(const a of n)this.targets.has(a)||this.targets.set(a,new tt(a,{toggle:!1}))}}o(Mu,"key","bs5-toggle-collapse-on-*");class $u extends x{constructor(){super(...arguments);o(this,"toggler");o(this,"dropdownService")}bind(t){this.toggler=(t.classList.contains("dropdown-toggle")?t:t.querySelector(".dropdown-toggle"))||t}routine(t,s={}){if(!this.toggler)throw new Error("No dropdown toggle element found!");this.dropdownService&&(this.dropdownService.dispose(),this.toggler.dataset.bsToggle="");const n=new W(this.toggler,s);this.toggler.dataset.bsToggle="dropdown",this.dropdownService=n,this.dropdownService.hide()}}o($u,"key","bs5-dropdown");class Bu extends x{routine(e,t){const s=new tt(e,{toggle:!1}),n=new Y("main"),r=a=>a&&Or(a)?(s.show(),!0):(s.hide(),!1);n.on("newPageReady",()=>r(t)),r(t)}}o(Bu,"key","bs5-expand-on-url");class Hu extends x{constructor(){super(...arguments);o(this,"popover");o(this,"listeners",{})}routine(t,s){let n={};typeof s=="string"?n.content=s:typeof s=="object"&&(n={...s}),n.placement=n.placement||"auto";const r=new na(t,{...na.Default,...n});this.popover&&this.popover.dispose(),this.popover=r;const a=["show","hide","toggle","dispose","enable","disable","update"];if(this.listeners)for(const[l,c]of Object.entries(this.listeners))this.el.removeEventListener(l,c);this.listeners=Object.create(null);for(const l of a)if(r[l]&&typeof r[l]=="function"){const c=`trigger-${String(l)}`,f=r[l].bind(r);this.el.addEventListener(c,f),this.listeners[c]=f}else console.warn("Unknown method "+l)}bind(t){t.dispatchEvent(new CustomEvent("bound.bs.popover",{bubbles:!0,cancelable:!0}))}unbind(){if(this.popover&&this.popover.dispose(),this.listeners)for(const[t,s]of Object.entries(this.listeners))this.el.removeEventListener(t,s)}}o(Hu,"key","bs5-popover");class Fu extends x{constructor(){super(...arguments);o(this,"toastData");o(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){if(!this.toastData)throw new Error("Toast data not set!");this.toastData.$event=t,this.toastData.$context=this.view.models;const s=new xu(this.toastData);new Y(s.channel||"toast").trigger("show-notification",s)}bind(t){const s=this.args[0];t.addEventListener(s,this.onEvent)}routine(t,s){if(this.args===null)throw new Error("args is null");this.toastData=s}unbind(t){const s=this.args[0];t.removeEventListener(s,this.onEvent)}}o(Fu,"key","show-toast-on-*");class zu extends x{constructor(){super(...arguments);o(this,"target");o(this,"className");o(this,"onScroll",jt(this._onScroll.bind(this)));o(this,"isInViewport",this._isInViewport.bind(this))}_onScroll(){if(!this.target)throw new Error("No target element found!");if(!this.className)throw new Error("className not set!");this.isInViewport(this.target)?(this.el.classList.add(this.className),this.el.type==="radio"&&(this.el.checked=!0)):(this.el.classList.remove(this.className),this.el.type==="radio"&&(this.el.checked=!1))}_isInViewport(t){if(!t)return!1;const s=Number(this.el.dataset.offset||0),n=Number(this.el.dataset.offsetBottom||0);return Bf(t,{top:s,bottom:n})}bind(){window.addEventListener("scroll",this.onScroll,{passive:!0}),this.onScroll()}routine(t,s){const n=s.replace("#","");this.target=document.getElementById(n)||void 0,this.className=this.args[0]}unbind(){window.removeEventListener("scroll",this.onScroll)}}o(zu,"key","bs5-scrollspy-*");const an=document.createElement("div");an.classList.add("tooltip");an.setAttribute("role","tooltip");const Uu=document.createElement("div");Uu.classList.add("arrow");an.appendChild(Uu);const Wu=document.createElement("div");Wu.classList.add("tooltip-inner");an.appendChild(Wu);class Vu extends x{constructor(){super(...arguments);o(this,"popper");o(this,"tip",an.cloneNode(!0));o(this,"show",this._show.bind(this));o(this,"hide",this._hide.bind(this))}_show(){const t=this.el.dataset.placement||"start",s=0;this.popper=Hr(this.el,this.tip,{placement:t,modifiers:[{name:"flip",options:{altBoundary:!0,behavior:"flip"}},{name:"offset",options:{offset:s}},{name:"arrow",options:{element:".arrow"}},{name:"preventOverflow",options:{boundariesElement:"scrollParent"}}],strategy:void 0}),document.body.appendChild(this.tip),this.tip.classList.add("show"),this.tip.classList.add("bs-tooltip-"+t)}_hide(){this.tip.classList.remove("show"),this.popper&&this.popper.destroy()}bind(t){t.addEventListener("mouseenter",this.show),t.addEventListener("mouseleave",this.hide)}routine(t,s){const n=this.tip.querySelector(".tooltip-inner");n.innerHTML=s}unbind(){this.hide(),this.el.removeEventListener("mouseenter",this.show),this.el.removeEventListener("mouseleave",this.hide)}}o(Vu,"key","bs5-tooltip");class ju extends x{constructor(){super(...arguments);o(this,"target");o(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){const s=Number(this.el.dataset.offset||0),n=this.el.dataset.scrollElement?document.querySelector(this.el.dataset.scrollElement):window;this.target&&(Qi(this.target,s,n),t.preventDefault())}bind(t){this.onEvent=this.onEvent.bind(this);const s=this.args[0];t.addEventListener(s,this.onEvent)}routine(t,s){this.target=document.querySelector(s)||void 0}unbind(t){const s=this.args[0];t.removeEventListener(s,this.onEvent)}}o(ju,"key","scroll-to-on-*");class qu extends x{constructor(){super(...arguments);o(this,"toggleButtonEvents");o(this,"state","off");o(this,"triggerState",this._triggerState.bind(this));o(this,"onToggle",this._onToggle.bind(this))}_triggerState(){var t;(t=this.toggleButtonEvents)==null||t.trigger(j.eventNames.state,this.state)}_onToggle(){this.toggle.bind(this)(this.el)}toggle(t){this.state==="removed"?this.add.bind(this)(t):this.remove.bind(this)(t)}remove(t){const s=this.args[0];t.removeAttribute(s),this.state="removed",t.dispatchEvent(new CustomEvent(qo.elEventNames.removed,{detail:{attributeName:s}})),this.triggerState()}add(t){const s=this.args[0];t.setAttribute(s,s),this.state="added",t.dispatchEvent(new CustomEvent(qo.elEventNames.added,{detail:{attributeName:s}})),this.triggerState()}bind(t){const s=this.args[0];this.state=t.hasAttribute(s)?"added":"removed"}unbind(){var t,s;(t=this.toggleButtonEvents)==null||t.off(j.eventNames.toggle,this.onToggle,this),(s=this.toggleButtonEvents)==null||s.off(j.eventNames.init,this.triggerState,this)}routine(t,s){const n=this._getValue(t);let r=this.toggleButtonEvents;n&&r&&(r.off(j.eventNames.toggle,this.onToggle,this),r.off(j.eventNames.init,this.triggerState,this)),this.toggleButtonEvents||(this.toggleButtonEvents=new Y(j.nsPrefix+s),r=this.toggleButtonEvents,r.on(j.eventNames.toggle,this.onToggle,this),r.on(j.eventNames.init,this.triggerState,this))}}o(qu,"key","bs5-toggle-attribute-*");class Yu extends x{constructor(){super(...arguments);o(this,"toggleButtonEvents");o(this,"state","off");o(this,"triggerState",this._triggerState.bind(this));o(this,"onToggle",this._onToggle.bind(this))}_triggerState(){var t;(t=this.toggleButtonEvents)==null||t.trigger(j.eventNames.state,this.state)}_onToggle(){this.toggle.bind(this)(this.el)}toggle(t){this.state==="removed"?this.add.bind(this)(t):this.remove.bind(this)(t)}remove(t){const s=this.args[0];t.classList.remove(s),this.state="removed",t.dispatchEvent(new CustomEvent(Yo.elEventNames.removed,{detail:{className:s}})),this.triggerState()}add(t){const s=this.args[0];t.classList.add(s,s),this.state="added",t.dispatchEvent(new CustomEvent(Yo.elEventNames.added,{detail:{className:s}})),this.triggerState()}bind(t){const s=this.args[0];this.state=t.classList.contains(s)?"added":"removed"}unbind(){var t,s;(t=this.toggleButtonEvents)==null||t.off(j.eventNames.toggle,this.onToggle,this),(s=this.toggleButtonEvents)==null||s.off(j.eventNames.init,this.triggerState,this)}routine(t,s){const n=this._getValue(t);let r=this.toggleButtonEvents;n&&r&&(r.off(j.eventNames.toggle,this.onToggle,this),r.off(j.eventNames.init,this.triggerState,this)),this.toggleButtonEvents||(this.toggleButtonEvents=new Y(j.nsPrefix+s),r=this.toggleButtonEvents,r.on(j.eventNames.toggle,this.onToggle,this),r.on(j.eventNames.init,this.triggerState,this))}}o(Yu,"key","bs5-toggle-class-*");const mE=Object.freeze(Object.defineProperty({__proto__:null,Bs5AttributeBreakpointBinder:Du,Bs5ComponentAttributeBreakpointBinder:Ru,CollapseOnUrlBinder:Pu,DropdownBinder:$u,ExpandOnUrlBinder:Bu,PopoverBinder:Hu,ScrollToOnEventBinder:ju,ScrollspyClassBinder:zu,ShowToastOnEventBinder:Fu,ToggleAttributeBinder:qu,ToggleClassBinder:Yu,ToggleCollapseOnEventBinder:Mu,TooltipBinder:Vu},Symbol.toStringTag,{value:"Module"})),gE="modulepreload",vE=function(i){return"/"+i},Qc={},Ze=function(e,t,s){if(!t||t.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(r=>{if(r=vE(r),r in Qc)return;Qc[r]=!0;const a=r.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let g=n.length-1;g>=0;g--){const u=n[g];if(u.href===r&&(!a||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":gE,a||(f.as="script",f.crossOrigin=""),f.href=r,document.head.appendChild(f),a)return new Promise((g,u)=>{f.addEventListener("load",g),f.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},bE=Dr.read,$a=class extends ca{constructor(){super();o(this,"autobind",!0);o(this,"templateAttributes",[{name:"title",required:!0},{name:"show",required:!1},{name:"icon-direction",required:!1}]);o(this,"scope",{items:[],toggle:this.toggle,show:this.show,hide:this.hide,collapseIconSize:16,showOnlyOne:!0})}static get observedAttributes(){return["items","collapse-icon-src","collapse-icon-size","show-only-one"]}hide(t,s){const n=this.querySelector(`[data-index="${s}"]`);n&&(this.initItemEventListeners(t,n),new tt(n,{toggle:!1}).hide())}show(t,s){const n=this.querySelector(`[data-index="${s}"]`),r=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${s}"])`));if(r&&this.scope.showOnlyOne)for(const a of r)new tt(a,{toggle:!1}).hide();n&&(this.initItemEventListeners(t,n),new tt(n,{toggle:!1}).show())}toggle(t,s){const n=this.querySelector(`[data-index="${s}"]`),r=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${s}"])`));if(r&&this.scope.showOnlyOne)for(const a of r)new tt(a,{toggle:!1}).hide();n&&(this.initItemEventListeners(t,n),new tt(n,{toggle:!1}).toggle())}initItemEventListeners(t,s){s.removeEventListener(Te.hide,this.onHide.bind(this,s,t)),s.removeEventListener(Te.show,this.onShow.bind(this,s,t)),s.addEventListener(Te.hide,this.onHide.bind(this,s,t),{once:!0}),s.addEventListener(Te.show,this.onShow.bind(this,s,t),{once:!0})}getContentChildByIndex(){return this.querySelector(".card-body > *")||void 0}onShow(t,s){s.show=!0,s.iconDirection="up";const n=this.getContentChildByIndex();n&&this.triggerVisibilityChangedForElement(n,s.show)}onHide(t,s){s.show=!1,s.iconDirection="down";const n=this.getContentChildByIndex();n&&this.triggerVisibilityChangedForElement(n,s.show)}transformTemplateAttributes(t){return t.handle=t.handle||bE(t.title),t.show=!!t.show,t.iconDirection=t.iconDirection||t.show?"up":"down",t}triggerVisibilityChangedForElement(t,s){setTimeout(()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:s}}))},200)}connectedCallback(){super.connectedCallback(),this.init($a.observedAttributes)}async init(t){return super.init(t).then(s=>s)}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,s,n,r){super.parsedAttributeChangedCallback(t,s,n,r)}disconnectedCallback(){super.disconnectedCallback()}async template(){if(!vt(this)||this.hasOnlyTemplateChilds()){const{default:t}=await Ze(()=>import("./bs5-accordion.component-cad06286.bundle.js"),[]);return t}else return null}};let Bn=$a;o(Bn,"tagName","bs5-accordion");const Ba=class extends J{constructor(){super();o(this,"autobind",!0);o(this,"scope",{animationClass:"btn-animation-start",onClick:this.onClick.bind(this)})}static get observedAttributes(){return["animation-class"]}onClick(){this.startAnimation()}connectedCallback(){super.connectedCallback(),this.init(Ba.observedAttributes)}startAnimation(){this.classList.add(this.scope.animationClass)}onStartAnimation(){}onEndAnimation(){setTimeout(()=>{this.classList.remove(this.scope.animationClass)})}async init(t){return super.init(t).then(s=>(this.onStartAnimation=this.onStartAnimation.bind(this),this.addEventListener("webkitAnimationStart",this.onStartAnimation),this.addEventListener("animationstart",this.onStartAnimation),this.onEndAnimation=this.onEndAnimation.bind(this),this.addEventListener("webkitAnimationEnd",this.onEndAnimation),this.addEventListener("animationend",this.onEndAnimation),this.addEventListener("click",this.scope.onClick),s))}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,s,n,r){super.parsedAttributeChangedCallback(t,s,n,r)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("webkitAnimationStart",this.onStartAnimation),this.removeEventListener("animationstart",this.onStartAnimation),this.removeEventListener("webkitAnimationEnd",this.onEndAnimation),this.removeEventListener("animationend",this.onEndAnimation),this.removeEventListener("click",this.scope.onClick)}template(){return null}};let Hn=Ba;o(Hn,"tagName","bs5-button");const Ha=class extends J{constructor(){super();o(this,"scope",{interval:us.Default.interval,keyboard:us.Default.keyboard,pause:us.Default.pause||!1,wrap:us.Default.wrap,touch:us.Default.touch,fade:!1,next:this.next,nextWhenVisible:this.nextWhenVisible,prev:this.prev,startPause:this.pause,cycle:this.cycle,to:this.to,dispose:this.dispose});o(this,"autobind",!0);o(this,"carouselService")}static get observedAttributes(){return["interval","keyboard","pause","wrap","touch","fade"]}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.classList.add("carousel","slide")}async afterBind(){this.carouselService=new us(this,{interval:this.scope.interval,keyboard:this.scope.keyboard,pause:this.scope.pause,wrap:this.scope.wrap,touch:this.scope.touch}),this.scope.fade&&this.classList.add("carousel-fade"),this.carouselService.cycle(),await super.afterBind()}next(){this.carouselService&&this.carouselService.next()}nextWhenVisible(){this.carouselService&&this.carouselService.nextWhenVisible()}prev(){this.carouselService&&this.carouselService.prev()}pause(){this.carouselService&&this.carouselService.pause()}cycle(){this.carouselService&&this.carouselService.cycle()}to(){if(this.carouselService)throw new Error("TODO")}dispose(){this.carouselService&&this.carouselService.dispose()}connectedCallback(){super.connectedCallback(),super.init(Ha.observedAttributes)}template(){return null}};let Fn=Ha;o(Fn,"tagName","bs5-carousel");const Fa=class extends J{constructor(){super();o(this,"autobind",!0);o(this,"collapse");o(this,"scope",{title:"",content:"Please set the content of the collapse using the content attribute or just by set the content as the child of this element",collapsed:!0,toggle:this.toggle,show:this.show,hide:this.hide})}static get observedAttributes(){return["title","content","collapsed"]}requiredAttributes(){return["title"]}hide(){console.debug("hide"),this.collapse&&(this.scope.collapsed=!0,this.collapse.hide())}show(){this.collapse&&(this.scope.collapsed=!1,this.collapse.show())}toggle(){this.collapse&&(this.collapse.toggle(),this.scope.collapsed=!!this.scope.collapsed)}addEventListeners(){this.scope.collapseEl&&(this.scope.collapseEl.addEventListener(Te.hide,this.onHide.bind(this)),this.scope.collapseEl.addEventListener(Te.show,this.onShow.bind(this)))}removeEventListeners(){this.scope.collapseEl&&(this.scope.collapseEl.removeEventListener(Te.hide,this.onHide.bind(this)),this.scope.collapseEl.removeEventListener(Te.show,this.onShow.bind(this)))}onShow(){console.debug("onShow"),this.scope.collapsed=!1,this.triggerVisibilityChangedForElement(!this.scope.collapsed)}onHide(){console.debug("onShow"),this.scope.collapsed=!0,this.triggerVisibilityChangedForElement(!this.scope.collapsed)}triggerVisibilityChangedForElement(t){setTimeout(()=>{const s=new CustomEvent("visibility-changed",{detail:{visible:t}});this.dispatchEvent(s),this.scope.collapseEl&&this.scope.collapseEl.dispatchEvent(s)},200)}connectedCallback(){super.connectedCallback(),this.init(Fa.observedAttributes)}async afterBind(){if(console.debug("afterBind",this.scope.collapsed),this.scope.collapseEl=this.querySelector(".collapse")||void 0,!this.scope.collapseEl)throw new Error("No collapse element found!");this.collapse=new tt(this.scope.collapseEl,{toggle:!this.scope.collapsed})}template(){return vt(this)&&(this.scope.content=this.innerHTML),jsxCreateElement("div",null,jsxCreateElement("button",{"rv-on-click":"toggle",class:"btn btn-primary",type:"button","aria-expanded":"false","rv-aria-controls":"title | handleize","rv-text":"title"}),jsxCreateElement("div",{class:"collapse mt-2","rv-id":"title"},jsxCreateElement("div",{class:"card card-body","rv-template":"content"})))}};let zn=Fa;o(zn,"tagName","bs5-collapse");String.prototype.startsWith=String.prototype.startsWith||function(i){return this.indexOf(i)===0};String.prototype.padStart=String.prototype.padStart||function(i,e){let t=this;for(;t.length<i;)t=e+t;return t};const yE={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function Jc(i,e=1){return(e>0?i.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):i.toString())||"0"}class we{constructor(e,t,s,n){const r=this;function a(l){if(l.startsWith("hsl")){let[c,f,g,u]=l.match(/([\-\d\.e]+)/g).map(Number);u===void 0&&(u=1),c/=360,f/=100,g/=100,r.hsla=[c,f,g,u]}else if(l.startsWith("rgb")){let[c,f,g,u]=l.match(/([\-\d\.e]+)/g).map(Number);u===void 0&&(u=1),r.rgba=[c,f,g,u]}else l.startsWith("#")?r.rgba=we.hexToRgb(l):r.rgba=we.nameToRgb(l)||we.hexToRgb(l)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(s===void 0){const l=e&&""+e;l&&a(l.toLowerCase())}else this.rgba=[e,t,s,n===void 0?1:n]}get rgba(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=we.hslToRgb(this._hsla)}set rgba(e){e.length===3&&(e[3]=1),this._rgba=e,this._hsla=null}printRGB(e){const t=e?this.rgba:this.rgba.slice(0,3),s=t.map((n,r)=>Jc(n,r===3?3:0));return e?`rgba(${s})`:`rgb(${s})`}get rgbString(){return this.printRGB()}get rgbaString(){return this.printRGB(!0)}get hsla(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=we.rgbToHsl(this._rgba)}set hsla(e){e.length===3&&(e[3]=1),this._hsla=e,this._rgba=null}printHSL(e){const t=[360,100,100,1],s=["","%","%",""],n=e?this.hsla:this.hsla.slice(0,3),r=n.map((a,l)=>Jc(a*t[l],l===3?3:1)+s[l]);return e?`hsla(${r})`:`hsl(${r})`}get hslString(){return this.printHSL()}get hslaString(){return this.printHSL(!0)}get hex(){return"#"+this.rgba.map((s,n)=>n<3?s.toString(16):Math.round(s*255).toString(16)).map(s=>s.padStart(2,"0")).join("")}set hex(e){this.rgba=we.hexToRgb(e)}printHex(e){const t=this.hex;return e?t:t.substring(0,7)}static hexToRgb(e){const t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);const s=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(n=>parseInt(n,16));return s[3]=s[3]/255,s}static nameToRgb(e){const t=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),s=yE[t];return s===void 0?s:we.hexToRgb(s.replace(/\-/g,"00").padStart(6,"f"))}static rgbToHsl([e,t,s,n]){e/=255,t/=255,s/=255;const r=Math.max(e,t,s),a=Math.min(e,t,s);let l,c,f=(r+a)/2;if(r===a)l=c=0;else{const g=r-a;switch(c=f>.5?g/(2-r-a):g/(r+a),r){case e:l=(t-s)/g+(t<s?6:0);break;case t:l=(s-e)/g+2;break;case s:l=(e-t)/g+4;break}l/=6}return[l,c,f,n]}static hslToRgb([e,t,s,n]){let r,a,l;if(t===0)r=a=l=s;else{const f=function(v,b,_){return _<0&&(_+=1),_>1&&(_-=1),_<.16666666666666666?v+(b-v)*6*_:_<.5?b:_<.6666666666666666?v+(b-v)*(.6666666666666666-_)*6:v},g=s<.5?s*(1+t):s+t-s*t,u=2*s-g;r=f(u,g,e+1/3),a=f(u,g,e),l=f(u,g,e-1/3)}const c=[r*255,a*255,l*255].map(Math.round);return c[3]=n,c}}class Ar{constructor(){o(this,"events",[])}add(e,t,s){e.addEventListener(t,s,!1),this.events.push({target:e,type:t,handler:s})}remove(e,t,s){this.events=this.events.filter(n=>{let r=!0;return e&&e!==n.target&&(r=!1),t&&t!==n.type&&(r=!1),s&&s!==n.handler&&(r=!1),r&&Ar._doRemove(n.target,n.type,n.handler),!r})}static _doRemove(e,t,s){e.removeEventListener(t,s,!1)}destroy(){this.events.forEach(e=>Ar._doRemove(e.target,e.type,e.handler)),this.events=[]}}const wE=(i,e,t)=>{let s=!1;const n=(c,f,g)=>Math.max(f,Math.min(c,g)),r=(c,f,g)=>{if(g&&(s=!0),!s)return;c.preventDefault();const u=e.getBoundingClientRect(),v=u.width,b=u.height,_=f.clientX,S=f.clientY,w=n(_-u.left,0,v),p=n(S-u.top,0,b);t(w/v,p/b)},a=(c,f)=>{(c.buttons===void 0?c.which:c.buttons)===1?r(c,c,f):s=!1};function l(c,f){c.touches.length===1?r(c,c.touches[0],f):s=!1}i.add(e,"mousedown",c=>{a(c,!0)}),i.add(e,"touchstart",c=>{l(c,!0)}),i.add(window,"mousemove",a),i.add(e,"touchmove",l),i.add(window,"mouseup",()=>{s=!1}),i.add(e,"touchend",()=>{s=!1}),i.add(e,"touchcancel",()=>{s=!1})},EE=`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E")`,_E=360,SE="keydown";function TE(i){i.preventDefault(),i.stopPropagation()}function AE(i,e,t,s,n=!1){i.add(e,SE,function(r){t.indexOf(r.key)>=0&&(n&&TE(r),s(r))})}const za=class extends J{constructor(){super();o(this,"eventDispatcher");o(this,"color");o(this,"_debug",!1);o(this,"scope",{namespace:"main",hsl:[],cssHue:"",cssHsl:"",cssHsla:"",alphaBg:"",color:"#0cf",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,okayButton:!1});o(this,"events",new Ar);o(this,"_domH",null);o(this,"_domSL",null);o(this,"_domA",null);o(this,"_domEdit",null);o(this,"_domSample",null);o(this,"_domOkay",null);o(this,"_domCancel",null);o(this,"setColor",jt(this._setColor.bind(this)));o(this,"updateUI",jt(this._updateUI.bind(this)))}static get observedAttributes(){return["namespace","alpha","editor","editor-format","cancel-button","okay-button","color"]}connectedCallback(){super.connectedCallback(),super.init(za.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.eventDispatcher=Y.getInstance("bs5-colorpicker:"+this.scope.namespace),this.setColor(this.scope.color),this.updateUI(),this.bindEvents()}async afterTemplate(t){await super.afterTemplate(t),this.setElements()}onChange(t){var s;this.debug("onChange",t),(s=this.eventDispatcher)==null||s.trigger("change",t)}onDone(t){var s;this.debug("onDone",t),(s=this.eventDispatcher)==null||s.trigger("done",t)}async template(){if(vt(this))return null;{const{default:t}=await Ze(()=>import("./bs5-colorpicker.component-1e5e88ee.bundle.js"),[]);return t}}parsedAttributeChangedCallback(t,s,n,r){super.parsedAttributeChangedCallback(t,s,n,r),t==="color"&&this.setColor(this.scope.color)}_setColor(t,s={silent:!1}){if(typeof t=="string"&&(t=t.trim()),!t)return;s=s||{};let n;try{n=new we(t)}catch(r){if(s.failSilently)return;throw r}if(!this.scope.alpha){const r=n.hsla;r[3]=1,n.hsla=r}this.color=n,this.setHSLA(null,null,null,null,s)}setElements(){this._domH=this.querySelector(".picker-hue"),this._domSL=this.querySelector(".picker-sl"),this._domA=this.querySelector(".picker-alpha"),this._domEdit=this.querySelector(".picker-editor")||null,this._domSample=this.querySelector(".picker-sample"),this._domOkay=this.querySelector(".picker-done"),this._domCancel=this.querySelector(".picker-cancel")}disconnectedCallback(){this.events.destroy()}bindEvents(){const t=this.events,s=(a,l,c)=>{t.add(a,l,c)};s(this,"click",a=>a.preventDefault());const n=wE.bind(this);if(!this._domH||!this._domSL||!this._domA||!this._domEdit||!this._domOkay)throw new Error("Not ready!");n(t,this._domH,a=>this.setHSLA(a)),n(t,this._domSL,(a,l)=>this.setHSLA(null,a,1-l)),this.scope.alpha&&n(t,this._domA,(a,l)=>this.setHSLA(null,null,null,1-l)),s(this._domEdit,"input",a=>{const l=a.target;this.setColor(l.value,{fromEditor:!0,failSilently:!0})}),s(this._domEdit,"focus",a=>{const l=a.target;l.selectionStart===l.selectionEnd&&l.select()});const r=()=>{this.onDone(this.color)};s(this._domOkay,"click",r),AE(t,this,["Enter"],r)}setHSLA(t=null,s=null,n=null,r=null,a={}){if(!this.color)throw new Error("Not ready!");const l=this.color.hsla;[t,s,n,r].forEach((c,f)=>{(c||c===0)&&(l[f]=c)}),this.color.hsla=l,this.updateUI(a),this.onChange&&!a.silent&&this.onChange(this.color)}_updateUI(t={}){if(!this||!this.color)return;if(this.scope.hsl=this.color.hsla,this.scope.cssHue=`hsl(${this.scope.hsl[0]*_E}, 100%, 50%)`,this.scope.cssHsl=this.color.hslString,this.scope.cssHsla=this.color.hslaString,!this._domH||!this._domSL||!this._domA)throw new Error("Color ui elements not found!");const s=this._domH.querySelector(".picker-selector"),n=this._domSL.querySelector(".picker-selector"),r=this._domA.querySelector(".picker-selector");if(!s||!n||!r||!this._domEdit||!this._domSample)throw console.error(s,n,r,this._domA,this._domSL,this._domH,this._domEdit,this._domSample),new Error("Not ready!");const a=(u,v,b)=>{v.style.left=b*100+"%"},l=(u,v,b)=>{v.style.top=b*100+"%"};a(this._domH,s,this.scope.hsl[0]),a(this._domSL,n,this.scope.hsl[1]),l(this._domSL,n,1-this.scope.hsl[2]),l(this._domA,r,1-this.scope.hsl[3]);const c=this.scope.cssHsl,f=c.replace("hsl","hsla").replace(")",", 0)"),g=`linear-gradient(${[c,f]})`;if(this.scope.alphaBg=g+", "+EE,!t.fromEditor){const u=this.scope.editorFormat,v=this.scope.alpha;let b;switch(u){case"rgb":b=this.color.printRGB(v);break;case"hsl":b=this.color.printHSL(v);break;default:b=this.color.printHex(v)}this.scope.color=b}}};let Un=za;o(Un,"tagName","bs5-colorpicker");const Ua=class extends J{constructor(){super();o(this,"autobind",!0);o(this,"wrapperElement");o(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,scrollOffset:0,anchors:[]})}static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","scroll-offset","scroll-element"]}connectedCallback(){super.connectedCallback(),this.init(Ua.observedAttributes)}getIdFromElementOrParent(t,s=1){return t.id?t.id:s<=this.scope.findHeaderIdDepth&&t.parentElement?this.getIdFromElementOrParent(t.parentElement,++s):null}pushHeaders(t,s,n,r){t.querySelectorAll("h"+s).forEach(l=>{const c=this.getIdFromElementOrParent(l);c&&(r.push({element:l,href:"#"+c,title:l.innerHTML,childs:[]}),l.parentElement&&n>=s+1&&this.pushHeaders(l.parentElement,s+1,n,r[r.length-1].childs))})}async afterBind(){if(this.scope.headerParentSelector&&this.scope.headersStart&&this.scope.headersDepth){if(this.wrapperElement=document.querySelector(this.scope.headerParentSelector)||void 0,this.scope.anchors=[],!this.wrapperElement){console.error("No wrapper element found!");return}this.pushHeaders(this.wrapperElement,this.scope.headersStart,this.scope.headersDepth,this.scope.anchors)}await super.afterBind()}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}async attributeChangedCallback(t,s,n,r){super.attributeChangedCallback(t,s,n,r)}disconnectedCallback(){super.disconnectedCallback(),this.scope.anchors=[]}async template(){if(vt(this))return null;{const{default:t}=await Ze(()=>import("./bs5-contents.component-9014ea28.bundle.js"),[]);return t}}};let Wi=Ua;o(Wi,"tagName","bs5-contents");const Wa=class extends J{constructor(){super();o(this,"_debug",!1);o(this,"autobind",!0);o(this,"formEl",null);o(this,"scope",this.getDefaultScope());this.enableSubmit=this.enableSubmit.bind(this)}static get observedAttributes(){return["id","disable-submit-until-change","use-ajax","ajax-request-type","auto-set-form-data","strip-html","scroll-invalid-element","animate-invalid-element"]}getDefaultScope(){return{id:ah("form"),form:{fields:{},valid:!1,error:void 0},disableSubmitUntilChange:!1,submitDisabled:!1,onSubmit:this.onSubmit,useAjax:!0,ajaxRequestType:"form",autoSetFormData:!0,stripHtml:!0,scrollToInvalidElement:!0,animateInvalidElement:!0}}connectedCallback(){super.connectedCallback(),this.init(Wa.observedAttributes),this.addEventListeners()}addEventListeners(){this.scope.disableSubmitUntilChange&&this.addEventListener("input",this.enableSubmit)}removeEventListeners(){this.removeEventListener("input",this.enableSubmit)}enableSubmit(){this.scope.submitDisabled=!1}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.id=this.scope.id}async afterBind(){await super.afterBind()}stripHtml(){for(const t in this.scope.form.fields)this.scope.form.fields[t]&&typeof this.scope.form.fields[t]=="string"&&(this.scope.form.fields[t]=lr(this.scope.form.fields[t]))}onSubmit(t,s){if(this.debug("onSubmit",t,s),!this.formEl)return console.warn("No form found"),!1;if(this.scope.autoSetFormData&&this.getFormValues(),this.scope.stripHtml&&this.stripHtml(),this.validate(this.formEl,this.scope.form),!this.scope.form.valid){this.onInvalidForm(t);return}const n=this.getSubmitSettings(t);if((n==null?void 0:n.target)==="_blank")return!0;this.scope.useAjax&&(t.preventDefault(),t.stopPropagation(),this.ajaxSubmit(t,s))}async ajaxSubmit(t,s){this.debug("onSubmit",t,s,this.scope);const n=this.getSubmitSettings(t);if(!n){console.warn("Can't get submit settings");return}this.scope.autoSetFormData&&this.getFormValues();try{const r=await Ji.fetch(n.action,n.method,this.scope.form.fields,n.type);if(!r||!r.body)return this.onErrorSubmit("500","Error","Empty body!");const a=r.body&&r.body.message?r.body.message:"";return Number(r.status)>=400&&this.onErrorSubmit(r.status.toString(),a,r.body),this.onSuccessSubmit(r.status.toString(),a,r.body)}catch(r){if(r.status&&r.body)this.onErrorSubmit(r.status,r.body.message,r.body);else throw this.error}}getSubmitSettings(t){var l,c;if(!this.formEl)return console.warn("No form found"),null;let s=this.formEl.action,n=this.formEl.method,r=this.formEl.method;if((l=t==null?void 0:t.originalEvent)!=null&&l.submitter){const f=(c=t==null?void 0:t.originalEvent)==null?void 0:c.submitter;s=(f==null?void 0:f.formAction)||s,n=(f==null?void 0:f.formMethod)||n,r=(f==null?void 0:f.formTarget)||r}return{action:s,method:n.toUpperCase(),target:r,type:this.scope.ajaxRequestType}}onInvalidForm(t){if(this.debug("Form not valid",this.scope),t.preventDefault(),t.stopPropagation(),!this.formEl){console.warn("No form found");return}const s=this.formEl.querySelectorAll(":invalid");if(s&&s.length){const n=s[0];this.scope.scrollToInvalidElement&&this.scrollToElement(n),this.scope.animateInvalidElement&&this.scrollToElement(n)}this.dispatchEvent(new CustomEvent("invalid",{detail:{elements:s}}))}scrollToElement(t){const n=aa().h/2;Qi(t,n,window),this.animateInvalidElement(t)}animateInvalidElement(t,s=3e3){t.classList.add("invalid-flashing-animation"),setTimeout(()=>{t.classList.remove("invalid-flashing-animation")},s)}onErrorSubmit(t,s,n){this.debug("onErrorSubmit"),this.dispatchEvent(new CustomEvent("submit-error",{detail:{status:t,message:s,response:n}}))}onSuccessSubmit(t,s,n){this.debug("onSuccessSubmit"),this.scope.disableSubmitUntilChange&&(this.scope.submitDisabled=!0),this.dispatchEvent(new CustomEvent("submit-success",{detail:{status:t,message:s,response:n}}))}validate(t,s,n="validation-error"){s.valid=t.checkValidity(),s.error=t.validationMessage,s.valid||(this.dispatchEvent(new CustomEvent(n)),t.classList.add("was-validated"))}getFormValues(){return this.formEl?(this.scope.form.fields=new FormData(this.formEl),this.scope.form.fields):(console.warn("No form found"),null)}initForm(){const t=this.querySelector("form");t&&t.length>0?(this.formEl=t,this.formEl.classList.add("needs-validation"),this.formEl.setAttribute("novalidate","")):console.warn("bs5 form without children found")}async template(){if(vt(this))return this.initForm(),null;{const{default:t}=await Ze(()=>import("./bs5-form.component-56e21618.bundle.js"),[]);return t}}};let Wn=Wa;o(Wn,"tagName","bs5-form");const ji=class extends la{constructor(){super();o(this,"scope",{})}static get observedAttributes(){return["size","width","height","src","color","direction","alt"]}getSvg(){return this.querySelector("svg")}async fetchCached(t){let s=ji.cache.get(t);return s||(s=Ji.get(t),s&&ji.cache.set(t,s),s)}async fetchIcon(t){var n;let s;if(window!=null&&window.ssr&&!t.startsWith("http")&&!t.startsWith("ftp")&&!t.startsWith("sftp")){let r;if(window.ssr.env.NEST_INTERN_URL)r=new URL(t,window.ssr.env.NEST_INTERN_URL);else if(window.ssr.ctx)r=new URL(t,window.ssr.ctx.protocol+"://"+window.ssr.ctx.hostname);else throw new Error("Host for SSR not found!");s=await this.fetchCached(r.href)}else s=await this.fetchCached(t);return s.status!==200?(console.error(s.status),""):(n=s.headers.get("content-type"))!=null&&n.includes("image/svg+xml")?s.body:(console.error("[bs5-icon] Only SVG's are supported! But content-type is "+s.headers.get("content-type")),"")}getBasename(t){const s=de(t).pathname.split("/");return s==null?void 0:s[s.length-1]}getAlternativeText(t){var n;return(n=this.getBasename(t).split(".")[0])==null?void 0:n.replaceAll("_"," ")}async onSrcChanged(){let t="";if(!this.scope.src){this.innerHTML="";return}const s=this.getAlternativeText(this.scope.src);s&&this.setAttribute("alt",s);const n=this.getSvg();if((n?n.getAttribute("src"):"")===this.scope.src)return;if(t=await this.fetchIcon(this.scope.src),!t){console.error(`Error on fetch icon "${this.scope.src}"!`);return}this.innerHTML=t;const a=this.getSvg();a&&a.setAttribute("src",this.scope.src)}removeColor(){this.className=this.className.replace(/(^|\s)color-\S+/g,""),this.style.color=""}setColor(t){if(!t)return this.removeColor();if(t.includes(",")){const s=t.split(",");if(s.length>0){this.className=this.className.replace(/(^|\s)color-\S+/g,"");for(let n=0;n<s.length;n++){const r=s[n];(r.startsWith("#")||r.startsWith("rgb"))&&(this.style.color=r),this.classList.add(`color-${r}`)}}}else this.style.color=t,this.className=this.className.replace(/(^|\s)color-\S+/g,""),this.classList.add(`color-${t}`)}setSize(t){this.style.height=t+"px",this.style.width=t+"px",this.className=this.className.replace(/(^|\s)size-\S+/g,""),this.classList.add(`size-${t}`)}setWidth(t){this.style.width=t+"px",this.className=this.className.replace(/(^|\s)width-\S+/g,""),this.classList.add(`width-${t}`)}setHeight(t){this.style.height=t+"px",this.className=this.className.replace(/(^|\s)height-\S+/g,""),this.classList.add(`height-${t}`)}setDirection(t){let s=`direction-${t}`;t==="left"?s+=" rotate-270":t==="left-top"||t==="left-up"||t==="top-left"||t==="up-left"?s+=" rotate-315":t==="top"||t==="up"?s+=" rotate-0":t==="top-right"||t==="up-right"||t==="right-top"||t==="right-up"?s+=" rotate-45":t==="right"?s+=" rotate-90":t==="right-bottom"||t==="right-down"||t==="bottom-right"||t==="down-right"?s+=" rotate-135":t==="bottom"||t==="down"?s+=" rotate-180":(t==="left-bottom"||t==="left-down"||t==="bottom-left"||t==="down-left")&&(s+=" rotate-225"),this.className=this.className.replace(/(^|\s)direction-\S+/g,""),this.className=this.className.replace(/(^|\s)rotate-\S+/g,""),this.className+=" "+s}async attributeChangedCallback(t,s,n,r){super.attributeChangedCallback(t,s,n,r),t==="src"&&this.onSrcChanged(),t==="color"&&this.setColor(n),t==="size"&&this.setSize(n),t==="width"&&this.setWidth(n),t==="height"&&this.setHeight(n),t==="direction"&&this.setDirection(n)}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true"),this.setAttribute("role","icon"),this.setAttribute("alt","icon"),this.classList.add("iconset"),this.init(ji.observedAttributes),this.scope.direction||(this.scope.direction="up",this.attributeChangedCallback("direction",null,this.scope.direction,null))}template(){return null}};let Pi=ji;o(Pi,"tagName","bs5-icon"),o(Pi,"cache",new td);const Va=class extends J{constructor(){super();o(this,"_debug",!1);o(this,"autobind",!0);o(this,"modalService");o(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this)})}static get observedAttributes(){return["modal","index"]}requiredAttributes(){return["modal"]}connectedCallback(){super.connectedCallback(),this.init(Va.observedAttributes)}async afterBind(){this.initModal(),await super.afterBind()}initModal(){const t=this.scope.modal,s=this.firstElementChild;t&&s&&(this.modalService=new Z(s,{focus:t.focus!==void 0?t.focus:!0,keyboard:t.keyboard!==void 0?t.keyboard:!0,backdrop:t.backdrop!==void 0?t.backdrop:!0}),s.addEventListener(Z.EVENT_HIDDEN,this.scope.onHidden,{once:!0}),this.modalService.show())}dismiss(){var t;(t=this.modalService)==null||t.hide()}onHidden(t,s){var r;s||(s=Ir(t));const n=((r=this.scope.$parent)==null?void 0:r.$parent)||null;typeof(n==null?void 0:n.onItemHide)=="function"&&this.scope.modal&&s&&n.onItemHide(t,s,this.scope.index,this.scope.modal)}async template(){const{default:t}=await Ze(()=>import("./bs5-modal-item.component-1e250b27.bundle.js"),[]);return t}};let Vn=Va;o(Vn,"tagName","bs5-modal-item");const ja=class extends J{constructor(){super();o(this,"scope",{toggle:this.toggle,show:this.show,hide:this.hide,isCollapsed:!0,collapseSelector:".navbar-collapse"});o(this,"collapseTargets",new Map);o(this,"routerEvents");this.onStateChange=this.onStateChange.bind(this)}static get observedAttributes(){return["collapse-selector"]}async afterBind(){this.hide(),await super.afterBind()}toggle(t){for(const s of this.collapseTargets.values())s.toggle();t&&(t.preventDefault(),t.stopPropagation())}show(t){for(const s of this.collapseTargets.values())s.show();t&&(t.preventDefault(),t.stopPropagation())}hide(t){for(const s of this.collapseTargets.values())s.hide();t&&(t.preventDefault(),t.stopPropagation())}connectedCallback(){super.connectedCallback(),this.routerEvents=new Y("main"),this.routerEvents.on("newPageReady",this.onNewPageReady,this),this.setCollapseElement(),this.onStateChange(),this.init(ja.observedAttributes)}setCollapseElement(){const t=Array.from(this.querySelectorAll(this.scope.collapseSelector)||[]);for(const s of this.collapseTargets.keys())t.find(n=>n===s)||this.disposeCollapseTarget(s);for(const s of t)this.collapseTargets.has(s)||(this.collapseTargets.set(s,new tt(s,{toggle:!1})),s.addEventListener(tt.Events.shown,this.onStateChange),s.addEventListener(tt.Events.hidden,this.onStateChange));this.hide()}disposeCollapseTargets(){for(const t of this.collapseTargets.keys())this.disposeCollapseTarget(t)}disposeCollapseTarget(t){const s=this.collapseTargets.get(t);s&&s.dispose(),this.collapseTargets.delete(t),t.removeEventListener(tt.Events.shown,this.onStateChange),t.removeEventListener(tt.Events.hidden,this.onStateChange)}disconnectedCallback(){super.disconnectedCallback(),this.disposeCollapseTargets(),this.routerEvents&&this.routerEvents.off("newPageReady",this.onNewPageReady,this)}onStateChange(){var t;this.scope.isCollapsed=(t=this.collapseTargets.values().next().value)==null?void 0:t.isCollapsed(),this.scope.isCollapsed?(this.classList.add(tt.CLASS_NAME_COLLAPSED),this.setAttribute("aria-expanded","false")):(this.classList.remove(tt.CLASS_NAME_COLLAPSED),this.setAttribute("aria-expanded","true"))}onNewPageReady(){this.hide()}parsedAttributeChangedCallback(t,s,n,r){super.parsedAttributeChangedCallback(t,s,n,r),t==="collapseSelector"&&this.setCollapseElement()}template(){return null}};let jn=ja;o(jn,"tagName","bs5-navbar");const qa=class extends J{constructor(){super();o(this,"autobind",!0);o(this,"_debug",!1);o(this,"notificationDispatcher");o(this,"scope",{notifications:[],positionClass:"absolute-bottom absolute-center",channelName:"toast",onItemHide:this.onItemHide})}static get observedAttributes(){return["icon-url","position-class","channel-name"]}connectedCallback(){super.connectedCallback(),this.init(qa.observedAttributes)}onItemHide(t,s,n,r){n>-1?this.notifications.splice(n,1):console.warn("Notification not found",r)}onShowNotification(t){this.debug("Received notification container on "+this.scope.channelName,this.scope,t),this.scope.notifications.push(t)}async afterBind(){this.notificationDispatcher=new Y(this.scope.channelName),this.notificationDispatcher.on("show-notification",this.onShowNotification,this),await super.afterBind()}disconnectedCallback(){super.disconnectedCallback(),this.notificationDispatcher.off("show-notification",this.onShowNotification,this)}requiredAttributes(){return[]}async template(){if(!vt(this)){const{default:t}=await Ze(()=>import("./bs5-notification-container.component-4bf97a57.bundle.js"),[]);return t}return null}};let qn=qa;o(qn,"tagName","bs5-notification-container");const Ya=class extends Wi{constructor(){super();o(this,"autobind",!0);o(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,offset:0,offsetBottom:0,scrollOffset:0,anchors:[]})}static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","offset","offset-bottom","scroll-offset"]}connectedCallback(){super.connectedCallback(),this.init(Ya.observedAttributes)}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}async template(){if(vt(this))return null;{const{default:t}=await Ze(()=>import("./bs5-scrollspy.component-1b82c9f2.bundle.js"),[]);return t}}};let Yn=Ya;o(Yn,"tagName","bs5-scrollspy");const CE=`<div rv-add-class="'drop' | append dropdownDirection">
  <button class="btn btn-icon dropdown-toggle dropdown-toggle-share d-flex align-items-center" rv-id="dropdownId"
    rv-template="labelTemplate" aria-label="Toggle dropdown share menu"></button>
  <div class="dropdown-menu" rv-aria-labelledby="dropdownId" rv-add-class="'dropdown-menu-' | append dropdownAlignment">

    <div rv-each-item="shareItems">
      <div rv-if="item.available" rv-on-click="shareOnService | args item">
        <a rv-if="item.type | eq 'download'" class="dropdown-item no-barba cursor-pointer" rv-type="item.type"
          target="_blank" rv-download="getFilename | call item" rv-href="item.url" rv-html="item.label">
        </a>
        <div class="dropdown-item cursor-pointer" rv-unless="item.type | eq 'download'" rv-type="item.type"
          rv-html="item.label"></div>
      </div>

    </div>

  </div>
</div>`,kE=`<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-text="label"></div>
`,qi=class extends J{constructor(){super();o(this,"_debug",!1);o(this,"dropdown");o(this,"scope");this.scope=this.getScopeDefaults(),qi.count++,this.onExternalOpenEvent=this.onExternalOpenEvent.bind(this),this.onExternalCloseEvent=this.onExternalCloseEvent.bind(this)}static get observedAttributes(){return["type","title","text","url","media-url","filename","label","dropdown-direction","dropdown-alignment","label-facebook","label-twitter","label-pinterest","label-whatsapp","label-telegram","label-email","label-download","label-clipboard"]}getFilename(t){return t.filename?t.filename:this.getMediaUrlForShare().split("/").pop()}getDefaultShareServices(){const t="%0A";return[{id:"facebook",label:this.scope.labelFacebook,urlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{url}}",mediaUrlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{media_url}}",type:"popup",url:"",availableFor:["page","image","video"]},{id:"twitter",label:this.scope.labelTwitter,urlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}",mediaUrlTemplate:`https://twitter.com/intent/tweet?text={{text}}&url={{media_url}}${t}({{url}})`,url:"",availableFor:["page","image","video"]},{id:"pinterest",label:this.scope.labelPinterest,urlTemplate:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{media_url}}&description={{text}}",type:"popup",url:"",availableFor:["image","video"]},{id:"whatsapp",label:this.scope.labelWhatsapp,urlTemplate:`https://api.whatsapp.com/send?text={{text}}${t}${t}{{url}}`,mediaUrlTemplate:`https://api.whatsapp.com/send?text={{text}}${t}${t}{{media_url}}${t}({{url}})`,type:"popup",url:"",availableFor:["page","image","video"]},{id:"telegram",label:this.scope.labelTelegram,urlTemplate:"https://telegram.me/share/url?url={{url}}&text={{text}}",mediaUrlTemplate:`https://telegram.me/share/url?url={{media_url}}&text={{text}}${t}({{url}})`,type:"popup",url:"",availableFor:["page","image","video"]},{id:"email",label:this.scope.labelEmail,urlTemplate:`mailto:?subject={{title}}&body={{text}}${t}${t}{{url}}`,mediaUrlTemplate:`mailto:?subject={{title}}&body={{text}}${t}${t}{{media_url}}${t}({{url}})`,type:"href",url:"",availableFor:["page","image","video"]},{id:"download",label:this.scope.labelDownload,urlTemplate:"{{raw_media_url}}",type:"download",url:"",availableFor:["image","video"],filename:this.scope.filename},{id:"clipboard",label:this.scope.labelClipboard,urlTemplate:"{{url}}",mediaUrlTemplate:"{{media_url}}",type:"clipboard",url:"",availableFor:["page","image","video"]}]}isIos(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)!==null}isAndroid(){return navigator.userAgent.match(/Android/i)!==null}browserSupportsNativeShare(){return typeof navigator.share=="function"}getScopeDefaults(){const t={type:"page",title:document.title,text:"Look at this! 👀🤩",url:void 0,label:"Share",labelTemplate:kE,isAndroid:this.isAndroid(),isIos:this.isIos(),isDesktop:!1,isNative:this.browserSupportsNativeShare(),dropdownId:"dropdownShare"+qi.count,shareItems:[],dropdownDirection:"down",dropdownAlignment:"auto",labelFacebook:"Facebook",labelTwitter:"Twitter",labelPinterest:"Pinterest",labelWhatsapp:"Whatsapp",labelTelegram:"Telegram",labelEmail:"Email",labelDownload:"Download",labelClipboard:"Copy to clipboard",share:this.share,shareOnService:this.shareOnService,getFilename:this.getFilename};return t.isDesktop=!t.isIos&&!t.isAndroid,t}onExternalOpenEvent(){var t;(t=this.dropdown)==null||t.show()}onExternalCloseEvent(){var t;(t=this.dropdown)==null||t.hide()}connectedCallback(){super.connectedCallback(),this.init(qi.observedAttributes),this.addEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}addEventListeners(){this.addEventListener("open",this.onExternalOpenEvent),this.addEventListener("btn-close",this.onExternalCloseEvent)}removeEventListeners(){this.removeEventListener("open",this.onExternalOpenEvent),this.removeEventListener("btn-close",this.onExternalOpenEvent)}getURLForShare(){return this.scope.type==="page"&&this.scope.url?cr(this.scope.url):window.location.href}getMediaUrlForShare(){return this.scope.type!=="page"&&this.scope.url?cr(this.scope.url):""}getTextForShare(){return lr(this.scope.text)}getTitleForShare(){return lr(this.scope.title)}updateShareURLs(){for(const t of this.scope.shareItems){const s=this.getURLForShare(),n=this.getMediaUrlForShare(),r=this.getTextForShare(),a=this.getTitleForShare();let l=t.urlTemplate;this.scope.type!=="page"&&t.mediaUrlTemplate&&(l=t.mediaUrlTemplate);const c=t.type!=="clipboard",f=l.replace("{{url}}",c?encodeURIComponent(s):s).replace("{{media_url}}",c?encodeURIComponent(n):n).replace("{{raw_media_url}}",n).replace("{{text}}",c?encodeURIComponent(r):r).replace("{{title}}",c?encodeURIComponent(a):a);t.available=t.availableFor.includes(this.scope.type),t.url=f}}initDropdown(){const t=this.querySelector(".dropdown-toggle-share");if(!t){console.warn('Element with selector ".dropdown-toggle-share" not found!',this);return}this.dropdown=new W(t)}async shareOnService(t,s){var n;return(n=this.dropdown)==null||n.hide(),t.type==="clipboard"?(s.preventDefault(),s.stopPropagation(),await tp(t.url),!1):t.type==="download"?!0:(s.preventDefault(),s.stopPropagation(),window.open(t.url,"Share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),!1)}async share(t){var s;if(this.debug("share",this.scope),t.preventDefault(),t.stopPropagation(),this.scope.isNative&&!this.scope.isDesktop)try{await navigator.share({title:this.scope.title,text:`${this.scope.text}\r
\r
`,url:this.scope.url||window.location.href})}catch(n){if(n.name==="AbortError")return;console.error(`Error ${n.name}: ${n.message}`,n)}else return this.updateShareURLs(),(s=this.dropdown)==null?void 0:s.toggle()}async beforeBind(){await super.beforeBind()}async afterBind(){this.initDropdown(),this.debug("afterBind",this.scope),this.scope.shareItems=this.getDefaultShareServices(),await super.afterBind()}requiredAttributes(){return[]}template(){return this&&vt(this)&&(this.scope.labelTemplate=this.innerHTML),CE}};let Ri=qi;o(Ri,"tagName","bs5-share"),o(Ri,"count",0);const Ka=class extends J{constructor(){super();o(this,"computedStyle");o(this,"autobind",!0);o(this,"_debug",!1);o(this,"bs5");o(this,"touch",new pa(this));o(this,"events");o(this,"routerEvents",new Y("main"));o(this,"defaults",{containerSelector:void 0,state:"hidden",oldState:"hidden",id:void 0,width:"250px",position:"left",mode:"overlap",autoShow:!1,autoHide:!1,watchNewPageReadyEvent:!0,forceHideOnLocationPathnames:[],forceShowOnLocationPathnames:[],closeOnSwipe:!0,hide:this.hide,show:this.show,toggle:this.toggle});o(this,"scope",{...this.defaults});o(this,"onSwipe",this._onSwipe.bind(this));o(this,"onEnvironmentChanges",jt(this._onEnvironmentChanges.bind(this)));this.bs5=Ce.getSingleton(),this.onEnvironmentChanges=this.onEnvironmentChanges.bind(this)}static get observedAttributes(){return["id","container-selector","position","mode","width","auto-show","auto-hide","force-hide-on-location-pathnames","force-show-on-location-pathnames","watch-new-page-ready-event","close-on-swipe"]}setState(t){this.scope.oldState=this.scope.state,this.scope.state=t,this.onStateChange()}getState(){return this.scope.state}getShowMode(){return`${this.scope.mode}-${this.scope.position}`}hide(){this.setState("hidden")}show(){const t=this.getShowMode();this.setState(t)}toggle(){this.debug("toggle state: "+this.scope.state),this.scope.state==="hidden"?this.show():this.hide(),this.debug("toggled state: "+this.scope.state)}connectedCallback(){super.connectedCallback(),this.init(Ka.observedAttributes),this.computedStyle=window.getComputedStyle(this),this.addEventListeners(),this.onEnvironmentChanges()}addEventListeners(){window.addEventListener("resize",this.onEnvironmentChanges,{passive:!0}),this.addEventListener("swipe",this.onSwipe)}removeEventListeners(){var t,s;(t=this.events)==null||t.off(j.eventNames.init,this.triggerState,this),(s=this.events)==null||s.off(j.eventNames.toggle,this.toggle,this),this.routerEvents.off("newPageReady",this.onEnvironmentChanges,this),window.removeEventListener("resize",this.onEnvironmentChanges)}initToggleButtonEventDispatcher(){this.events&&(this.events.off(j.eventNames.toggle,this.toggle,this),this.events.off(j.eventNames.init,this.triggerState,this));const t=j.nsPrefix+this.scope.id;this.debug(`Init event dispatcher for namespace  ${t}`),this.events=new Y(t),this.events.on(j.eventNames.toggle,this.toggle,this),this.events.on(j.eventNames.init,this.triggerState,this)}initRouterEventDispatcher(){this.scope.watchNewPageReadyEvent&&this.routerEvents.on("newPageReady",this.onEnvironmentChanges,this)}_onSwipe(t){this.scope.closeOnSwipe&&(this.scope.state==="side-left"||this.scope.state==="side-right"||(this.scope.position==="left"&&t.detail.direction==="left"&&this.hide(),this.scope.position==="right"&&t.detail.direction==="right"&&this.hide()))}onHidden(){const t=this.scope.position==="left"?"-100%":"100%";this.style.transform=`translateX(${t})`,this.width=this.scope.width,this.setContainersStyle(this.scope.state)}onMove(t){this.style.transform="translateX(0)",this.style.width=this.scope.width,this.width=this.scope.width,this.setContainersStyle(t)}onSide(t){this.style.transform="translateX(0)",this.style.width=this.scope.width,this.width=this.scope.width,this.setContainersStyle(t)}onOverlap(t){this.style.transform="translateX(0)",this.width=this.scope.width,this.setContainersStyle(t)}triggerState(){var t;(t=this.events)==null||t.trigger("state",this.scope.state)}onStateChange(){switch(this.scope.state){case"side-left":case"side-right":this.onSide(this.scope.state);break;case"overlap-left":case"overlap-right":this.onOverlap(this.scope.state);break;case"move-left":case"move-right":this.onMove(this.scope.state);break;default:this.onHidden();break}this.events&&this.events.trigger(j.eventNames.toggled,this.scope.state),this.dispatchEvent(new CustomEvent(j.eventNames.toggled,{detail:this.scope.state}))}get width(){return this.scope.width===this.defaults.width?this.offsetWidth+"px":this.scope.width}set width(t){this.scope.width=t,this.style.width=t}setStateByEnvironment(){if(this.scope.forceHideOnLocationPathnames.includes(window.location.pathname))return this.hide();if(this.scope.forceShowOnLocationPathnames.includes(window.location.pathname))return this.show();if(this.scope.autoHide)return this.hide();if(this.scope.autoShow)return this.show()}_onEnvironmentChanges(){this.setStateByEnvironment()}getContainers(){return this.scope.containerSelector?document.querySelectorAll(this.scope.containerSelector):void 0}initContainers(t){this.setContainersStyle(t)}setContainersStyle(t){const s=this.getContainers()||[];if(s)for(let n=0;n<s.length;n++){const r=s[n];this.setContainerStyle(r,t)}}setContainerStyle(t,s){const n=t.style;if(s){const r=this.width,a=window.getComputedStyle(t);if(this.scope.mode==="move"&&s.startsWith("overlap-"))switch(a.position){case"fixed":case"absolute":n.left="0",n.right="0";break;default:n.marginLeft="0",n.marginRight="0";break}switch(s){case"side-left":switch(a.position){case"fixed":case"absolute":n.left=r;break;default:n.marginLeft=r;break}break;case"side-right":switch(a.position){case"fixed":case"absolute":n.right=r;break;default:n.marginRight=r;break}break;case"move-left":switch(a.position){case"fixed":case"absolute":n.left=r,n.right=`-${r}`;break;default:n.marginLeft=r,n.marginRight=`-${r}`;break}break;case"move-right":switch(a.position){case"fixed":case"absolute":n.right=r,n.left=`-${r}`;break;default:n.marginRight=r,n.marginLeft=`-${r}`;break}break;case"hidden":switch(this.scope.oldState){case"side-left":switch(a.position){case"fixed":case"absolute":n.left="0";break;default:n.marginLeft="0";break}break;case"side-right":switch(a.position){case"fixed":case"absolute":n.right="0";break;default:n.marginRight="0";break}break;case"move-left":switch(a.position){case"fixed":case"absolute":n.left="0",n.right="0";break;default:n.marginRight="0",n.marginLeft="0";break}break;case"move-right":switch(a.position){case"fixed":case"absolute":n.right="0",n.left="0";break;default:n.marginRight="0",n.marginLeft="0";break}break}}}t.style.transition=this.computedStyle?this.computedStyle.transition:""}async beforeBind(){return await super.beforeBind(),this.scope.oldState=this.getShowMode(),this.initRouterEventDispatcher(),this.onEnvironmentChanges()}async afterBind(){this.onEnvironmentChanges(),await super.afterBind()}requiredAttributes(){return["id"]}parsedAttributeChangedCallback(t,s,n,r){switch(super.parsedAttributeChangedCallback(t,s,n,r),t==="id"&&this.initToggleButtonEventDispatcher(),t){case"containerSelector":this.initContainers(this.scope.state);break;case"id":this.initToggleButtonEventDispatcher();break;case"width":this.width=n;case"mode":this.onStateChange(),this.initContainers(this.scope.state);break;case"autoHide":case"autoShow":this.setStateByEnvironment();break}}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}template(){return vt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}};let Kn=Ka;o(Kn,"tagName","bs5-sidebar");const LE=`<div class="row slideshow-row">
  <div rv-each-slide="items" rv-class="slide.class" rv-class-active="slide.active" rv-id="'slide-' | append slide.handle" rv-index="slide.index" rv-template="slide.content"></div>
</div>
`,IE=`<button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-prev" rv-add-class="controlsPositionClass" role="button" data-slide="prev" rv-on-click="prev">
  <bs5-icon rv-if="controlPrevIconSrc" rv-src="controlPrevIconSrc" direction="left" size="24"></bs5-icon>
  <span rv-hide="controlPrevIconSrc" class="btn btn-link slideshow-control-fallback-prev-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Previous</span>
</button>
<button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-next" rv-add-class="controlsPositionClass" role="button" data-slide="next" rv-on-click="next">
  <bs5-icon rv-if="controlNextIconSrc" rv-src="controlNextIconSrc" direction="right" size="24"></bs5-icon>
  <span rv-hide="controlNextIconSrc" class="slideshow-control-fallback-next-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Next</span>
</button>
`,xE=`<ol rv-if="indicators" class="slideshow-indicators" rv-add-class="indicatorsPositionClass">
  <li rv-each-slide="items" rv-class-active="slide.active" rv-on-click="goTo | args slide.index">
    <bs5-icon rv-hide="slide.active" rv-src="indicatorInactiveIconSrc" size="16"></bs5-icon>
    <bs5-icon rv-show="slide.active" rv-src="indicatorActiveIconSrc" size="16"></bs5-icon>
  </li>
</ol>
`,OE='<img lazyload="lazy" class="img-fluid w-100" rv-src="slide.src" rv-alt="slide.title">',Ku=".slideshow-row",NE=`${Ku} .slide`,Ga=class extends ca{constructor(){super();o(this,"resizeObserver");o(this,"bs5");o(this,"defaultScope",{slidesToScroll:1,controls:!0,controlsPosition:"inside-middle",pauseOnHover:!0,sticky:!1,indicators:!0,indicatorsPosition:"inside-bottom",pause:!1,drag:!0,touchScroll:!0,autoplay:!1,autoplayInterval:0,autoplayVelocity:.8,controlPrevIconSrc:"",controlNextIconSrc:"",indicatorActiveIconSrc:"",indicatorInactiveIconSrc:"",angle:"horizontal",infinite:!0,next:this.next.bind(this),prev:this.prev.bind(this),goTo:this.goTo.bind(this),enableTouchScroll:this.enableTouchScroll.bind(this),disableTouchScroll:this.disableTouchScroll.bind(this),items:void 0,controlsPositionClass:"",indicatorsPositionClass:"",intervalCount:0,intervalProgress:0,nextIndex:-1,prevIndex:-1,activeIndex:0});o(this,"templateAttributes",[{name:"class",required:!1},{name:"handle",required:!1},{name:"type",required:!0},{name:"active",type:"boolean",required:!1},{name:"index",type:"number",required:!1},{name:"src",type:"string",required:!1}]);o(this,"autobind",!0);o(this,"dragscrollService");o(this,"continuousAutoplayService");o(this,"scrollEventsService");o(this,"templateControls",IE);o(this,"templateIndicators",xE);o(this,"autoplayIntervalIndex",null);o(this,"continuousAutoplayIntervalIndex",null);o(this,"resumeTimer",null);o(this,"routerEvents",new Y("main"));o(this,"scope",{...this.defaultScope});o(this,"onViewChanges",jt(this._onViewChanges.bind(this)));o(this,"onScroll",jt(this._onScroll.bind(this)));o(this,"onMouseUp",je(this._onMouseUp.bind(this)));o(this,"resume",je(this._resume.bind(this),500));this.bs5=Ce.getSingleton(),this.onViewChanges=this.onViewChanges.bind(this),this.onVisibilityChanged=this.onVisibilityChanged.bind(this),this.onScroll=this.onScroll.bind(this),this.onScrollend=this.onScrollend.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this)}get slideshowInner(){return this.querySelector(Ku)}get slideElements(){return this.querySelectorAll(NE)}get controlsElements(){return this.querySelectorAll(".slideshow-control-prev, .slideshow-control-next")}get indicatorsElement(){return this.querySelector(".slideshow-indicators")}static get observedAttributes(){return["items","slides-to-scroll","controls","controls-position","drag","autoplay","autoplay-interval","autoplay-velocity","control-prev-icon-src","control-next-icon-src","indicator-inactive-icon-src","indicator-active-icon-src","angle","pause-on-hover","sticky","indicators","indicators-position","pause","infinite"]}next(){this.scrollToNextSlide()}prev(){this.scrollToPrevSlide()}goTo(t){var s;if(t<0||!((s=this.scope.items)!=null&&s[t])||!this.slideElements[t]||!this.slideshowInner){this.throw(new Error(`Can't go to slide of index ${t}`)),console.error("items",this.scope.items),console.error("this.slideElements",this.slideElements),console.error("this.slideshowInner",this.slideshowInner);return}this.setSlidePositions(),this.slideElements[t]?(Qi(this.slideElements[t],0,this.slideshowInner,this.scope.angle),this.setSlideActive(t)):this.throw(new Error(`Slide element with index "${t}" not found!`))}getNextIndex(t){let s=t+this.scope.slidesToScroll;if(s>=this.slideElements.length){if(!this.scope.infinite)return this.slideElements.length-1;s=s-this.slideElements.length}return s}getPrevIndex(t){let s=t-this.scope.slidesToScroll;if(s<0){if(!this.scope.infinite)return 0;s=this.slideElements.length-1+(s+1)}return s}scrollToNearestSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex();return this.goTo(t)}scrollToNextSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex(),s=this.getNextIndex(t);return this.goTo(s)}scrollToPrevSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex(),s=this.getPrevIndex(t);return this.goTo(s)}initOptions(){this.setOptions()}setOptions(){this.scope.autoplay?this.enableAutoplay():this.disableAutoplay(),this.scope.drag?this.enableDesktopDragscroll():this.disableDesktopDragscroll(),this.scope.touchScroll?this.enableTouchScroll():this.disableTouchScroll(),this.setControlsOptions(),this.setIndicatorsOptions()}setControlsOptions(){var s;const t=(s=this.scope.controlsPosition)==null?void 0:s.split("-");this.scope.controls&&t.length===2?this.scope.controlsPositionClass=`control-${t[0]} control-${t[1]}`:this.scope.controlsPositionClass=""}setIndicatorsOptions(){var s;const t=(s=this.scope.indicatorsPosition)==null?void 0:s.split("-");this.scope.indicators&&t.length===2?this.scope.indicatorsPositionClass=`indicators-${t[0]} indicators-${t[1]}`:this.scope.indicatorsPositionClass=""}_onViewChanges(){var t,s;if(this.debug("onViewChanges"),!(!((t=this.scope.items)!=null&&t.length)||!((s=this.slideElements)!=null&&s.length)))try{this.setSlidePositions();const n=this.setCenteredSlideActive();this.scope.sticky&&this.goTo(n)}catch(n){this.throw(n)}}onVisibilityChanged(t){var s,n;t.detail.visible&&((s=this.dragscrollService)==null||s.checkDraggable(),(n=this.continuousAutoplayService)==null||n.update())}_onScroll(){}onScrollend(){var t;if((t=this.scope.items)!=null&&t.length)try{this.setSlidePositions(),this.setCenteredSlideActive(),this.scope.sticky&&this.scrollToNearestSlide()}catch(s){this.throw(s)}}onMouseIn(){this.scope.pauseOnHover&&(this.scope.pause=!0)}onMouseOut(){this.resume()}_onMouseUp(){}_resume(){this.setSlidePositions(),this.scope.pause=!1}connectedCallback(){var t;!((t=this.scope.items)!=null&&t.length)&&this.slideElements&&this.addItemsByChilds(),super.connectedCallback(),this.init(Ga.observedAttributes),this.addEventListeners()}addEventListeners(){var t,s,n;this.routerEvents.on("newPageReady",this.onViewChanges),window.ResizeObserver&&(this.resizeObserver=new window.ResizeObserver(this.onViewChanges),(t=this.resizeObserver)==null||t.observe(this)),window.addEventListener("resize",this.onViewChanges,{passive:!0}),this.addEventListener("visibility-changed",this.onVisibilityChanged),(s=this.slideshowInner)==null||s.addEventListener("scroll",this.onScroll,{passive:!0}),(n=this.slideshowInner)==null||n.addEventListener("scrollended",this.onScrollend,{passive:!0}),this.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.addEventListener("scrollended",this.onMouseUp,{passive:!0})}removeEventListeners(){var t,s,n;this.routerEvents.off("newPageReady",this.onViewChanges,this),window.removeEventListener("resize",this.onViewChanges),(t=this.resizeObserver)==null||t.unobserve(this),this.bs5.events.off("breakpoint:changed",this.onViewChanges,this),this.removeEventListener("visibility-changed",this.onVisibilityChanged),(s=this.slideshowInner)==null||s.removeEventListener("scroll",this.onScroll),(n=this.slideshowInner)==null||n.removeEventListener("scrollended",this.onScrollend),this.removeEventListener("mouseenter",this.onMouseIn),this.removeEventListener("mouseover",this.onMouseIn),this.removeEventListener("focusin",this.onMouseIn),this.removeEventListener("touchstart",this.onMouseIn),this.removeEventListener("mouseleave",this.onMouseOut),this.removeEventListener("focusout",this.onMouseOut),this.removeEventListener("mouseup",this.onMouseUp),this.removeEventListener("touchend",this.onMouseUp),this.removeEventListener("scroll",this.onMouseUp),this.removeEventListener("scrollend",this.onMouseUp),this.removeEventListener("scrollended",this.onMouseUp)}initAll(){this.initSlideshowInner(),this.initOptions(),this.addEventListeners(),this.onViewChanges(),this.onScrollend()}async beforeBind(){await super.beforeBind(),this.validateItems()}async afterBind(){this.initAll(),await super.afterBind()}initSlideshowInner(){if(!this.slideshowInner){this.throw(new Error("Can't init slideshow inner!"));return}this.scrollEventsService=new fa(this.slideshowInner)}enableDesktopDragscroll(){if(!this.dragscrollService){if(!this.slideshowInner)return;const t={detectGlobalMove:!0};this.dragscrollService=new ua(this.slideshowInner,t)}}disableDesktopDragscroll(){this.dragscrollService&&(this.dragscrollService.destroy(),this.dragscrollService=void 0)}enableTouchScroll(){this.classList.remove("touchscroll-disabled")}disableTouchScroll(){this.classList.add("touchscroll-disabled")}enableContinuousAutoplay(){if(!this.continuousAutoplayService&&this.slideshowInner){const t={velocity:this.scope.autoplayVelocity,angle:this.scope.angle,pauseOnHover:this.scope.pauseOnHover};this.continuousAutoplayService=new da(this.slideshowInner,t)}if(this.continuousAutoplayIntervalIndex===null){const t=this.scope.autoplayVelocity*1e4;this.continuousAutoplayIntervalIndex=window.setInterval(this.onScrollend.bind(this),t)}}disableContinuousAutoplay(){this.continuousAutoplayService&&(this.continuousAutoplayService.pause(),this.continuousAutoplayService.destroy(),this.continuousAutoplayService=void 0),this.continuousAutoplayIntervalIndex!==null&&(window.clearInterval(this.continuousAutoplayIntervalIndex),this.continuousAutoplayIntervalIndex=null)}resetIntervalAutoplay(){this.scope.intervalCount=0,this.scope.intervalProgress=0}enableIntervalAutoplay(){this.autoplayIntervalIndex===null&&(this.autoplayIntervalIndex=window.setInterval(()=>{this.scope.pause||(this.scope.intervalCount+=100,this.scope.intervalProgress=this.scope.intervalCount/this.scope.autoplayInterval*100,this.scope.intervalProgress>=100&&this.next())},100))}disableIntervalAutoplay(){this.resetIntervalAutoplay(),console.debug("disableIntervalAutoplay",this.autoplayIntervalIndex),this.autoplayIntervalIndex!==null&&(window.clearInterval(this.autoplayIntervalIndex),this.autoplayIntervalIndex=null)}disableAutoplay(){this.disableIntervalAutoplay(),this.disableContinuousAutoplay()}enableAutoplay(){this.disableAutoplay(),this.scope.autoplayInterval<=0?this.enableContinuousAutoplay():this.enableIntervalAutoplay()}transformTemplateAttributes(t,s){return t=super.transformTemplateAttributes(t,s),t.handle=t.handle||s.toString(),t.index=s,t.class=t.class||"",t.class+=" slide",t}validateItems(){if(!this.scope.items){this.throw(new Error("No items to validate!"));return}for(let t=0;t<this.scope.items.length;t++){const s=this.scope.items[t];s.index=s.index||t,s.active=s.active||!1,s.title=s.title||"",s.handle=s.handle||s.index.toString(),s.position=s.position||{centerX:0,centerY:0},s.class=s.class||"",s.class+=" slide",s.content=s.content||OE}}addItemByTemplate(t,s){const n=this.getTemplateAttributes(t,s),r=t.innerHTML;n.type&&(n.type==="slide"&&(this.scope.items||(this.scope.items=[]),this.scope.items.push({...n,content:r})),n.type==="controls"&&(this.templateControls=r),n.type==="indicators"&&(this.templateIndicators=r))}addItemsByChilds(){this.slideElements||this.throw(new Error("Can't not add items by child's because no slide child's are found!")),this.slideElements.forEach((t,s)=>{const n=t.getAttribute("handle")||t.getAttribute("id")||s.toString();t.setAttribute("index",s.toString());const r={handle:n,active:!1,content:t.innerHTML,index:s,position:{...t.getBoundingClientRect(),centerY:0,centerX:0}};this.scope.items||(this.scope.items=[]),this.scope.items.push(r)})}getScrollPosition(){return this.slideshowInner?Se(this.slideshowInner):null}getCurrentClosestNumber(t,s,n){return Math.abs(s-t)<Math.abs(n-t)?s:n}getMostCenteredSlideIndex(){var n;if(!((n=this.scope.items)!=null&&n.length))return this.throw(new Error("No slide items found!")),-1;let t=Math.abs(this.scope.angle==="vertical"?this.scope.items[0].position.centerY:this.scope.items[0].position.centerX),s=0;for(let r=1;r<this.scope.items.length;r++){const a=Math.abs(this.scope.angle==="vertical"?this.scope.items[r].position.centerY:this.scope.items[r].position.centerX);t=this.getCurrentClosestNumber(0,a,t),t===a&&(s=r)}return s}setAllSlidesInactive(t=-1){var s;if(!(!this.slideElements||!((s=this.scope.items)!=null&&s.length)))for(let n=0;n<this.scope.items.length;n++)n!==t&&(this.scope.items[n]&&(this.scope.items[n].active=!1),this.slideElements[n]&&this.slideElements[n].classList&&this.slideElements[n].classList.remove("active"))}setSlideActive(t){var s,n,r;if((t===-1||!((s=this.scope.items)!=null&&s.length))&&(console.warn(new Error("Most centered slide not found!")),t=0),(n=this.scope.items)!=null&&n[t]||(t=0),!((r=this.scope.items)!=null&&r[t]))return this.throw(new Error("Slide item to set active not found!")),0;this.setAllSlidesInactive(t),this.scope.items[t].active=!0,this.scope.activeIndex=t,this.scope.nextIndex=this.getNextIndex(t),this.scope.prevIndex=this.getPrevIndex(t),this.resetIntervalAutoplay(),this.slideElements&&this.slideElements[t].classList&&this.slideElements[t].classList.add("active")}setCenteredSlideActive(){const t=this.getMostCenteredSlideIndex();return this.setSlideActive(t),t}isScrollableToIndex(t){var a;const s=this.getScrollPosition();if(!((a=this.scope.items)!=null&&a[t])||!this.slideshowInner||!s)return!1;const n=this.scope.angle==="vertical"?s.maxY:s.maxX,r=this.scope.angle==="vertical"?this.slideshowInner.scrollTop+this.scope.items[t].position.centerY:this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX;return r<=n&&r>=0}setSlidePositions(){var s,n,r,a;if(!this.bound)return;if(((s=this.scope.items)==null?void 0:s.length)!==((n=this.slideElements)==null?void 0:n.length)){console.warn(new Error(`The slide objects must be the same size as the slide elements! items (${(r=this.scope.items)==null?void 0:r.length}) !== slideElements (${(a=this.slideElements)==null?void 0:a.length})`),this.slideElements,this);return}if(!this.slideshowInner)return;const t=this.slideshowInner.getBoundingClientRect();for(let l=0;l<this.scope.items.length;l++){const c=this.slideElements[l],f=this.scope.items[l],g=c.getBoundingClientRect();g.x-=t.x,g.y-=t.y,f.position={...g,centerY:g.y+g.height/2-t.height/2,centerX:g.x+g.width/2-t.width/2}}}requiredAttributes(){return["items"]}parsedAttributeChangedCallback(t,s,n,r){super.parsedAttributeChangedCallback(t,s,n,r),t==="items"&&this.validateItems(),t==="autoplay"&&(this.scope.autoplay?this.enableAutoplay():this.disableAutoplay()),t==="drag"&&(this.scope.drag?this.enableDesktopDragscroll():this.disableDesktopDragscroll()),t==="touchScroll"&&(this.scope.touchScroll?this.enableTouchScroll():this.disableTouchScroll()),(t==="controls"||t==="controlsPosition")&&this.setControlsOptions(),(t==="indicators"||t==="indicatorsPosition")&&this.setIndicatorsOptions()}disconnectedCallback(){this.removeEventListeners()}template(){return!vt(this)||this.hasOnlyTemplateChilds()?LE+this.templateControls+this.templateIndicators:(this.controlsElements.length<=0&&(this.innerHTML+=this.templateControls),this.indicatorsElement||(this.innerHTML+=this.templateIndicators),null)}};let Gn=Ga;o(Gn,"tagName","bs5-slideshow");const DE=`<ul rv-scrollbar-draggable rv-aria-orientation="optionTabsAngle" role="tablist" class="nav nav-tabs flex-scrollbar-x-auto scrollbar-y-hidden">
  <li class="nav-item" rv-each-tab="items">
    <button role="tab" class="btn btn-link nav-link" rv-class-active="tab.active" rv-id="'tab-title-' | append tab.handle" rv-aria-controls="'tab-content-' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button>
  </li>
</ul>
<div class="tab-content">
  <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="'tab-content-' | append tab.handle" rv-aria-labelledby="'tab-title-' | append tab.handle" rv-template="tab.content"></div>
</div>  
`,PE=`<div class="row">
  <div class="col-auto">
    <div class="nav flex-column nav-pills" role="tablist" rv-aria-orientation="optionTabsAngle">
      <div class="nav-item" rv-each-tab="items">
        <button class="btn btn-link nav-link" role="tab" rv-class-active="tab.active" rv-id="'tab-title-' | append tab.handle" rv-aria-controls="'tab-content-' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button>
      </div>
    </div>
  </div>
  <div class="col-auto">
    <div class="tab-content">
      <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="'tab-content-' | append tab.handle" rv-aria-labelledby="'tab-title-' | append tab.handle" rv-template="tab.content"></div>
    </div>  
  </div>
</div>
`,th=Dr.read,Za=class extends ca{constructor(){super();o(this,"templateAttributes",[{name:"title",required:!0},{name:"handle",required:!1},{name:"type",required:!1},{name:"active",required:!1},{name:"index",required:!1}]);o(this,"scope",{items:new Array,activate:this.activate,deactivate:this.deactivate,deactivateAll:this.deactivateAll,optionTabsAutoHeight:!1,optionTabsAngle:"horizontal"});o(this,"tabs");o(this,"tabPanes");o(this,"scrollable");o(this,"onResize",je(this._onResize.bind(this)))}static get observedAttributes(){return["option-tabs-auto-height","option-tabs-angle","tab-0-title","tab-0-content","tab-0-handle","tab-1-title","tab-1-content","tab-1-handle","tab-2-title","tab-2-content","tab-2-handle","tab-3-title","tab-3-content","tab-3-handle","tab-4-title","tab-4-content","tab-4-handle","tab-5-title","tab-5-content","tab-5-handle","tab-6-title","tab-6-content","tab-6-handle","tab-7-title","tab-7-content","tab-7-handle","tab-8-title","tab-8-content","tab-8-handle","tab-9-title","tab-9-content","tab-9-handle","tab-10-title","tab-10-content","tab-10-handle","tab-11-title","tab-11-content","tab-11-handle","tab-12-title","tab-12-content","tab-12-handle","tab-13-title","tab-13-content","tab-13-handle","tab-14-title","tab-14-content","tab-14-handle","tab-15-title","tab-15-content","tab-15-handle","tab-16-title","tab-16-content","tab-16-handle","tab-17-title","tab-17-content","tab-17-handle","tab-18-title","tab-18-content","tab-18-handle","tab-19-title","tab-19-content","tab-19-handle"]}_onResize(){this.setHeight()}setHeight(){if(this.scope.optionTabsAutoHeight)return;this.setElements();let t=0;this.tabPanes&&(this.tabPanes.forEach(s=>{if(!s.style)return;s.style.height="auto",s.style.display="block";const n=s.offsetHeight||0;n>t&&(t=n)}),this.tabPanes.forEach(s=>{s.style&&(s.style.display="",t>0&&(s.style.height=t+"px"))}))}deactivateAll(){for(let t=0;t<this.scope.items.length;t++){const s=this.scope.items[t];this.deactivate(s)}}deactivate(t){t.active=!1;const s=this.getTabContentChildByIndex(t.index);s&&this.triggerVisibilityChangedForElement(s,t.active)}activate(t){this.deactivateAll(),t.active=!0;const s=this.getTabContentChildByIndex(t.index);s&&this.triggerVisibilityChangedForElement(s,t.active)}activateFirstTab(){this.scope.items.length>0&&this.activate(this.scope.items[0])}getTabContentChildByIndex(t){return this.querySelector(`.tab-content .tab-pane:nth-child(${t+1}) > *`)||void 0}triggerVisibilityChangedForElement(t,s){setTimeout(()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:s}}))},200)}connectedCallback(){super.connectedCallback(),this.initTabs(),this.activateFirstTab(),this.init(Za.observedAttributes)}disconnectedCallback(){this.tabs&&this.tabs.forEach(t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler)}),window.removeEventListener("resize",this.onResize)}setElements(){this.tabs=this.querySelectorAll('[role="tab"]'),this.tabPanes=this.querySelectorAll('[role="tabpanel"]'),this.scrollable=this.querySelector("[scrollable]")}resizeTabsArray(t){for(;t>this.scope.items.length;)this.scope.items.push({handle:"",title:"",content:"",active:!1,index:this.scope.items.length-1})}onTabShownEventHandler(t){const s=t.target||t.srcElement;if(s&&this.scrollable){const n=s.getBoundingClientRect(),r=this.scrollable.scrollLeft||0+n.left;this.scrollable.scrollLeft=r}}initTabs(){this.setElements(),this.tabs&&this.tabs.forEach(t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler),t.addEventListener("shown.bs.tab",this.onTabShownEventHandler)}),this.scope.optionTabsAutoHeight&&(window.removeEventListener("resize",this.onResize),window.addEventListener("resize",this.onResize,{passive:!0}),this.setHeight())}addTabByAttribute(t,s){const n=Number(t.replace(/[^0-9]/g,""));n>=this.scope.items.length&&this.resizeTabsArray(n+1),this.scope.items[n].index=n,t.endsWith("Content")&&(this.scope.items[n].content=s),t.endsWith("Title")&&(this.scope.items[n].title=s,this.scope.items[n].handle=this.scope.items[n].handle||th(this.scope.items[n].title)),t.endsWith("Handle")&&(this.scope.items[n].handle=s),this.scope.items.length>0&&this.scope.items[0]&&this.scope.items[0].content.length>0&&this.scope.items[0].title.length>0&&this.scope.items[0].handle.length>0&&this.activateFirstTab()}transformTemplateAttributes(t,s){return t=super.transformTemplateAttributes(t,s),!t.handle&&t.title&&(t.handle=th(t.title)),t.active=t.active||!1,t}parsedAttributeChangedCallback(t,s,n,r){super.parsedAttributeChangedCallback(t,s,n,r),t.startsWith("tab")&&(this.addTabByAttribute(t,n),this.initTabs())}async afterBind(){setTimeout(()=>{this.scope.optionTabsAutoHeight&&this.setHeight()},500),await super.afterBind()}template(){return!vt(this)||this.hasOnlyTemplateChilds()?this.scope.optionTabsAngle==="horizontal"?DE:PE:null}};let Zn=Za;o(Zn,"tagName","bs5-tabs");const RE=`<img>
<tag
  rv-each-tag="tags"
  rv-index="tag.index"
  rv-style-left="tag.left"
  rv-style-top="tag.top"
  rv-shape="tag.shape"
  rv-color="tag.color"
  rv-style---tag-color="tag.color"
  rv-style---tag-border-radius="tag.borderRadius"
  rv-style---tag-full-size="tag.fullSize"
  rv-style---tag-small-size="tag.smallSize"
  rv-bs5-popover="fillPopoverOptions | call tag.popoverOptions"
  rv-on-bound.bs.popover="onPopoverBound"
  rv-on-shown.bs.popover="onPopoverShown"
  rv-on-hidden.bs.popover="onPopoverHidden"
  rv-tabindex="triggerOnFocus | call tag.popoverOptions"
>
</tag>
`,Xa=class extends J{constructor(){super();o(this,"autobind",!0);o(this,"_debug",!0);o(this,"image");o(this,"scope",{debug:!1,tags:[],options:{popoverOptions:{},multiPopover:!1,tagOptions:{}},fillPopoverOptions:t=>({...this.scope.options.popoverOptions,...this.scope.options.tagOptions.popoverOptions,...t}),triggerOnFocus:t=>this.scope.fillPopoverOptions(t).trigger?0:null,onClick:this.onClick.bind(this),onPopoverBound:this.onPopoverBound.bind(this),onPopoverShown:this.onPopoverShown.bind(this),onPopoverHidden:this.onPopoverHidden.bind(this),updateTagPositions:jt(this.updateTagPositions.bind(this))});this.scope.options.popoverOptions.container=this}static get observedAttributes(){return["tags","options","debug"]}parsedAttributeChangedCallback(t,s,n){if(t==="options"){this.bound?this.scope.options=n:this.scope.options=Ts({deep:!0},s,n);const r=this.scope.options.popoverOptions;r&&typeof r.container=="string"&&(r.container=document.querySelector(r.container)||void 0)}}template(){return vt(this)&&this.parseChildTags(),RE}async beforeBind(){await super.beforeBind(),this.image=this.querySelector("img"),this.addEventListeners(),this.initTags()}addEventListeners(){const t=this.image;t.addEventListener("load",this.scope.updateTagPositions),window.addEventListener("resize",this.scope.updateTagPositions),t.addEventListener("click",this.scope.onClick)}async afterBind(){this.passImageAttributes(),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(Xa.observedAttributes)}disconnectedCallback(){this.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.updateTagPositions)}parseColor(t){return t.startsWith("--")?`var(${t})`:t.startsWith("bs-")?`var(--${t})`:t}parseChildTags(){this.debug("parseChildTags()");for(const t of Array.from(this.querySelectorAll("tag"))){const s=t.getAttribute("title")||"",n=t.innerHTML,r=(b=>isNaN(b)?Math.random():b)(parseFloat(t.getAttribute("x")||"")),a=(b=>isNaN(b)?Math.random():b)(parseFloat(t.getAttribute("y")||"")),l=t.getAttribute("shape")||void 0;let c=t.getAttribute("color")||void 0;c&&(c=this.parseColor(c));const f=t.getAttribute("border-radius")||void 0,g=t.getAttribute("full-size")||void 0,u=t.getAttribute("small-size")||void 0,v={...this.scope.options.tagOptions,popoverOptions:this.scope.fillPopoverOptions({title:s,content:n,html:!0}),x:r,y:a,shape:l,color:c,borderRadius:f,fullSize:g,smallSize:u};this.scope.tags.push(v)}}initTags(){const t=this.scope.options.tagOptions;for(const[s,n]of this.scope.tags.entries())n.index=s,n.shape=n.shape||t.shape,n.borderRadius=n.borderRadius||t.borderRadius,n.smallSize=n.smallSize||t.smallSize,n.fullSize=n.fullSize||t.fullSize,n.color=n.color||t.color}passImageAttributes(){const t=this.image,s=this.attributes;for(let n=s.length-1;n>=0;n--)s[n].name.startsWith("img-")&&t.setAttribute(s[n].name.substr(4),s[n].value)}onClick(t){if(this.scope.debug){const s=this.image,{clientTop:n,clientLeft:r,width:a,height:l,naturalWidth:c,naturalHeight:f}=s,{clientX:g,clientY:u}=t;let v=g-r,b=u-n;const _=a/c,S=l/f;let w=a,p=l;_<S?(w=a*S/_,v+=(w-a)/2):S<_&&(p=l*_/S,b+=(p-l)/2),v*=100/w,b*=100/p,console.log({x:v,y:b})}}onPopoverBound(t){const s=t.target.getAttribute("index");if(s===null)throw new Error("popup bound on no index");const n=parseInt(s);if(isNaN(n))throw new Error(`boundIndex "${s}" is not a number!`);const r=this.scope.tags.find(a=>a.index===n);if(r)r.el=t.target;else throw new Error(`Tag with index (${n}, "${s}") not found`)}onPopoverShown(t){var s,n;for(const r of this.scope.tags)r.el===t.target?r.el.classList.add("active"):this.scope.options.multiPopover||((s=r.el)==null||s.classList.remove("active"),(n=r.el)==null||n.dispatchEvent(new CustomEvent("trigger-hide")))}onPopoverHidden(t){var n;const s=this.scope.tags.find(r=>r.el===t.target);s&&((n=s.el)==null||n.classList.remove("active"))}updateTagPositions(){const t=this.image,{width:s,height:n,naturalWidth:r,naturalHeight:a}=t,l=r/s,c=a/n,f=window.getComputedStyle(t).getPropertyValue("object-fit");if(f==="cover"&&l>c||f==="contain"&&c>l)for(const g of this.scope.tags)g.top=g.y*100+"%",g.left=(l/c*(g.x-.5)+.5)*100+"%";else if(f==="cover"||f==="contain")for(const g of this.scope.tags)g.left=g.x*100+"%",g.top=(c/l*(g.y-.5)+.5)*100+"%";else for(const g of this.scope.tags)g.left=g.x*100+"%",g.top=g.y*100+"%"}};let Xn=Xa;o(Xn,"tagName","bs5-tagged-image");const ME=function(i){var e=Object.prototype.hasOwnProperty;i.merge=t;function t(v,b){if(arguments.length===1){for(var _=v[0],S=1;S<v.length;S++)_=t(_,v[S]);return _}for(var w in b)if(w==="class"){var p=v[w]||[];v[w]=(Array.isArray(p)?p:[p]).concat(b[w]||[])}else if(w==="style"){var p=a(v[w]);p=p&&p[p.length-1]!==";"?p+";":p;var E=a(b[w]);E=E&&E[E.length-1]!==";"?E+";":E,v[w]=p+E}else v[w]=b[w];return v}i.classes=r;function s(v,b){for(var _="",S,w="",p=Array.isArray(b),E=0;E<v.length;E++)S=r(v[E]),S&&(p&&b[E]&&(S=g(S)),_=_+w+S,w=" ");return _}function n(v){var b="",_="";for(var S in v)S&&v[S]&&e.call(v,S)&&(b=b+_+S,_=" ");return b}function r(v,b){return Array.isArray(v)?s(v,b):v&&typeof v=="object"?n(v):v||""}i.style=a;function a(v){if(!v)return"";if(typeof v=="object"){var b="";for(var _ in v)e.call(v,_)&&(b=b+_+":"+v[_]+";");return b}else return v+""}i.attr=l;function l(v,b,_,S){if(b===!1||b==null||!b&&(v==="class"||v==="style"))return"";if(b===!0)return" "+(S?v:v+'="'+v+'"');var w=typeof b;return(w==="object"||w==="function")&&typeof b.toJSON=="function"&&(b=b.toJSON()),typeof b!="string"&&(b=JSON.stringify(b),!_&&b.indexOf('"')!==-1)?" "+v+"='"+b.replace(/'/g,"&#39;")+"'":(_&&(b=g(b))," "+v+'="'+b+'"')}i.attrs=c;function c(v,b){var _="";for(var S in v)if(e.call(v,S)){var w=v[S];if(S==="class"){w=r(w),_=l(S,w,!1,b)+_;continue}S==="style"&&(w=a(w)),_+=l(S,w,!1,b)}return _}var f=/["&<>]/;i.escape=g;function g(v){var b=""+v,_=f.exec(b);if(!_)return v;var S="",w,p,E;for(w=_.index,p=0;w<b.length;w++){switch(b.charCodeAt(w)){case 34:E="&quot;";break;case 38:E="&amp;";break;case 60:E="&lt;";break;case 62:E="&gt;";break;default:continue}p!==w&&(S+=b.substring(p,w)),p=w+1,S+=E}return p!==w?S+b.substring(p,w):S}i.rethrow=u;function u(v,b,_,S){if(!(v instanceof Error))throw v;if((typeof window<"u"||!b)&&!S)throw v.message+=" on line "+_,v;try{S=S||require("fs").readFileSync(b,"utf8")}catch(L){u(v,null,_)}var T=3,w=S.split(`
`),p=Math.max(_-T,0),E=Math.min(w.length,_+T),T=w.slice(p,E).map(function(L,A){var N=A+p+1;return(N==_?"  > ":"    ")+N+"| "+L}).join(`
`);throw v.path=b,v.message=(b||"Pug")+":"+_+`
`+T+`

`+v.message,v}return i}({});function $E(i){var e="",t,s;try{var n={};e=e+`<select class="form-select form-select" id="theme" rv-if="mode | eq 'dropdown'" rv-on-change="selectTheme" rv-value="selected" aria-label="Select a theme">`,e=e+'<option rv-each-choice="choices" rv-value="choice" rv-html="labels | get choice"></option></select>',e=e+`<button class="btn btn-icon" rv-if="mode | eq 'icon'" rv-on-click="toggleTheme" aria-label="Toggle light/dark theme">`,e=e+'<bs5-icon class="d-td-none" rv-co-src="lightIconSrc" rv-co-size="iconSize"></bs5-icon>',e=e+'<bs5-icon class="d-tl-none" rv-co-src="darkIconSrc" rv-co-size="iconSize"></bs5-icon></button>'}catch(r){ME.rethrow(r,t,s,n[t])}return e}const Qa=class extends J{constructor(){super();o(this,"theme");o(this,"scope",{mode:"dropdown",labels:{"theme-os":"OS","theme-light":"Light","theme-dark":"Dark"},lightIconSrc:"/iconset/svg/icon_sun.svg",darkIconSrc:"/iconset/svg/icon_moon.svg",iconSize:32,setTheme:this.setTheme.bind(this),selectTheme:this.selectTheme.bind(this),toggleTheme:this.toggleTheme.bind(this),selected:void 0,choices:ga});this.theme=Ui.getSingleton()}static get observedAttributes(){return["mode","labels","light-icon-src","icon-size","dark-icon-src"]}connectedCallback(){super.connectedCallback(),this.init(Qa.observedAttributes),this.addEventListeners(),this.initTheme()}addEventListeners(){this.theme.onChange(t=>{this.onChange(t)})}onChange(t){this.scope.selected=t.newValue.choice}async beforeBind(){this.initTheme()}initTheme(){var n;const t=(n=this.getElementsByTagName("select"))==null?void 0:n.item(0),s=this.theme.init();this.scope.selected=s.choice||void 0,t&&this.theme.select(this.scope.selected,t)}setTheme(t){this.theme.set(t)}selectTheme(){this.scope.selected&&this.theme.set(this.scope.selected)}toggleTheme(){const t=this.theme.get();t.isDark?t.supported&&t.systemIsLight?this.theme.set("theme-os"):this.theme.set("theme-light"):t.supported&&t.systemIsDark?this.theme.set("theme-os"):this.theme.set("theme-dark")}template(){return vt(this)?null:$E(this.scope)}};let Qn=Qa;o(Qn,"tagName","bs5-theme-button");const BE=`<div class="toast my-1" rv-add-class="toast.contextualClass | prepend 'toast-'" role="alert" aria-live="assertive" aria-atomic="true">
  <div class="toast-header" rv-show="toast.title">
    <bs5-icon rv-if="iconUrl" rv-src="iconUrl" size="16" rv-color="toast.contextualClass" class="me-2" alt="toast icon"></bs5-icon>
    <strong class="me-auto" rv-template="toast.title"></strong>
    <button type="button" class="ms-2 mb-1 btn-close" rv-on-click="dismiss" aria-label="Close"></button>
  </div>
  <div class="toast-body" rv-template="toast.message"></div>
</div>`,Ja=class extends J{constructor(){super();o(this,"_debug",!1);o(this,"autobind",!0);o(this,"toastService");o(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this),toast:void 0})}static get observedAttributes(){return["toast","icon-url","index"]}requiredAttributes(){return["toast"]}connectedCallback(){super.connectedCallback(),this.init(Ja.observedAttributes)}async afterBind(){this.initToast(),await super.afterBind()}initToast(){const t=this.scope.toast,s=this.firstElementChild;t&&s&&(this.toastService=new Nt(s,{delay:t.delay!==void 0?t.delay:5e3,autohide:t.autoHide!==void 0?t.autoHide:!0,animation:t.animation!==void 0?t.animation:!0}),s.addEventListener(Nt.EVENT_HIDDEN,this.scope.onHidden,{once:!0}),this.toastService.show())}dismiss(){var t;(t=this.toastService)==null||t.hide()}onHidden(t,s){var r;s||(s=Ir(t));const n=((r=this.scope.$parent)==null?void 0:r.$parent)||null;typeof(n==null?void 0:n.onItemHide)=="function"&&this.scope.toast&&s&&n.onItemHide(t,s,this.scope.index,this.scope.toast)}template(){return BE}};let Jn=Ja;o(Jn,"tagName","bs5-toast-item");const tl=class extends J{constructor(){super();o(this,"autobind",!0);o(this,"_debug",!1);o(this,"eventDispatcher");o(this,"lifecycleEvents",Y.getInstance("lifecycle"));o(this,"scope",{targetId:void 0,toggle:this.toggle,state:"undefined",isActive:!0,isClosed:!1});this.lifecycleEvents.once("ComponentLifecycle:allBound",this.onAllComponentsReady,this)}static get observedAttributes(){return["target-id"]}requiredAttributes(){return["target-id"]}toggle(){this.debug("toggle",this.eventDispatcher),this.eventDispatcher&&this.eventDispatcher.trigger(j.eventNames.toggle,this.scope.targetId)}onAllComponentsReady(){var t;this.debug("onAllComponentsReady"),(t=this.eventDispatcher)==null||t.trigger(j.eventNames.init,this.scope.targetId)}async afterBind(){await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(tl.observedAttributes)}onToggledEvent(t){this.scope.state=t,this.scope.isActive=t!=="hidden"&&t!=="removed",this.scope.isClosed=!this.scope.isActive}initEventDispatcher(t){this.eventDispatcher&&this.eventDispatcher.off(j.eventNames.toggled,this.onToggledEvent,this);const s=j.nsPrefix+t;this.debug(`Init event dispatcher for namespace  ${s}`),this.eventDispatcher=new Y(s),this.eventDispatcher.on(j.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher.on(j.eventNames.state,this.onToggledEvent,this)}async attributeChangedCallback(t,s,n,r){super.attributeChangedCallback(t,s,n,r)}parsedAttributeChangedCallback(t,s,n,r){super.parsedAttributeChangedCallback(t,s,n,r),t==="targetId"&&n&&this.initEventDispatcher(n)}disconnectedCallback(){super.disconnectedCallback(),this.eventDispatcher&&this.eventDispatcher.off(j.eventNames.toggled,this.onToggledEvent,this)}template(){return vt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}};let tr=tl;o(tr,"tagName","bs5-toggle-button");const HE=Object.freeze(Object.defineProperty({__proto__:null,Bs5AccordionComponent:Bn,Bs5ButtonComponent:Hn,Bs5CarouselComponent:Fn,Bs5CollapseComponent:zn,Bs5ColorPickerComponent:Un,Bs5ContentsComponent:Wi,Bs5DropdownComponent:zi,Bs5FormComponent:Wn,Bs5IconComponent:Pi,Bs5ModalItemComponent:Vn,Bs5NavbarComponent:jn,Bs5NotificationContainerComponent:qn,Bs5ScrollspyComponent:Yn,Bs5ShareComponent:Ri,Bs5SidebarComponent:Kn,Bs5SlideshowComponent:Gn,Bs5TabsComponent:Zn,Bs5TaggedImageComponent:Xn,Bs5ThemeButtonComponent:Qn,Bs5ToastItemComponent:Jn,Bs5ToggleButtonComponent:tr},Symbol.toStringTag,{value:"Module"})),FE=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),zE={binders:mE,services:pE,formatters:FE,components:HE,constants:Kg,init(i={}){const e=Ts({deep:!0,keepValues:!0},i,Er);return Ce.setSingleton(e),this}};class Gu{constructor(e,t){o(this,"_overlayUIUpdated",!1);o(this,"_controlsVisible",!0);o(this,"_fullscreenAPI",null);o(this,"_controls");o(this,"_captionContainer");o(this,"_fakeCaptionContainer");o(this,"_indexIndicator");o(this,"_shareButton");o(this,"_shareModal");o(this,"_shareModalHidden",!0);o(this,"_initialCloseOnScrollValue");o(this,"_isIdle");o(this,"_listen");o(this,"_galleryHasOneSlide");o(this,"_options",{});o(this,"_defaultUIOptions",{barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},captionEl:!0,counterEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,indexIndicatorSep:" / ",fitControlsWidth:1200});o(this,"_blockControlsTap");o(this,"_blockControlsTapTimeout");o(this,"_idleInterval");o(this,"_idleTimer");o(this,"_idleIncrement",0);o(this,"_uiElements",[{name:"caption",option:"captionEl",onInit:e=>{this._captionContainer=e}},{name:"counter",option:"counterEl",onInit:e=>{this._indexIndicator=e}}]);o(this,"updateFullscreen",this._updateFullscreen.bind(this));this.pswp=e,this.framework=t,this.pswp=e,this.framework=t,this._listen=this.pswp.listen}_onControlsTap(e){if(this._blockControlsTap)return!0;e=e||window.event,this._options.timeToIdle&&this._options.mouseUsed&&!this._isIdle&&this._onIdleMouseMove();const t=e.target||e.srcElement;let s;const n=(t==null?void 0:t.getAttribute("class"))||"";let r;for(let a=0;a<this._uiElements.length;a++)s=this._uiElements[a],s.onTap&&n.indexOf("pswp__"+s.name)>-1&&(s.onTap(),r=!0);if(r){e.stopPropagation&&e.stopPropagation(),this._blockControlsTap=!0;const a=this.framework.features.isOldAndroid?600:30;this._blockControlsTapTimeout=window.setTimeout(()=>{this._blockControlsTap=!1},a)}}_fitControlsInViewport(){return!this.pswp.likelyTouchDevice||this._options.mouseUsed||screen.width>(this._options.fitControlsWidth||0)}_togglePswpClass(e,t,s){this.framework[(s?"add":"remove")+"Class"](e,"pswp__"+t)}_countNumItems(){const e=!!(this._options.getNumItemsFn&&this._options.getNumItemsFn()===1);e!==this._galleryHasOneSlide&&(this._controls?this._togglePswpClass(this._controls,"ui--one-slide",e):console.warn("_controls not found!"),this._galleryHasOneSlide=e)}_onIdleMouseMove(){this._idleTimer&&clearTimeout(this._idleTimer),this._idleIncrement=0,this._isIdle&&this.setIdle(!1)}_onMouseLeaveWindow(e){e=e||window.event;const t=(e==null?void 0:e.relatedTarget)||(e==null?void 0:e.toElement);(!t||t.nodeName==="HTML")&&(this._idleTimer&&clearTimeout(this._idleTimer),this._idleTimer=window.setTimeout(()=>{this.setIdle(!0)},this._options.timeToIdleOutside))}_setupFullscreenAPI(){this.framework.features.isOldAndroid||(this._fullscreenAPI||(this._fullscreenAPI=this.getFullscreenAPI()),this._fullscreenAPI?(this.framework.bind(document,this._fullscreenAPI.eventK,this.updateFullscreen),this.updateFullscreen(),this.framework.addClass(this.pswp.template,"pswp--supports-fs")):this.framework.removeClass(this.pswp.template,"pswp--supports-fs"))}_applyNavBarGaps(e){const t=e.vGap;if(!t)throw new Error("gap is undefined");if(this._fitControlsInViewport()){const s=this._options.barsSize;if(this._options.captionEl&&s&&s.bottom==="auto")if(this._fakeCaptionContainer||(this._fakeCaptionContainer=this.framework.createEl("pswp__caption pswp__caption--fake"),this._fakeCaptionContainer?(this._fakeCaptionContainer.appendChild(this.framework.createEl("pswp__caption__center")),this._controls?this._captionContainer?this._controls.insertBefore(this._fakeCaptionContainer,this._captionContainer):console.warn("_captionContainer not found!"):console.warn("_controls not found!")):console.warn("Can't create _fakeCaptionContainer"),this.framework.addClass(this._controls,"pswp__ui--fit")),this._options&&this._options.addCaptionHTMLFn&&this._fakeCaptionContainer&&this._options.addCaptionHTMLFn(e,this._fakeCaptionContainer,!0)){const n=this._fakeCaptionContainer.clientHeight;t.bottom=parseInt(n.toString(),10)||44}else t.bottom=s.top;else t.bottom=(s==null?void 0:s.bottom)==="auto"?0:s==null?void 0:s.bottom;t.top=(s==null?void 0:s.top)||0}else t.top=t.bottom=0}_setupIdle(){this._options.timeToIdle&&this._listen("mouseUsed",()=>{this.framework.bind(document,"mousemove",this._onIdleMouseMove.bind(this)),this.framework.bind(document,"mouseout",this._onMouseLeaveWindow.bind(this)),this._idleInterval=window.setInterval(()=>{this._idleIncrement++,this._idleIncrement===2&&this.setIdle(!0)},(this._options.timeToIdle||0)/2)})}_setupHidingControlsDuringGestures(){this._listen("onVerticalDrag",t=>{this._controlsVisible&&t<.95?this.hideControls():!this._controlsVisible&&t>=.95&&this.showControls()});let e;this._listen("onPinchClose",t=>{this._controlsVisible&&t<.9?(this.hideControls(),e=!0):e&&!this._controlsVisible&&t>.9&&this.showControls()}),this._listen("zoomGestureEnded",()=>{e=!1,e&&!this._controlsVisible&&this.showControls()})}_setupUIElements(){var a;let e,t,s;const n=l=>{if(!l)return;const c=l.length;for(let f=0;f<c;f++)if(e=l.item(f),!!e){t=e.className;for(let g=0;g<this._uiElements.length;g++)s=this._uiElements[g],t.indexOf("pswp__"+s.name)>-1&&this._options[s.option]&&typeof s.onInit=="function"&&s.onInit(e)}};(a=this._controls)!=null&&a.children?n(this._controls.children):console.warn("Can't loop through _controls!");const r=this.framework.getChildByClass(this._controls,"pswp__top-bar");r&&n(r.children)}init(){this.framework.extend(this.pswp.options,this._defaultUIOptions,!0),this._options=this.pswp.options,this._controls=this.framework.getChildByClass(this.pswp.scrollWrap,"pswp__ui"),this._listen=this.pswp.listen,this._setupHidingControlsDuringGestures(),this._listen("beforeChange",this.update.bind(this)),this._listen("doubleTap",e=>{const t=this.pswp.currItem.initialZoomLevel||1;if(this.pswp.getZoomLevel()!==t)this.pswp.zoomTo(t,e,333);else{const s=this._options.getDoubleTapZoom?this._options.getDoubleTapZoom(!1,this.pswp.currItem):0;this.pswp.zoomTo(s,e,333)}}),this._listen("preventDragEvent",(e,t,s)=>{const n=e.target||e.srcElement;n&&n.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(n.classList.contains("__caption")||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(s.prevent=!1)}),this._listen("bindEvents",()=>{this.framework.bind(this._controls,"pswpTap click",this._onControlsTap.bind(this)),this.framework.bind(this.pswp.scrollWrap,"pswpTap",this.onGlobalTap.bind(this))}),this._listen("unbindEvents",()=>{this._idleInterval&&clearInterval(this._idleInterval),this.framework.unbind(document,"mouseout",this._onMouseLeaveWindow),this.framework.unbind(document,"mousemove",this._onIdleMouseMove),this.framework.unbind(this._controls,"pswpTap click",this._onControlsTap),this.framework.unbind(this.pswp.scrollWrap,"pswpTap",this.onGlobalTap),this._fullscreenAPI&&(this.framework.unbind(document,this._fullscreenAPI.eventK,this.updateFullscreen),this._fullscreenAPI.isFullscreen()&&(this._options.hideAnimationDuration=0,this._fullscreenAPI.exit()),this._fullscreenAPI=null)}),this._listen("destroy",()=>{var e;this._options.captionEl&&(this._fakeCaptionContainer&&((e=this._controls)==null||e.removeChild(this._fakeCaptionContainer)),this.framework.removeClass(this._captionContainer,"pswp__caption--empty")),this._shareModal&&this._shareModal.children[0]&&(this._shareModal.children[0].onclick=null),this.framework.addClass(this._controls,"pswp__ui--hidden"),this.setIdle(!1)}),this._options.showAnimationDuration||this.framework.removeClass(this._controls,"pswp__ui--hidden"),this._listen("initialZoomIn",()=>{this._options.showAnimationDuration&&this.framework.removeClass(this._controls,"pswp__ui--hidden")}),this._listen("initialZoomOut",()=>{this.framework.addClass(this._controls,"pswp__ui--hidden")}),this._listen("parseVerticalMargin",this._applyNavBarGaps.bind(this)),this._setupUIElements(),this._countNumItems(),this._setupIdle(),this._setupFullscreenAPI()}setIdle(e){this._isIdle=e,this._controls&&this._togglePswpClass(this._controls,"ui--idle",e)}update(){this._controlsVisible&&this.pswp.currItem?(this.updateIndexIndicator(),this._options.captionEl&&this._options.addCaptionHTMLFn&&(this._captionContainer?(this._options.addCaptionHTMLFn(this.pswp.currItem,this._captionContainer),this._togglePswpClass(this._captionContainer,"caption--empty",!this.pswp.currItem.title)):console.warn("_captionContainer not found!")),this._overlayUIUpdated=!0):this._overlayUIUpdated=!1,this._countNumItems()}_updateFullscreen(e){var t;e&&window.setTimeout(()=>{this.pswp.setScrollOffset(0,this.framework.getScrollY())},50),this.framework[((t=this._fullscreenAPI)!=null&&t.isFullscreen()?"add":"remove")+"Class"](this.pswp.template,"pswp--fs")}updateIndexIndicator(){if(this._options.counterEl){let e=0;this._options.getNumItemsFn&&(e=this._options.getNumItemsFn()),this._indexIndicator?this._indexIndicator.innerHTML=this.pswp.getCurrentIndex()+1+(this._options.indexIndicatorSep||"/")+e:console.warn("_indexIndicator not found!")}}onGlobalTap(e){e=e||window.event;const t=(e==null?void 0:e.target)||(e==null?void 0:e.srcElement)||null;this._blockControlsTap||(e&&e.detail&&e.detail.pointerType==="mouse"&&t?this.framework.hasClass(t,"pswp__img")&&(this.pswp.getZoomLevel()===1&&this.pswp.getZoomLevel()<=(this.pswp.currItem.fitRatio||0)?this._options.clickToCloseNonZoomable&&this.pswp.close():this.pswp.toggleDesktopZoom(e.detail.releasePoint)):this._options.tapToToggleControls&&(this._controlsVisible?this.hideControls():this.showControls()))}hideControls(){this.framework.addClass(this._controls,"pswp__ui--hidden"),this._controlsVisible=!1}showControls(){this._controlsVisible=!0,this._overlayUIUpdated||this.update(),this.framework.removeClass(this._controls,"pswp__ui--hidden")}supportsFullscreen(){return Qs.supported()}getFullscreenAPI(){const e=Qs.getSingleton();return{enterK:e.enterK,exitK:e.exitK,elementK:e.elementK,eventK:e.eventK,enter:()=>(this._initialCloseOnScrollValue=this._options.closeOnScroll,this._options.closeOnScroll=!1,e.enter(this.pswp.template)),exit:()=>(this._options.closeOnScroll=this._initialCloseOnScrollValue,e.exit()),isFullscreen:e.isFullscreen,toggle:function(t){if(this.isFullscreen()){this.exit();return}else this.enter(t)}}}}class Cr{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of PhotoswipeService not defined, please call setSingleton first!")}static setSingleton(e={}){if(this.instance)throw new Error("Singleton of PhotoswipeService already defined!");return this._options=e,this.instance=new this,this.instance}}o(Cr,"_options"),o(Cr,"instance");const UE=Object.freeze(Object.defineProperty({__proto__:null,PhotoSwipeUI:Gu,PhotoswipeService:Cr},Symbol.toStringTag,{value:"Module"})),WE=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),eh=`<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <div class="pswp__bar-left">
                    <div class="pswp__counter" rv-show="showCounter">
                        {currItem.index | plus 1} / {items.length}
                    </div>
                </div>

                <div class="pswp__bar-middle">
                </div>


                <div class="pswp__bar-right">

                    <bs5-share rv-show="controlShareIconShow" rv-parent type="image"
                        rv-co-title="currItem.title" rv-co-url="currItem.src" rv-co-media-url="currItem.src"
                        rv-co-text="shareText" rv-co-label="shareLabel"
                        rv-co-dropdown-direction="shareDropdownDirection" rv-co-label-facebook="shareLabelFacebook"
                        rv-co-label-Twitter="shareLabelTwitter" rv-co-label-Pinterest="shareLabelPinterest"
                        rv-co-label-whatsapp="shareLabelWhatsapp" rv-co-label-telegram="shareLabelTelegram"
                        rv-co-label-email="shareLabelEmail" rv-co-label-download="shareLabelDownload"
                        rv-co-label-clipboard="shareLabelClipboard">
                        <div class="share-label" rv-on-click="share">
                            <bs5-icon class="share-label m-2" rv-size="$parent.controlShareIconSize"
                                rv-src="$parent.controlShareIconSrc"></bs5-icon>
                        </div>
                    </bs5-share>

                    <bs5-icon rv-hide="isZoomed" rv-size="controlZoomInIconSize" size="32" rv-on-click="toggleZoom"
                        class="btn btn-icon" rv-if="controlZoomInIconShow | and isZoomAllowed"
                        rv-src="controlZoomInIconSrc" title="Zoom in"></bs5-icon>
                    <bs5-icon rv-show="isZoomed" rv-size="controlZoomOutIconSize" rv-on-click="toggleZoom"
                        class="btn btn-icon" rv-if="controlZoomOutIconShow | and isZoomAllowed"
                        rv-src="controlZoomOutIconSrc" title="Zoom out"></bs5-icon>

                    <bs5-icon rv-hide="isFullscreen" rv-size="controlFullscreenOnIconSize"
                        rv-on-click="toggleFullscreen" class="btn btn-icon" rv-if="controlFullscreenOnIconShow"
                        rv-src="controlFullscreenOnIconSrc" title="Go to fullscreen"></bs5-icon>
                    <bs5-icon rv-show="isFullscreen" rv-size="controlFullscreenOffIconSize"
                        rv-on-click="toggleFullscreen" class="btn btn-icon" rv-if="controlFullscreenOffIconShow"
                        rv-src="controlFullscreenOffIconSrc" title="Leave fullscreen"></bs5-icon>

                    <bs5-icon rv-on-click="close" rv-size="controlCloseIconSize" class="btn btn-icon"
                        rv-if="controlCloseIconShow" rv-src="controlCloseIconSrc" title="Close (Esc)"></bs5-icon>
                </div>

            </div>

            <div class="pswp__bottom-bar">
                <div class="pswp__bottom-bar-left">

                </div>
                <div class="pswp__bottom-bar-middle" rv-show="showCaption">
                    <div class="pswp__caption">
                        <div class="pswp__caption__center" rv-html="currItem.title"></div>
                    </div>
                    
                </div>
                <div class="pswp__bottom-bar-right">
                    
                </div>
            </div>

            <bs5-icon rv-size="controlPrevIconSize" rv-on-click="prev" direction="left"
                class="btn btn-icon pswp-control-prev" rv-if="controlPrevIconShow" rv-src="controlPrevIconSrc"
                title="Previous (arrow left)"></bs5-icon>

            <bs5-icon rv-size="controlPrevIconSize" rv-on-click="next" direction="right"
                class="btn btn-icon pswp-control-next" rv-if="controlNextIconShow" rv-src="controlNextIconSrc"
                title="Next (arrow right)"></bs5-icon>

        </div>

    </div>

</div>`;var ra={},VE={get exports(){return ra},set exports(i){ra=i}};/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */(function(i,e){(function(t,s){i.exports=s()})(Rr,function(){var t=function(s,n,r,a){var l={features:null,bind:function(h,d,m,y){var C=(y?"remove":"add")+"EventListener";d=d.split(" ");for(var I=0;I<d.length;I++)d[I]&&h[C](d[I],m,!1)},isArray:function(h){return h instanceof Array},createEl:function(h,d){var m=document.createElement(d||"div");return h&&(m.className=h),m},getScrollY:function(){var h=window.pageYOffset;return h!==void 0?h:document.documentElement.scrollTop},unbind:function(h,d,m){l.bind(h,d,m,!0)},removeClass:function(h,d){var m=new RegExp("(\\s|^)"+d+"(\\s|$)");h.className=h.className.replace(m," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(h,d){l.hasClass(h,d)||(h.className+=(h.className?" ":"")+d)},hasClass:function(h,d){return h.className&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(h.className)},getChildByClass:function(h,d){for(var m=h.firstChild;m;){if(l.hasClass(m,d))return m;m=m.nextSibling}},arraySearch:function(h,d,m){for(var y=h.length;y--;)if(h[y][m]===d)return y;return-1},extend:function(h,d,m){for(var y in d)if(d.hasOwnProperty(y)){if(m&&h.hasOwnProperty(y))continue;h[y]=d[y]}},easing:{sine:{out:function(h){return Math.sin(h*(Math.PI/2))},inOut:function(h){return-(Math.cos(Math.PI*h)-1)/2}},cubic:{out:function(h){return--h*h*h+1}}},detectFeatures:function(){if(l.features)return l.features;var h=l.createEl(),d=h.style,m="",y={};if(y.oldIE=document.all&&!document.addEventListener,y.touch="ontouchstart"in window,window.requestAnimationFrame&&(y.raf=window.requestAnimationFrame,y.caf=window.cancelAnimationFrame),y.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!y.pointerEvent){var C=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var I=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);I&&I.length>0&&(I=parseInt(I[1],10),I>=1&&I<8&&(y.isOldIOSPhone=!0))}var D=C.match(/Android\s([0-9\.]*)/),z=D?D[1]:0;z=parseFloat(z),z>=1&&(z<4.4&&(y.isOldAndroid=!0),y.androidVersion=z),y.isMobileOpera=/opera mini|opera mobi/i.test(C)}for(var M=["transform","perspective","animationName"],U=["","webkit","Moz","ms","O"],it,ne,be=0;be<4;be++){m=U[be];for(var $s=0;$s<3;$s++)it=M[$s],ne=m+(m?it.charAt(0).toUpperCase()+it.slice(1):it),!y[it]&&ne in d&&(y[it]=ne);m&&!y.raf&&(m=m.toLowerCase(),y.raf=window[m+"RequestAnimationFrame"],y.raf&&(y.caf=window[m+"CancelAnimationFrame"]||window[m+"CancelRequestAnimationFrame"]))}if(!y.raf){var Ci=0;y.raf=function(re){var go=new Date().getTime(),vo=Math.max(0,16-(go-Ci)),_f=window.setTimeout(function(){re(go+vo)},vo);return Ci=go+vo,_f},y.caf=function(re){clearTimeout(re)}}return y.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,l.features=y,y}};l.detectFeatures(),l.features.oldIE&&(l.bind=function(h,d,m,y){d=d.split(" ");for(var C=(y?"detach":"attach")+"Event",I,D=function(){m.handleEvent.call(m)},z=0;z<d.length;z++)if(I=d[z],I)if(typeof m=="object"&&m.handleEvent){if(!y)m["oldIE"+I]=D;else if(!m["oldIE"+I])return!1;h[C]("on"+I,m["oldIE"+I])}else h[C]("on"+I,m)});var c=this,f=25,g=3,u={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(h){return h.tagName==="A"},getDoubleTapZoom:function(h,d){return h||d.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};l.extend(u,a);var v=function(){return{x:0,y:0}},b,_,S,w,p,E,T=v(),L=v(),A=v(),N,R,B,H={},O,K,nt,et,Gt,Mt,st=0,rt={},ot=v(),X,Xe,ut=0,Qt,pe,$t,bt,Bt,At,Ht=!0,Ct,hi=[],Ie,di,ui,ln,fi,Jt,G,Qe={},me=!1,Zt,te=function(h,d){l.extend(c,d.publicMethods),hi.push(h)},Je=function(h){var d=It();return h>d-1?h-d:h<0?d+h:h},xe={},Q=function(h,d){return xe[h]||(xe[h]=[]),xe[h].push(d)},F=function(h){var d=xe[h];if(d){var m=Array.prototype.slice.call(arguments);m.shift();for(var y=0;y<d.length;y++)d[y].apply(c,m)}},kt=function(){return new Date().getTime()},Ft=function(h){mn=h,c.bg.style.opacity=h*u.bgOpacity},pi=function(h,d,m,y,C){(!me||C&&C!==c.currItem)&&(y=y/(C?C.fitRatio:c.currItem.fitRatio)),h[Bt]=nt+d+"px, "+m+"px"+et+" scale("+y+")"},ht=function(h){se&&(h&&(O>c.currItem.fitRatio?me||(os(c.currItem,!1,!0),me=!0):me&&(os(c.currItem),me=!1)),pi(se,A.x,A.y,O))},mi=function(h){h.container&&pi(h.container.style,h.initialPosition.x,h.initialPosition.y,h.initialZoomLevel,h)},Is=function(h,d){d[Bt]=nt+h+"px, 0px"+et},cn=function(h,d){if(!u.loop&&d){var m=w+(ot.x*st-h)/ot.x,y=Math.round(h-ve.x);(m<0&&y>0||m>=It()-1&&y<0)&&(h=ve.x+y*u.mainScrollEndFriction)}ve.x=h,Is(h,p)},qr=function(h,d){var m=_i[h]-rt[h];return L[h]+T[h]+m-m*(d/K)},yt=function(h,d){h.x=d.x,h.y=d.y,d.id&&(h.id=d.id)},al=function(h){h.x=Math.round(h.x),h.y=Math.round(h.y)},Yr=null,Kr=function(){Yr&&(l.unbind(document,"mousemove",Kr),l.addClass(s,"pswp--has_mouse"),u.mouseUsed=!0,F("mouseUsed")),Yr=setTimeout(function(){Yr=null},100)},Qu=function(){l.bind(document,"keydown",c),G.transform&&l.bind(c.scrollWrap,"click",c),u.mouseUsed||l.bind(document,"mousemove",Kr),l.bind(window,"resize scroll orientationchange",c),F("bindEvents")},Ju=function(){l.unbind(window,"resize scroll orientationchange",c),l.unbind(window,"scroll",B.scroll),l.unbind(document,"keydown",c),l.unbind(document,"mousemove",Kr),G.transform&&l.unbind(c.scrollWrap,"click",c),ee&&l.unbind(window,N,c),clearTimeout(Zt),F("unbindEvents")},Gr=function(h,d){var m=Ti(c.currItem,H,h);return d&&($=m),m},ll=function(h){return h||(h=c.currItem),h.initialZoomLevel},cl=function(h){return h||(h=c.currItem),h.w>0?u.maxSpreadZoom:1},hl=function(h,d,m,y){return y===c.currItem.initialZoomLevel?(m[h]=c.currItem.initialPosition[h],!0):(m[h]=qr(h,y),m[h]>d.min[h]?(m[h]=d.min[h],!0):m[h]<d.max[h]?(m[h]=d.max[h],!0):!1)},tf=function(){if(Bt){var h=G.perspective&&!Ct;nt="translate"+(h?"3d(":"("),et=G.perspective?", 0px)":")";return}Bt="left",l.addClass(s,"pswp--ie"),Is=function(d,m){m.left=d+"px"},mi=function(d){var m=d.fitRatio>1?1:d.fitRatio,y=d.container.style,C=m*d.w,I=m*d.h;y.width=C+"px",y.height=I+"px",y.left=d.initialPosition.x+"px",y.top=d.initialPosition.y+"px"},ht=function(){if(se){var d=se,m=c.currItem,y=m.fitRatio>1?1:m.fitRatio,C=y*m.w,I=y*m.h;d.width=C+"px",d.height=I+"px",d.left=A.x+"px",d.top=A.y+"px"}}},ef=function(h){var d="";u.escKey&&h.keyCode===27?d="close":u.arrowKeys&&(h.keyCode===37?d="prev":h.keyCode===39&&(d="next")),d&&!h.ctrlKey&&!h.altKey&&!h.shiftKey&&!h.metaKey&&(h.preventDefault?h.preventDefault():h.returnValue=!1,c[d]())},sf=function(h){h&&(Ds||is||St||wi)&&(h.preventDefault(),h.stopPropagation())},dl=function(){c.setScrollOffset(0,l.getScrollY())},Lt={},xs=0,gi=function(h){Lt[h]&&(Lt[h].raf&&di(Lt[h].raf),xs--,delete Lt[h])},Zr=function(h){Lt[h]&&gi(h),Lt[h]||(xs++,Lt[h]={})},vi=function(){for(var h in Lt)Lt.hasOwnProperty(h)&&gi(h)},bi=function(h,d,m,y,C,I,D){var z=kt(),M;Zr(h);var U=function(){if(Lt[h]){if(M=kt()-z,M>=y){gi(h),I(m),D&&D();return}I((m-d)*C(M/y)+d),Lt[h].raf=Ie(U)}};U()},nf={shout:F,listen:Q,viewportSize:H,options:u,isMainScrollAnimating:function(){return St},getZoomLevel:function(){return O},getCurrentIndex:function(){return w},isDragging:function(){return ee},isZooming:function(){return ge},setScrollOffset:function(h,d){rt.x=h,Jt=rt.y=d,F("updateScrollOffset",rt)},applyZoomPan:function(h,d,m,y){A.x=d,A.y=m,O=h,ht(y)},init:function(){if(!(b||_)){var h;c.framework=l,c.template=s,c.bg=l.getChildByClass(s,"pswp__bg"),ui=s.className,b=!0,G=l.detectFeatures(),Ie=G.raf,di=G.caf,Bt=G.transform,fi=G.oldIE,c.scrollWrap=l.getChildByClass(s,"pswp__scroll-wrap"),c.container=l.getChildByClass(c.scrollWrap,"pswp__container"),p=c.container.style,c.itemHolders=X=[{el:c.container.children[0],wrap:0,index:-1},{el:c.container.children[1],wrap:0,index:-1},{el:c.container.children[2],wrap:0,index:-1}],X[0].el.style.display=X[2].el.style.display="none",tf(),B={resize:c.updateSize,orientationchange:function(){clearTimeout(Zt),Zt=setTimeout(function(){H.x!==c.scrollWrap.clientWidth&&c.updateSize()},500)},scroll:dl,keydown:ef,click:sf};var d=G.isOldIOSPhone||G.isOldAndroid||G.isMobileOpera;for((!G.animationName||!G.transform||d)&&(u.showAnimationDuration=u.hideAnimationDuration=0),h=0;h<hi.length;h++)c["init"+hi[h]]();if(n){var m=c.ui=new n(c,l);m.init()}F("firstUpdate"),w=w||u.index||0,(isNaN(w)||w<0||w>=It())&&(w=0),c.currItem=Me(w),(G.isOldIOSPhone||G.isOldAndroid)&&(Ht=!1),s.setAttribute("aria-hidden","false"),u.modal&&(Ht?s.style.position="fixed":(s.style.position="absolute",s.style.top=l.getScrollY()+"px")),Jt===void 0&&(F("initialLayout"),Jt=ln=l.getScrollY());var y="pswp--open ";for(u.mainClass&&(y+=u.mainClass+" "),u.showHideOpacity&&(y+="pswp--animate_opacity "),y+=Ct?"pswp--touch":"pswp--notouch",y+=G.animationName?" pswp--css_animation":"",y+=G.svg?" pswp--svg":"",l.addClass(s,y),c.updateSize(),E=-1,ut=null,h=0;h<g;h++)Is((h+E)*ot.x,X[h].el.style);fi||l.bind(c.scrollWrap,R,c),Q("initialZoomInEnd",function(){c.setContent(X[0],w-1),c.setContent(X[2],w+1),X[0].el.style.display=X[2].el.style.display="block",u.focus&&s.focus(),Qu()}),c.setContent(X[1],w),c.updateCurrItem(),F("afterInit"),Ht||(Gt=setInterval(function(){!xs&&!ee&&!ge&&O===c.currItem.initialZoomLevel&&c.updateSize()},1e3)),l.addClass(s,"pswp--visible")}},close:function(){b&&(b=!1,_=!0,F("close"),Ju(),Sl(c.currItem,null,!0,c.destroy))},destroy:function(){F("destroy"),ns&&clearTimeout(ns),s.setAttribute("aria-hidden","true"),s.className=ui,Gt&&clearInterval(Gt),l.unbind(c.scrollWrap,R,c),l.unbind(window,"scroll",c),so(),vi(),xe=null},panTo:function(h,d,m){m||(h>$.min.x?h=$.min.x:h<$.max.x&&(h=$.max.x),d>$.min.y?d=$.min.y:d<$.max.y&&(d=$.max.y)),A.x=h,A.y=d,ht()},handleEvent:function(h){h=h||window.event,B[h.type]&&B[h.type](h)},goTo:function(h){h=Je(h);var d=h-w;ut=d,w=h,c.currItem=Me(w),st-=d,cn(ot.x*st),vi(),St=!1,c.updateCurrItem()},next:function(){c.goTo(w+1)},prev:function(){c.goTo(w-1)},updateCurrZoomItem:function(h){if(h&&F("beforeChange",0),X[1].el.children.length){var d=X[1].el.children[0];l.hasClass(d,"pswp__zoom-wrap")?se=d.style:se=null}else se=null;$=c.currItem.bounds,K=O=c.currItem.initialZoomLevel,A.x=$.center.x,A.y=$.center.y,h&&F("afterChange")},invalidateCurrItems:function(){Mt=!0;for(var h=0;h<g;h++)X[h].item&&(X[h].item.needsUpdate=!0)},updateCurrItem:function(h){if(ut!==0){var d=Math.abs(ut),m;if(!(h&&d<2)){c.currItem=Me(w),me=!1,F("beforeChange",ut),d>=g&&(E+=ut+(ut>0?-g:g),d=g);for(var y=0;y<d;y++)ut>0?(m=X.shift(),X[g-1]=m,E++,Is((E+2)*ot.x,m.el.style),c.setContent(m,w-d+y+1+1)):(m=X.pop(),X.unshift(m),E--,Is(E*ot.x,m.el.style),c.setContent(m,w+d-y-1-1));if(se&&Math.abs(ut)===1){var C=Me(Xe);C.initialZoomLevel!==O&&(Ti(C,H),os(C),mi(C))}ut=0,c.updateCurrZoomItem(),Xe=w,F("afterChange")}}},updateSize:function(h){if(!Ht&&u.modal){var d=l.getScrollY();if(Jt!==d&&(s.style.top=d+"px",Jt=d),!h&&Qe.x===window.innerWidth&&Qe.y===window.innerHeight)return;Qe.x=window.innerWidth,Qe.y=window.innerHeight,s.style.height=Qe.y+"px"}if(H.x=c.scrollWrap.clientWidth,H.y=c.scrollWrap.clientHeight,dl(),ot.x=H.x+Math.round(H.x*u.spacing),ot.y=H.y,cn(ot.x*st),F("beforeResize"),E!==void 0){for(var m,y,C,I=0;I<g;I++)m=X[I],Is((I+E)*ot.x,m.el.style),C=w+I-1,u.loop&&It()>2&&(C=Je(C)),y=Me(C),y&&(Mt||y.needsUpdate||!y.bounds)?(c.cleanSlide(y),c.setContent(m,C),I===1&&(c.currItem=y,c.updateCurrZoomItem(!0)),y.needsUpdate=!1):m.index===-1&&C>=0&&c.setContent(m,C),y&&y.container&&(Ti(y,H),os(y),mi(y));Mt=!1}K=O=c.currItem.initialZoomLevel,$=c.currItem.bounds,$&&(A.x=$.center.x,A.y=$.center.y,ht(!0)),F("resize")},zoomTo:function(h,d,m,y,C){d&&(K=O,_i.x=Math.abs(d.x)-A.x,_i.y=Math.abs(d.y)-A.y,yt(L,A));var I=Gr(h,!1),D={};hl("x",I,D,h),hl("y",I,D,h);var z=O,M={x:A.x,y:A.y};al(D);var U=function(it){it===1?(O=h,A.x=D.x,A.y=D.y):(O=(h-z)*it+z,A.x=(D.x-M.x)*it+M.x,A.y=(D.y-M.y)*it+M.y),C&&C(it),ht(it===1)};m?bi("customZoomTo",0,1,m,y||l.easing.sine.inOut,U):U(1)}},ul=30,Xr=10,fl,hn,wt={},ts={},Et={},_t={},Os={},Oe=[],es={},yi,ss=[],Ns={},Qr,wi,Ei,dn=0,un=v(),Jr=0,ee,to,is,Ds,fn,Ne,zt,ge,pl,$,ve=v(),se,St,_i=v(),Ps=v(),De,eo,pn,mn,gn,rf=function(h,d){return h.x===d.x&&h.y===d.y},of=function(h,d){return Math.abs(h.x-d.x)<f&&Math.abs(h.y-d.y)<f},ml=function(h,d){return Ns.x=Math.abs(h.x-d.x),Ns.y=Math.abs(h.y-d.y),Math.sqrt(Ns.x*Ns.x+Ns.y*Ns.y)},so=function(){fn&&(di(fn),fn=null)},gl=function(){ee&&(fn=Ie(gl),uf())},af=function(){return!(u.scaleMode==="fit"&&O===c.currItem.initialZoomLevel)},vl=function(h,d){return!h||h===document||h.getAttribute("class")&&h.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:d(h)?h:vl(h.parentNode,d)},io={},bl=function(h,d){return io.prevent=!vl(h.target,u.isClickableElement),F("preventDragEvent",h,d,io),io.prevent},yl=function(h,d){return d.x=h.pageX,d.y=h.pageY,d.id=h.identifier,d},wl=function(h,d,m){m.x=(h.x+d.x)*.5,m.y=(h.y+d.y)*.5},lf=function(h,d,m){if(h-hn>50){var y=ss.length>2?ss.shift():{};y.x=d,y.y=m,ss.push(y),hn=h}},El=function(){var h=A.y-c.currItem.initialPosition.y;return 1-Math.abs(h/(H.y/2))},Si={},cf={},Pe=[],vn,no=function(h){for(;Pe.length>0;)Pe.pop();return At?(vn=0,Oe.forEach(function(d){vn===0?Pe[0]=d:vn===1&&(Pe[1]=d),vn++})):h.type.indexOf("touch")>-1?h.touches&&h.touches.length>0&&(Pe[0]=yl(h.touches[0],Si),h.touches.length>1&&(Pe[1]=yl(h.touches[1],cf))):(Si.x=h.pageX,Si.y=h.pageY,Si.id="",Pe[0]=Si),Pe},_l=function(h,d){var m,y=A[h]+d[h],C,I=d[h]>0,D=ve.x+d.x,z=ve.x-es.x,M,U;if(y>$.min[h]||y<$.max[h]?m=u.panEndFriction:m=1,y=A[h]+d[h]*m,(u.allowPanToNext||O===c.currItem.initialZoomLevel)&&(se?De==="h"&&h==="x"&&!is&&(I?(y>$.min[h]&&(m=u.panEndFriction,$.min[h]-y,C=$.min[h]-L[h]),(C<=0||z<0)&&It()>1?(U=D,z<0&&D>es.x&&(U=es.x)):$.min.x!==$.max.x&&(M=y)):(y<$.max[h]&&(m=u.panEndFriction,y-$.max[h],C=L[h]-$.max[h]),(C<=0||z>0)&&It()>1?(U=D,z>0&&D<es.x&&(U=es.x)):$.min.x!==$.max.x&&(M=y))):U=D,h==="x"))return U!==void 0&&(cn(U,!0),U===es.x?Ne=!1:Ne=!0),$.min.x!==$.max.x&&(M!==void 0?A.x=M:Ne||(A.x+=d.x*m)),U!==void 0;St||Ne||O>c.currItem.fitRatio&&(A[h]+=d[h]*m)},hf=function(h){if(!(h.type==="mousedown"&&h.button>0)){if(Rs){h.preventDefault();return}if(!(Ei&&h.type==="mousedown")){if(bl(h,!0)&&h.preventDefault(),F("pointerDown"),At){var d=l.arraySearch(Oe,h.pointerId,"id");d<0&&(d=Oe.length),Oe[d]={x:h.pageX,y:h.pageY,id:h.pointerId}}var m=no(h),y=m.length;zt=null,vi(),(!ee||y===1)&&(ee=eo=!0,l.bind(window,N,c),Qr=gn=pn=wi=Ne=Ds=to=is=!1,De=null,F("firstTouchStart",m),yt(L,A),T.x=T.y=0,yt(_t,m[0]),yt(Os,_t),es.x=ot.x*st,ss=[{x:_t.x,y:_t.y}],hn=fl=kt(),Gr(O,!0),so(),gl()),!ge&&y>1&&!St&&!Ne&&(K=O,is=!1,ge=to=!0,T.y=T.x=0,yt(L,A),yt(wt,m[0]),yt(ts,m[1]),wl(wt,ts,Ps),_i.x=Math.abs(Ps.x)-A.x,_i.y=Math.abs(Ps.y)-A.y,pl=ml(wt,ts))}}},df=function(h){if(h.preventDefault(),At){var d=l.arraySearch(Oe,h.pointerId,"id");if(d>-1){var m=Oe[d];m.x=h.pageX,m.y=h.pageY}}if(ee){var y=no(h);if(!De&&!Ds&&!ge)if(ve.x!==ot.x*st)De="h";else{var C=Math.abs(y[0].x-_t.x)-Math.abs(y[0].y-_t.y);Math.abs(C)>=Xr&&(De=C>0?"h":"v",zt=y)}else zt=y}},uf=function(){if(zt){var h=zt.length;if(h!==0)if(yt(wt,zt[0]),Et.x=wt.x-_t.x,Et.y=wt.y-_t.y,ge&&h>1){if(_t.x=wt.x,_t.y=wt.y,!Et.x&&!Et.y&&rf(zt[1],ts))return;yt(ts,zt[1]),is||(is=!0,F("zoomGestureStarted"));var d=ml(wt,ts),m=vf(d);m>c.currItem.initialZoomLevel+c.currItem.initialZoomLevel/15&&(gn=!0);var y=1,C=ll(),I=cl();if(m<C)if(u.pinchToClose&&!gn&&K<=c.currItem.initialZoomLevel){var D=C-m,z=1-D/(C/1.2);Ft(z),F("onPinchClose",z),pn=!0}else y=(C-m)/C,y>1&&(y=1),m=C-y*(C/3);else m>I&&(y=(m-I)/(C*6),y>1&&(y=1),m=I+y*C);y<0&&(y=0),wl(wt,ts,un),T.x+=un.x-Ps.x,T.y+=un.y-Ps.y,yt(Ps,un),A.x=qr("x",m),A.y=qr("y",m),Qr=m>O,O=m,ht()}else{if(!De||(eo&&(eo=!1,Math.abs(Et.x)>=Xr&&(Et.x-=zt[0].x-Os.x),Math.abs(Et.y)>=Xr&&(Et.y-=zt[0].y-Os.y)),_t.x=wt.x,_t.y=wt.y,Et.x===0&&Et.y===0))return;if(De==="v"&&u.closeOnVerticalDrag&&!af()){T.y+=Et.y,A.y+=Et.y;var M=El();wi=!0,F("onVerticalDrag",M),Ft(M),ht();return}lf(kt(),wt.x,wt.y),Ds=!0,$=c.currItem.bounds;var U=_l("x",Et);U||(_l("y",Et),al(A),ht())}}},ff=function(h){if(G.isOldAndroid){if(Ei&&h.type==="mouseup")return;h.type.indexOf("touch")>-1&&(clearTimeout(Ei),Ei=setTimeout(function(){Ei=0},600))}F("pointerUp"),bl(h,!1)&&h.preventDefault();var d;if(At){var m=l.arraySearch(Oe,h.pointerId,"id");if(m>-1)if(d=Oe.splice(m,1)[0],navigator.msPointerEnabled){var y={4:"mouse",2:"touch",3:"pen"};d.type=y[h.pointerType],d.type||(d.type=h.pointerType||"mouse")}else d.type=h.pointerType||"mouse"}var C=no(h),I,D=C.length;if(h.type==="mouseup"&&(D=0),D===2)return zt=null,!0;D===1&&yt(Os,C[0]),D===0&&!De&&!St&&(d||(h.type==="mouseup"?d={x:h.pageX,y:h.pageY,type:"mouse"}:h.changedTouches&&h.changedTouches[0]&&(d={x:h.changedTouches[0].pageX,y:h.changedTouches[0].pageY,type:"touch"})),F("touchRelease",h,d));var z=-1;if(D===0&&(ee=!1,l.unbind(window,N,c),so(),ge?z=0:Jr!==-1&&(z=kt()-Jr)),Jr=D===1?kt():-1,z!==-1&&z<150?I="zoom":I="swipe",ge&&D<2&&(ge=!1,D===1&&(I="zoomPointerUp"),F("zoomGestureEnded")),zt=null,!(!Ds&&!is&&!St&&!wi)){if(vi(),yi||(yi=pf()),yi.calculateSwipeSpeed("x"),wi){var M=El();if(M<u.verticalDragRange)c.close();else{var U=A.y,it=mn;bi("verticalDrag",0,1,300,l.easing.cubic.out,function(be){A.y=(c.currItem.initialPosition.y-U)*be+U,Ft((1-it)*be+it),ht()}),F("onVerticalDrag",1)}return}if((Ne||St)&&D===0){var ne=gf(I,yi);if(ne)return;I="zoomPointerUp"}if(!St){if(I!=="swipe"){bf();return}!Ne&&O>c.currItem.fitRatio&&mf(yi)}}},pf=function(){var h,d,m={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(y){ss.length>1?(h=kt()-hn+50,d=ss[ss.length-2][y]):(h=kt()-fl,d=Os[y]),m.lastFlickOffset[y]=_t[y]-d,m.lastFlickDist[y]=Math.abs(m.lastFlickOffset[y]),m.lastFlickDist[y]>20?m.lastFlickSpeed[y]=m.lastFlickOffset[y]/h:m.lastFlickSpeed[y]=0,Math.abs(m.lastFlickSpeed[y])<.1&&(m.lastFlickSpeed[y]=0),m.slowDownRatio[y]=.95,m.slowDownRatioReverse[y]=1-m.slowDownRatio[y],m.speedDecelerationRatio[y]=1},calculateOverBoundsAnimOffset:function(y,C){m.backAnimStarted[y]||(A[y]>$.min[y]?m.backAnimDestination[y]=$.min[y]:A[y]<$.max[y]&&(m.backAnimDestination[y]=$.max[y]),m.backAnimDestination[y]!==void 0&&(m.slowDownRatio[y]=.7,m.slowDownRatioReverse[y]=1-m.slowDownRatio[y],m.speedDecelerationRatioAbs[y]<.05&&(m.lastFlickSpeed[y]=0,m.backAnimStarted[y]=!0,bi("bounceZoomPan"+y,A[y],m.backAnimDestination[y],C||300,l.easing.sine.out,function(I){A[y]=I,ht()}))))},calculateAnimOffset:function(y){m.backAnimStarted[y]||(m.speedDecelerationRatio[y]=m.speedDecelerationRatio[y]*(m.slowDownRatio[y]+m.slowDownRatioReverse[y]-m.slowDownRatioReverse[y]*m.timeDiff/10),m.speedDecelerationRatioAbs[y]=Math.abs(m.lastFlickSpeed[y]*m.speedDecelerationRatio[y]),m.distanceOffset[y]=m.lastFlickSpeed[y]*m.speedDecelerationRatio[y]*m.timeDiff,A[y]+=m.distanceOffset[y])},panAnimLoop:function(){if(Lt.zoomPan&&(Lt.zoomPan.raf=Ie(m.panAnimLoop),m.now=kt(),m.timeDiff=m.now-m.lastNow,m.lastNow=m.now,m.calculateAnimOffset("x"),m.calculateAnimOffset("y"),ht(),m.calculateOverBoundsAnimOffset("x"),m.calculateOverBoundsAnimOffset("y"),m.speedDecelerationRatioAbs.x<.05&&m.speedDecelerationRatioAbs.y<.05)){A.x=Math.round(A.x),A.y=Math.round(A.y),ht(),gi("zoomPan");return}}};return m},mf=function(h){if(h.calculateSwipeSpeed("y"),$=c.currItem.bounds,h.backAnimDestination={},h.backAnimStarted={},Math.abs(h.lastFlickSpeed.x)<=.05&&Math.abs(h.lastFlickSpeed.y)<=.05)return h.speedDecelerationRatioAbs.x=h.speedDecelerationRatioAbs.y=0,h.calculateOverBoundsAnimOffset("x"),h.calculateOverBoundsAnimOffset("y"),!0;Zr("zoomPan"),h.lastNow=kt(),h.panAnimLoop()},gf=function(h,d){var m;St||(dn=w);var y;if(h==="swipe"){var C=_t.x-Os.x,I=d.lastFlickDist.x<10;C>ul&&(I||d.lastFlickOffset.x>20)?y=-1:C<-ul&&(I||d.lastFlickOffset.x<-20)&&(y=1)}var D;y&&(w+=y,w<0?(w=u.loop?It()-1:0,D=!0):w>=It()&&(w=u.loop?0:It()-1,D=!0),(!D||u.loop)&&(ut+=y,st-=y,m=!0));var z=ot.x*st,M=Math.abs(z-ve.x),U;return!m&&z>ve.x!=d.lastFlickSpeed.x>0?U=333:(U=Math.abs(d.lastFlickSpeed.x)>0?M/Math.abs(d.lastFlickSpeed.x):333,U=Math.min(U,400),U=Math.max(U,250)),dn===w&&(m=!1),St=!0,F("mainScrollAnimStart"),bi("mainScroll",ve.x,z,U,l.easing.cubic.out,cn,function(){vi(),St=!1,dn=-1,(m||dn!==w)&&c.updateCurrItem(),F("mainScrollAnimComplete")}),m&&c.updateCurrItem(!0),m},vf=function(h){return 1/pl*h*K},bf=function(){var h=O,d=ll(),m=cl();O<d?h=d:O>m&&(h=m);var y=1,C,I=mn;return pn&&!Qr&&!gn&&O<d?(c.close(),!0):(pn&&(C=function(D){Ft((y-I)*D+I)}),c.zoomTo(h,0,200,l.easing.cubic.out,C),!0)};te("Gestures",{publicMethods:{initGestures:function(){var h=function(d,m,y,C,I){Qt=d+m,pe=d+y,$t=d+C,I?bt=d+I:bt=""};At=G.pointerEvent,At&&G.touch&&(G.touch=!1),At?navigator.msPointerEnabled?h("MSPointer","Down","Move","Up","Cancel"):h("pointer","down","move","up","cancel"):G.touch?(h("touch","start","move","end","cancel"),Ct=!0):h("mouse","down","move","up"),N=pe+" "+$t+" "+bt,R=Qt,At&&!Ct&&(Ct=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),c.likelyTouchDevice=Ct,B[Qt]=hf,B[pe]=df,B[$t]=ff,bt&&(B[bt]=B[$t]),G.touch&&(R+=" mousedown",N+=" mousemove mouseup",B.mousedown=B[Qt],B.mousemove=B[pe],B.mouseup=B[$t]),Ct||(u.allowPanToNext=!1)}}});var ns,Sl=function(h,d,m,y){ns&&clearTimeout(ns),Rs=!0,ro=!0;var C;h.initialLayout?(C=h.initialLayout,h.initialLayout=null):C=u.getThumbBoundsFn&&u.getThumbBoundsFn(w);var I=m?u.hideAnimationDuration:u.showAnimationDuration,D=function(){gi("initialZoom"),m?(c.template.removeAttribute("style"),c.bg.removeAttribute("style")):(Ft(1),d&&(d.style.display="block"),l.addClass(s,"pswp--animated-in"),F("initialZoom"+(m?"OutEnd":"InEnd"))),y&&y(),Rs=!1};if(!I||!C||C.x===void 0){F("initialZoom"+(m?"Out":"In")),O=h.initialZoomLevel,yt(A,h.initialPosition),ht(),s.style.opacity=m?0:1,Ft(1),I?setTimeout(function(){D()},I):D();return}var z=function(){var M=S,U=!c.currItem.src||c.currItem.loadError||u.showHideOpacity;h.miniImg&&(h.miniImg.style.webkitBackfaceVisibility="hidden"),m||(O=C.w/h.w,A.x=C.x,A.y=C.y-ln,c[U?"template":"bg"].style.opacity=.001,ht()),Zr("initialZoom"),m&&!M&&l.removeClass(s,"pswp--animated-in"),U&&(m?l[(M?"remove":"add")+"Class"](s,"pswp--animate_opacity"):setTimeout(function(){l.addClass(s,"pswp--animate_opacity")},30)),ns=setTimeout(function(){if(F("initialZoom"+(m?"Out":"In")),!m)O=h.initialZoomLevel,yt(A,h.initialPosition),ht(),Ft(1),U?s.style.opacity=1:Ft(1),ns=setTimeout(D,I+20);else{var it=C.w/h.w,ne={x:A.x,y:A.y},be=O,$s=mn,Ci=function(re){re===1?(O=it,A.x=C.x,A.y=C.y-Jt):(O=(it-be)*re+be,A.x=(C.x-ne.x)*re+ne.x,A.y=(C.y-Jt-ne.y)*re+ne.y),ht(),U?s.style.opacity=1-re:Ft($s-re*$s)};M?bi("initialZoom",0,1,I,l.easing.cubic.out,Ci,D):(Ci(1),ns=setTimeout(D,I+20))}},m?25:90)};z()},Re,Ut={},rs=[],ro,Rs,yf={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Re.length}},Me,It,Tl=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},wf=function(h,d,m){var y=h.bounds;y.center.x=Math.round((Ut.x-d)/2),y.center.y=Math.round((Ut.y-m)/2)+h.vGap.top,y.max.x=d>Ut.x?Math.round(Ut.x-d):y.center.x,y.max.y=m>Ut.y?Math.round(Ut.y-m)+h.vGap.top:y.center.y,y.min.x=d>Ut.x?0:y.center.x,y.min.y=m>Ut.y?h.vGap.top:y.center.y},Ti=function(h,d,m){if(h.src&&!h.loadError){var y=!m;if(y&&(h.vGap||(h.vGap={top:0,bottom:0}),F("parseVerticalMargin",h)),Ut.x=d.x,Ut.y=d.y-h.vGap.top-h.vGap.bottom,y){var C=Ut.x/h.w,I=Ut.y/h.h;h.fitRatio=C<I?C:I;var D=u.scaleMode;D==="orig"?m=1:D==="fit"&&(m=h.fitRatio),m>1&&(m=1),h.initialZoomLevel=m,h.bounds||(h.bounds=Tl())}return m?(wf(h,h.w*m,h.h*m),y&&m===h.initialZoomLevel&&(h.initialPosition=h.bounds.center),h.bounds):void 0}else return h.w=h.h=0,h.initialZoomLevel=h.fitRatio=1,h.bounds=Tl(),h.initialPosition=h.bounds.center,h.bounds},bn=function(h,d,m,y,C,I){d.loadError||y&&(d.imageAppended=!0,os(d,y,d===c.currItem&&me),m.appendChild(y),I&&setTimeout(function(){d&&d.loaded&&d.placeholder&&(d.placeholder.style.display="none",d.placeholder=null)},500))},Al=function(h){h.loading=!0,h.loaded=!1;var d=h.img=l.createEl("pswp__img","img"),m=function(){h.loading=!1,h.loaded=!0,h.loadComplete?h.loadComplete(h):h.img=null,d.onload=d.onerror=null,d=null};return d.onload=m,d.onerror=function(){h.loadError=!0,m()},d.src=h.src,d},Cl=function(h,d){if(h.src&&h.loadError&&h.container)return d&&(h.container.innerHTML=""),h.container.innerHTML=u.errorMsg.replace("%url%",h.src),!0},os=function(h,d,m){if(h.src){d||(d=h.container.lastChild);var y=m?h.w:Math.round(h.w*h.fitRatio),C=m?h.h:Math.round(h.h*h.fitRatio);h.placeholder&&!h.loaded&&(h.placeholder.style.width=y+"px",h.placeholder.style.height=C+"px"),d.style.width=y+"px",d.style.height=C+"px"}},kl=function(){if(rs.length){for(var h,d=0;d<rs.length;d++)h=rs[d],h.holder.index===h.index&&bn(h.index,h.item,h.baseDiv,h.img,!1,h.clearPlaceholder);rs=[]}};te("Controller",{publicMethods:{lazyLoadItem:function(h){h=Je(h);var d=Me(h);!d||(d.loaded||d.loading)&&!Mt||(F("gettingData",h,d),d.src&&Al(d))},initController:function(){l.extend(u,yf,!0),c.items=Re=r,Me=c.getItemAt,It=u.getNumItemsFn,u.loop,It()<3&&(u.loop=!1),Q("beforeChange",function(h){var d=u.preload,m=h===null?!0:h>=0,y=Math.min(d[0],It()),C=Math.min(d[1],It()),I;for(I=1;I<=(m?C:y);I++)c.lazyLoadItem(w+I);for(I=1;I<=(m?y:C);I++)c.lazyLoadItem(w-I)}),Q("initialLayout",function(){c.currItem.initialLayout=u.getThumbBoundsFn&&u.getThumbBoundsFn(w)}),Q("mainScrollAnimComplete",kl),Q("initialZoomInEnd",kl),Q("destroy",function(){for(var h,d=0;d<Re.length;d++)h=Re[d],h.container&&(h.container=null),h.placeholder&&(h.placeholder=null),h.img&&(h.img=null),h.preloader&&(h.preloader=null),h.loadError&&(h.loaded=h.loadError=!1);rs=null})},getItemAt:function(h){return h>=0&&Re[h]!==void 0?Re[h]:!1},allowProgressiveImg:function(){return u.forceProgressiveLoading||!Ct||u.mouseUsed||screen.width>1200},setContent:function(h,d){u.loop&&(d=Je(d));var m=c.getItemAt(h.index);m&&(m.container=null);var y=c.getItemAt(d),C;if(!y){h.el.innerHTML="";return}F("gettingData",d,y),h.index=d,h.item=y;var I=y.container=l.createEl("pswp__zoom-wrap");if(!y.src&&y.html&&(y.html.tagName?I.appendChild(y.html):I.innerHTML=y.html),Cl(y),Ti(y,H),y.src&&!y.loadError&&!y.loaded){if(y.loadComplete=function(M){if(b){if(h&&h.index===d){if(Cl(M,!0)){M.loadComplete=M.img=null,Ti(M,H),mi(M),h.index===w&&c.updateCurrZoomItem();return}M.imageAppended?!Rs&&M.placeholder&&(M.placeholder.style.display="none",M.placeholder=null):G.transform&&(St||Rs)?rs.push({item:M,baseDiv:I,img:M.img,index:d,holder:h,clearPlaceholder:!0}):bn(d,M,I,M.img,St||Rs,!0)}M.loadComplete=null,M.img=null,F("imageLoadComplete",d,M)}},l.features.transform){var D="pswp__img pswp__img--placeholder";D+=y.msrc?"":" pswp__img--placeholder--blank";var z=l.createEl(D,y.msrc?"img":"");y.msrc&&(z.src=y.msrc),os(y,z),I.appendChild(z),y.placeholder=z}y.loading||Al(y),c.allowProgressiveImg()&&(!ro&&G.transform?rs.push({item:y,baseDiv:I,img:y.img,index:d,holder:h}):bn(d,y,I,y.img,!0,!0))}else y.src&&!y.loadError&&(C=l.createEl("pswp__img","img"),C.style.opacity=1,C.src=y.src,os(y,C),bn(d,y,I,C));!ro&&d===w?(se=I.style,Sl(y,C||y.img)):mi(y),h.el.innerHTML="",h.el.appendChild(I)},cleanSlide:function(h){h.img&&(h.img.onload=h.img.onerror=null),h.loaded=h.loading=h.img=h.imageAppended=!1}}});var $e,oo={},ao=function(h,d,m){var y=document.createEvent("CustomEvent"),C={origEvent:h,target:h.target,releasePoint:d,pointerType:m||"touch"};y.initCustomEvent("pswpTap",!0,!0,C),h.target.dispatchEvent(y)};te("Tap",{publicMethods:{initTap:function(){Q("firstTouchStart",c.onTapStart),Q("touchRelease",c.onTapRelease),Q("destroy",function(){oo={},$e=null})},onTapStart:function(h){h.length>1&&(clearTimeout($e),$e=null)},onTapRelease:function(h,d){if(d&&!Ds&&!to&&!xs){var m=d;if($e&&(clearTimeout($e),$e=null,of(m,oo))){F("doubleTap",m);return}if(d.type==="mouse"){ao(h,d,"mouse");return}var y=h.target.tagName.toUpperCase();if(y==="BUTTON"||l.hasClass(h.target,"pswp__single-tap")){ao(h,d);return}yt(oo,m),$e=setTimeout(function(){ao(h,d),$e=null},300)}}}});var xt;te("DesktopZoom",{publicMethods:{initDesktopZoom:function(){fi||(Ct?Q("mouseUsed",function(){c.setupDesktopZoom()}):c.setupDesktopZoom(!0))},setupDesktopZoom:function(h){xt={};var d="wheel mousewheel DOMMouseScroll";Q("bindEvents",function(){l.bind(s,d,c.handleMouseWheel)}),Q("unbindEvents",function(){xt&&l.unbind(s,d,c.handleMouseWheel)}),c.mouseZoomedIn=!1;var m,y=function(){c.mouseZoomedIn&&(l.removeClass(s,"pswp--zoomed-in"),c.mouseZoomedIn=!1),O<1?l.addClass(s,"pswp--zoom-allowed"):l.removeClass(s,"pswp--zoom-allowed"),C()},C=function(){m&&(l.removeClass(s,"pswp--dragging"),m=!1)};Q("resize",y),Q("afterChange",y),Q("pointerDown",function(){c.mouseZoomedIn&&(m=!0,l.addClass(s,"pswp--dragging"))}),Q("pointerUp",C),h||y()},handleMouseWheel:function(h){if(O<=c.currItem.fitRatio)return u.modal&&(!u.closeOnScroll||xs||ee?h.preventDefault():Bt&&Math.abs(h.deltaY)>2&&(S=!0,c.close())),!0;if(h.stopPropagation(),xt.x=0,"deltaX"in h)h.deltaMode===1?(xt.x=h.deltaX*18,xt.y=h.deltaY*18):(xt.x=h.deltaX,xt.y=h.deltaY);else if("wheelDelta"in h)h.wheelDeltaX&&(xt.x=-.16*h.wheelDeltaX),h.wheelDeltaY?xt.y=-.16*h.wheelDeltaY:xt.y=-.16*h.wheelDelta;else if("detail"in h)xt.y=h.detail;else return;Gr(O,!0);var d=A.x-xt.x,m=A.y-xt.y;(u.modal||d<=$.min.x&&d>=$.max.x&&m<=$.min.y&&m>=$.max.y)&&h.preventDefault(),c.panTo(d,m)},toggleDesktopZoom:function(h){h=h||{x:H.x/2+rt.x,y:H.y/2+rt.y};var d=u.getDoubleTapZoom(!0,c.currItem),m=O===d;c.mouseZoomedIn=!m,c.zoomTo(m?c.currItem.initialZoomLevel:d,h,333),l[(m?"remove":"add")+"Class"](s,"pswp--zoomed-in")}}});var Ef={history:!0,galleryUID:1},lo,Ll,Ai,yn,co,Il,dt,Ms,ho,uo,ie,fo,po=function(){return ie.hash.substring(1)},xl=function(){lo&&clearTimeout(lo),Ai&&clearTimeout(Ai)},Ol=function(){var h=po(),d={};if(h.length<5)return d;var m,y=h.split("&");for(m=0;m<y.length;m++)if(y[m]){var C=y[m].split("=");C.length<2||(d[C[0]]=C[1])}if(u.galleryPIDs){var I=d.pid;for(d.pid=0,m=0;m<Re.length;m++)if(Re[m].pid===I){d.pid=m;break}}else d.pid=parseInt(d.pid,10)-1;return d.pid<0&&(d.pid=0),d},mo=function(){if(Ai&&clearTimeout(Ai),xs||ee){Ai=setTimeout(mo,500);return}yn?clearTimeout(Ll):yn=!0;var h=w+1,d=Me(w);d.hasOwnProperty("pid")&&(h=d.pid);var m=dt+"&gid="+u.galleryUID+"&pid="+h;Ms||ie.hash.indexOf(m)===-1&&(uo=!0);var y=ie.href.split("#")[0]+"#"+m;fo?"#"+m!==window.location.hash&&history[Ms?"replaceState":"pushState"]("",document.title,y):Ms?ie.replace(y):ie.hash=m,Ms=!0,Ll=setTimeout(function(){yn=!1},60)};te("History",{publicMethods:{initHistory:function(){if(l.extend(u,Ef,!0),!!u.history){ie=window.location,uo=!1,ho=!1,Ms=!1,dt=po(),fo="pushState"in history,dt.indexOf("gid=")>-1&&(dt=dt.split("&gid=")[0],dt=dt.split("?gid=")[0]),Q("afterChange",c.updateURL),Q("unbindEvents",function(){l.unbind(window,"hashchange",c.onHashChange)});var h=function(){Il=!0,ho||(uo?history.back():dt?ie.hash=dt:fo?history.pushState("",document.title,ie.pathname+ie.search):ie.hash=""),xl()};Q("unbindEvents",function(){S&&h()}),Q("destroy",function(){Il||h()}),Q("firstUpdate",function(){w=Ol().pid});var d=dt.indexOf("pid=");d>-1&&(dt=dt.substring(0,d),dt.slice(-1)==="&"&&(dt=dt.slice(0,-1))),setTimeout(function(){b&&l.bind(window,"hashchange",c.onHashChange)},40)}},onHashChange:function(){if(po()===dt){ho=!0,c.close();return}yn||(co=!0,c.goTo(Ol().pid),co=!1)},updateURL:function(){xl(),!co&&(Ms?lo=setTimeout(mo,800):mo())}}}),l.extend(c,nf)};return t})})(VE);const el=class extends J{constructor(){super();o(this,"autobind",!0);o(this,"_debug",!1);o(this,"routerEvents",new Y("main"));o(this,"pswp");o(this,"pswpElement",null);o(this,"images",[]);o(this,"options",{getThumbBoundsFn:this.getThumbBoundsFn.bind(this),captionEl:!1,counterEl:!1,preloaderEl:!0,closeElClasses:[]});o(this,"scope",{items:[],isFullscreen:!1,isZoomed:!1,isZoomAllowed:!1,zoomLevel:0,showCounter:!1,showCaption:!0,open:this.open,openByIndex:this.openByIndex,close:this.close,next:this.next,prev:this.prev,toggleZoom:this.toggleZoom,toggleFullscreen:this.toggleFullscreen,openImageOnClick:!1,fullscreenContainerSelector:".pswp",itemsSelector:"img",controlNextIconShow:!0,controlPrevIconShow:!0,controlCloseIconShow:!0,controlZoomInIconShow:!0,controlZoomOutIconShow:!0,controlFullscreenOnIconShow:!0,controlFullscreenOffIconShow:!0,controlShareIconShow:!1,controlNextIconSrc:"",controlPrevIconSrc:"",controlCloseIconSrc:"",controlZoomInIconSrc:"",controlZoomOutIconSrc:"",controlFullscreenOnIconSrc:"",controlFullscreenOffIconSrc:"",controlShareIconSrc:"",controlNextIconSize:32,controlPrevIconSize:32,controlCloseIconSize:32,controlZoomInIconSize:32,controlZoomOutIconSize:32,controlFullscreenOnIconSize:32,controlFullscreenOffIconSize:32,controlShareIconSize:16,shareText:void 0,shareLabel:void 0,shareDropdownDirection:void 0,shareLabelFacebook:"Facebook",shareLabelTwitter:"Twitter",shareLabelPinterest:"Pinterest",shareLabelWhatsapp:"Whatsapp",shareLabelTelegram:"Telegram",shareLabelEmail:"Email",shareLabelDownload:"Download",shareLabelClipboard:"Copy to clipboard"})}static get observedAttributes(){return["open-image-on-click","fullscreen-container-selector","items-selector","show-counter","show-caption","control-next-icon-show","control-prev-icon-show","control-close-icon-show","control-zoom-in-icon-show","control-zoom-out-icon-show","control-fullscreen-on-icon-show","control-fullscreen-off-icon-show","control-share-icon-show","control-next-icon-src","control-prev-icon-src","control-close-icon-src","control-zoom-in-icon-src","control-zoom-out-icon-src","control-fullscreen-on-icon-src","control-fullscreen-off-icon-src","control-share-icon-src","control-next-icon-size","control-prev-icon-size","control-close-icon-size","control-zoom-in-icon-size","control-zoom-out-icon-size","control-fullscreen-on-icon-size","control-fullscreen-off-icon-size","control-share-icon-size","share-text","share-url","share-media-url","share-label","share-dropdown-direction","share-label-facebook","share-label-twitter","share-label-pinterest","share-label-whatsapp","share-label-telegram","share-label-email","share-label-download","share-label-clipboard"]}connectedCallback(){super.connectedCallback(),this.init(el.observedAttributes),this.addEventListeners()}async init(t){return super.init(t)}getThumbBoundsFn(t){if(!this.images)return{x:0,y:0,w:0};const s=this.images[t],n=window.pageYOffset||document.documentElement.scrollTop,r=s.getBoundingClientRect();return{x:r.left,y:r.top+n,w:r.width}}async beforeBind(){return await super.beforeBind()}closeShare(){const t=this.querySelector("bs5-share");t==null||t.dispatchEvent(new CustomEvent("close"))}openShare(){const t=this.querySelector("bs5-share");t==null||t.dispatchEvent(new CustomEvent("open"))}onBeforeChange(){this.closeShare()}onAfterChange(){var t;this.scope.currItem=(t=this.pswp)==null?void 0:t.currItem,setTimeout(()=>{this.scope.isZoomAllowed=this.isZoomAllowed()},0)}onImageLoadComplete(){}onResize(){this.scope.isZoomAllowed=this.isZoomAllowed()}onGettingData(){}onMouseUsed(){}onInitialZoomIn(){}onInitialZoomInEnd(){}onInitialZoomOut(){}onInitialZoomOutEnd(){}onParseVerticalMargin(){}onUnbindEvents(){this.closeShare()}onClose(){var t,s,n;(n=(s=(t=this.pswp)==null?void 0:t.ui)==null?void 0:s.getFullscreenAPI())==null||n.exit(),this.closeShare(),this.scope.isZoomAllowed=!1}onDestroy(){this.debug("onDestroy"),this.closeShare()}onUpdateScrollOffset(){}onPreventDragEvent(t,s,n){n.prevent=!0}openByIndex(t){return this.open(this.scope.items[t])}close(){var t;(t=this.pswp)==null||t.close()}next(){var t;(t=this.pswp)==null||t.next()}prev(){var t;(t=this.pswp)==null||t.prev()}toggleZoom(){var t,s;(t=this.pswp)==null||t.toggleDesktopZoom(),this.scope.zoomLevel=((s=this.pswp)==null?void 0:s.getZoomLevel())||1,this.scope.isZoomed=this.scope.zoomLevel<1}toggleFullscreen(){var s,n,r;const t=(n=(s=this.pswp)==null?void 0:s.ui)==null?void 0:n.getFullscreenAPI();if(!t){console.error("fullscreenAPI not found");return}t.isFullscreen()?(t.exit(),this.scope.isFullscreen=!1):(t.enter(),this.scope.isFullscreen=!0),((r=this.pswp)==null?void 0:r.ui).updateFullscreen()}openWithoutAnimation(t){const s=this.options.showAnimationDuration;this.options.showAnimationDuration=0,this.open(t),s?this.options.showAnimationDuration=s:delete this.options.showAnimationDuration}open(t){var n,r;if(this.debug("open",t,this.scope.items),!this.pswpElement){console.error(`Element with selector "${this.scope.fullscreenContainerSelector}" not found`);return}const s=this.scope.items.indexOf(t);s>=0?(this.options.index=s,this.scope.isFullscreen=!1,this.scope.isZoomed=!1,(n=t.element)!=null&&n.currentSrc&&(this.scope.items[s].msrc=t.element.currentSrc),this.pswp=new ra(this.pswpElement,Gu,this.scope.items,this.options),this.addPswpEventListeners(),this.pswp.init(),this.scope.isZoomAllowed=this.isZoomAllowed(),this.scope.currItem=(r=this.pswp)==null?void 0:r.currItem,this.debug("isZoomAllowed",this.scope.isZoomAllowed)):console.error("[bs5-photoswipe] failed to get index of item ",t)}addPswpEventListeners(){var t,s,n,r,a,l,c,f,g,u,v,b,_,S,w,p;(t=this.pswp)==null||t.listen("beforeChange",this.onBeforeChange.bind(this)),(s=this.pswp)==null||s.listen("afterChange",this.onAfterChange.bind(this)),(n=this.pswp)==null||n.listen("imageLoadComplete",this.onImageLoadComplete.bind(this)),(r=this.pswp)==null||r.listen("resize",this.onResize.bind(this)),(a=this.pswp)==null||a.listen("gettingData",this.onGettingData.bind(this)),(l=this.pswp)==null||l.listen("mouseUsed",this.onMouseUsed.bind(this)),(c=this.pswp)==null||c.listen("mouseUsed",this.onMouseUsed.bind(this)),(f=this.pswp)==null||f.listen("initialZoomIn",this.onInitialZoomIn.bind(this)),(g=this.pswp)==null||g.listen("initialZoomInEnd",this.onInitialZoomInEnd.bind(this)),(u=this.pswp)==null||u.listen("initialZoomOut",this.onInitialZoomOut.bind(this)),(v=this.pswp)==null||v.listen("initialZoomOutEnd",this.onInitialZoomOutEnd.bind(this)),(b=this.pswp)==null||b.listen("parseVerticalMargin",this.onParseVerticalMargin.bind(this)),(_=this.pswp)==null||_.listen("onUnbindEvents",this.onUnbindEvents.bind(this)),(S=this.pswp)==null||S.listen("close",this.onClose.bind(this)),(w=this.pswp)==null||w.listen("destroy",this.onDestroy.bind(this)),(p=this.pswp)==null||p.listen("updateScrollOffset",this.onUpdateScrollOffset.bind(this))}isZoomAllowed(){var t;return!!((t=this.pswpElement)!=null&&t.classList.contains("pswp--zoom-allowed"))}removeEventListeners(){if(this.scope.openImageOnClick)for(let t=0;t<this.images.length;t++)this.images[t].removeEventListener("click",this.images[t]._rv_click_listener)}onPageChanges(){this.checkHash()}addEventListeners(){if(this.scope.openImageOnClick)for(let t=0;t<this.images.length;t++)this.images[t].addEventListener("click",this.images[t]._rv_click_listener);this.routerEvents.on("newPageReady",this.onPageChanges,this)}setItems(){this.images=Array.from(this.querySelectorAll(this.scope.itemsSelector));for(let t=0;t<this.images.length;t++){this.scope.openImageOnClick&&(this.images[t]._rv_click_listener=this.openByIndex.bind(this,t));const s=this.images[t].dataset.fsSrc||this.images[t].currentSrc||this.images[t].src,n=this.images[t].dataset.fsWidth||this.images[t].width||this.images[t].naturalWidth,r=this.images[t].dataset.fsHeight||this.images[t].height||this.images[t].naturalHeight,a=this.images[t].dataset.title;if(!s||!n||!r){console.warn("[bs5-photoswipe] image element found without src, width or height. Ignoring..");continue}this.scope.items.push({src:s,msrc:this.images[t].currentSrc||this.images[t].src||s,w:Number(n),h:Number(r),title:a,element:this.images[t],index:t})}}initFullscreenTemplate(){this.pswpElement=this.querySelector(this.scope.fullscreenContainerSelector)}checkHash(){const t=this.parseHash();t.pid&&t.gid&&this.openWithoutAnimation(this.scope.items[t.pid-1])}async afterBind(){await super.afterBind(),this.setItems(),this.addEventListeners(),this.initFullscreenTemplate(),this.checkHash()}parseHash(){const t=window.location.hash.substring(1),s={};if(t.length<5)return s;const n=t.split("&");for(let r=0;r<n.length;r++){if(!n[r])continue;const a=n[r].split("=");a.length<2||(s[a[0]]=parseInt(a[1],10))}return s}requiredAttributes(){return[]}disconnectedCallback(){this.debug("disconnectedCallback"),super.disconnectedCallback(),this.removeEventListeners()}async template(){if(vt(this))return this.innerHTML+eh;{const{default:t}=await Ze(()=>import("./bs5-photoswipe.component-1e631c43.bundle.js"),[]);return t+eh}}};let er=el;o(er,"tagName","bs5-photoswipe");const jE=Object.freeze(Object.defineProperty({__proto__:null,PhotoswipeComponent:er},Symbol.toStringTag,{value:"Module"})),qE=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),YE={formatters:qE,binders:WE,services:UE,components:jE,init(i={}){return Cr.setSingleton(i),this}},KE=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Zu={name:"strapi-image",read(i,e="thumbnail"){var s,n,r,a,l,c,f,g,u,v,b;let t=(s=i==null?void 0:i.formats)==null?void 0:s.thumbnail;switch(e){case"original":return i;case"large":t=((n=i==null?void 0:i.formats)==null?void 0:n.large)||((r=i==null?void 0:i.formats)==null?void 0:r.medium)||((a=i==null?void 0:i.formats)==null?void 0:a.small)||((l=i==null?void 0:i.formats)==null?void 0:l.thumbnail);break;case"medium":t=((c=i==null?void 0:i.formats)==null?void 0:c.medium)||((f=i==null?void 0:i.formats)==null?void 0:f.small)||((g=i==null?void 0:i.formats)==null?void 0:g.thumbnail);break;case"small":t=((u=i==null?void 0:i.formats)==null?void 0:u.small)||((v=i==null?void 0:i.formats)==null?void 0:v.thumbnail);break;case"thumbnail":t=(b=i==null?void 0:i.formats)==null?void 0:b.thumbnail;break;default:throw new Error("Unknown image format: "+e+" !")}return t}},Xu={name:"strapi",read(i){var t,s,n,r,a,l;if(!i)return"";if(typeof i!="string")return console.warn(`Strapi formatter works only with strings, but got "${typeof i}"`),i;if(i.startsWith("http"))return i;let e=((t=window==null?void 0:window.env)==null?void 0:t.STRAPI_REMOTE_URL)||((n=(s=window==null?void 0:window.ssr)==null?void 0:s.env)==null?void 0:n.STRAPI_REMOTE_URL)||((r=window==null?void 0:window.env)==null?void 0:r.STRAPI_LOCAL_URL)||((l=(a=window==null?void 0:window.ssr)==null?void 0:a.env)==null?void 0:l.STRAPI_LOCAL_URL)||"";if(!e)throw new Error("[strapiFormatter] Host not found, please make sure that window.env.STRAPI_REMOTE_URL or window.ssr.env.STRAPI_LOCAL_URL is set!");return e.endsWith("/")&&(e=e.substring(0,e.length-1)),i.startsWith("/")&&(i=i.substring(1)),`${e}/${i}`}},GE={name:"strapi-image-url",read(i,e="thumbnail"){const t=Zu.read(i,e);return Xu.read(t==null?void 0:t.url)}},ZE=Object.freeze(Object.defineProperty({__proto__:null,strapiFormatter:Xu,strapiImageFormatter:Zu,strapiImageUrlFormatter:GE},Symbol.toStringTag,{value:"Module"})),XE=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),QE=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),JE={binders:KE,services:XE,formatters:ZE,components:QE,init(i={}){return this}},sl=class extends J{constructor(){super();o(this,"_debug",!1);o(this,"autobind",!0);o(this,"scope",{})}static get observedAttributes(){return[]}setStyles(){var s;if(!this.scope.colHamburgerEl)return;const t=((s=this.scope.colToolsEl)==null?void 0:s.clientWidth)||0;this.scope.colHamburgerEl.style.minWidth=`${t}px`}initEventListeners(){this.setStyles=jt(this.setStyles.bind(this))}connectedCallback(){super.connectedCallback(),this.init(sl.observedAttributes),this.initEventListeners()}requiredAttributes(){return[]}async afterAllBind(){super.afterAllBind(),this.setStyles()}template(){return null}};let sr=sl;o(sr,"tagName","mm-navbar");const il=class extends J{constructor(){super();o(this,"_debug",!1);o(this,"autobind",!0);o(this,"scope",{})}static get observedAttributes(){return[]}connectedCallback(){super.connectedCallback(),this.init(il.observedAttributes)}requiredAttributes(){return[]}template(){return null}};let ir=il;o(ir,"tagName","mm-header");const nl=class extends J{constructor(){super();o(this,"_debug",!1);o(this,"autobind",!0);o(this,"scope",{})}static get observedAttributes(){return[]}connectedCallback(){super.connectedCallback(),this.init(nl.observedAttributes)}requiredAttributes(){return[]}template(){return null}};let nr=nl;o(nr,"tagName","mm-logo");const rl=class extends J{constructor(){super();o(this,"_debug",!1);o(this,"autobind",!0);o(this,"routerEvents");o(this,"scope",{center:this.center})}static get observedAttributes(){return[]}center(){this.scope.scrollWrapperEl&&Js(this.scope.scrollWrapperEl,"center","both","auto")}connectedCallback(){super.connectedCallback(),this.init(rl.observedAttributes),this.initEventListeners()}initEventListeners(){this.routerEvents=new Y("main"),this.center=jt(this.center.bind(this)),window.addEventListener("resize",this.center,{passive:!0}),this.routerEvents.on("newPageReady",this.center,this)}removeEventListeners(){var t;window.removeEventListener("resize",this.center),(t=this.routerEvents)==null||t.off("newPageReady",this.center,this)}requiredAttributes(){return[]}async beforeBind(){super.beforeBind(),this.center()}async afterBind(){super.afterBind(),this.center()}template(){return null}};let rr=rl;o(rr,"tagName","mm-map");const t_=Object.freeze(Object.defineProperty({__proto__:null,MMHeaderComponent:ir,MMLogoComponent:nr,MMMapComponent:rr,MMNavbarComponent:sr},Symbol.toStringTag,{value:"Module"})),ol=class extends J{constructor(){super();o(this,"_debug",!1);o(this,"autobind",!0);o(this,"scope",{})}static get observedAttributes(){return[]}connectedCallback(){super.connectedCallback(),this.init(ol.observedAttributes)}requiredAttributes(){return[]}template(){return null}};let or=ol;o(or,"tagName","home-page");const e_=Object.freeze(Object.defineProperty({__proto__:null,HomePageComponent:or},Symbol.toStringTag,{value:"Module"})),s_=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),i_=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class n_{constructor(){o(this,"view");o(this,"riba",new Zs);o(this,"model",{});this.riba.configure({prefix:["rv","csr-rv"]}),this.riba.module.component.registerAll({...t_,...e_}),this.riba.module.binder.registerAll({...s_}),this.riba.module.formatter.registerAll({...i_}),this.riba.module.register($m.init()),this.riba.module.register(dg.init({defaultTransition:new Jh})),this.riba.module.register(Og.init({})),this.riba.module.register(Yg.init({})),this.riba.module.register(zE.init({allowStoreDataInBrowser:!1})),this.riba.module.register(YE.init({})),this.riba.module.register(JE.init({})),this.view=this.riba.bind(document.body,this.model),this.view.registerComponents(),this.riba.lifecycle.events.on("ComponentLifecycle:error",e=>{console.error(e)})}}Hf(()=>{new n_});export{o_ as __vite_legacy_guard};
